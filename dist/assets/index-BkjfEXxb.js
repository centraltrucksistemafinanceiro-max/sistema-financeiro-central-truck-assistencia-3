(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(u){if(u.ep)return;u.ep=!0;const d=l(u);fetch(u.href,d)}})();function rc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function mg(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var l=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};l.prototype=n.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var u=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(l,i,u.get?u:{enumerable:!0,get:function(){return r[i]}})}),l}var Du={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Hp(){if(ym)return Sl;ym=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(i,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:r,type:i,key:h,ref:u!==void 0?u:null,props:d}}return Sl.Fragment=n,Sl.jsx=l,Sl.jsxs=l,Sl}var bm;function Vp(){return bm||(bm=1,Du.exports=Hp()),Du.exports}var f=Vp(),Mu={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Gp(){if(_m)return xe;_m=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function W(S,$,F){this.props=S,this.context=$,this.refs=z,this.updater=F||k}W.prototype.isReactComponent={},W.prototype.setState=function(S,$){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,$,"setState")},W.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function I(){}I.prototype=W.prototype;function K(S,$,F){this.props=S,this.context=$,this.refs=z,this.updater=F||k}var Q=K.prototype=new I;Q.constructor=K,B(Q,W.prototype),Q.isPureReactComponent=!0;var ce=Array.isArray;function U(){}var Y={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function X(S,$,F){var ee=F.ref;return{$$typeof:r,type:S,key:$,ref:ee!==void 0?ee:null,props:F}}function H(S,$){return X(S.type,$,S.props)}function P(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function ae(S){var $={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(F){return $[F]})}var je=/\/+/g;function le(S,$){return typeof S=="object"&&S!==null&&S.key!=null?ae(""+S.key):$.toString(36)}function Ge(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(U,U):(S.status="pending",S.then(function($){S.status==="pending"&&(S.status="fulfilled",S.value=$)},function($){S.status==="pending"&&(S.status="rejected",S.reason=$)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function C(S,$,F,ee,fe){var be=typeof S;(be==="undefined"||be==="boolean")&&(S=null);var Te=!1;if(S===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(S.$$typeof){case r:case n:Te=!0;break;case b:return Te=S._init,C(Te(S._payload),$,F,ee,fe)}}if(Te)return fe=fe(S),Te=ee===""?"."+le(S,0):ee,ce(fe)?(F="",Te!=null&&(F=Te.replace(je,"$&/")+"/"),C(fe,$,F,"",function(te){return te})):fe!=null&&(P(fe)&&(fe=H(fe,F+(fe.key==null||S&&S.key===fe.key?"":(""+fe.key).replace(je,"$&/")+"/")+Te)),$.push(fe)),1;Te=0;var _e=ee===""?".":ee+":";if(ce(S))for(var E=0;E<S.length;E++)ee=S[E],be=_e+le(ee,E),Te+=C(ee,$,F,be,fe);else if(E=O(S),typeof E=="function")for(S=E.call(S),E=0;!(ee=S.next()).done;)ee=ee.value,be=_e+le(ee,E++),Te+=C(ee,$,F,be,fe);else if(be==="object"){if(typeof S.then=="function")return C(Ge(S),$,F,ee,fe);throw $=String(S),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Te}function J(S,$,F){if(S==null)return S;var ee=[],fe=0;return C(S,ee,"","",function(be){return $.call(F,be,fe++)}),ee}function ne(S){if(S._status===-1){var $=S._result;$=$(),$.then(function(F){(S._status===0||S._status===-1)&&(S._status=1,S._result=F)},function(F){(S._status===0||S._status===-1)&&(S._status=2,S._result=F)}),S._status===-1&&(S._status=0,S._result=$)}if(S._status===1)return S._result.default;throw S._result}var ye=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},pe={map:J,forEach:function(S,$,F){J(S,function(){$.apply(this,arguments)},F)},count:function(S){var $=0;return J(S,function(){$++}),$},toArray:function(S){return J(S,function($){return $})||[]},only:function(S){if(!P(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return xe.Activity=x,xe.Children=pe,xe.Component=W,xe.Fragment=l,xe.Profiler=u,xe.PureComponent=K,xe.StrictMode=i,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,xe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Y.H.useMemoCache(S)}},xe.cache=function(S){return function(){return S.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(S,$,F){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var ee=B({},S.props),fe=S.key;if($!=null)for(be in $.key!==void 0&&(fe=""+$.key),$)!se.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(ee[be]=$[be]);var be=arguments.length-2;if(be===1)ee.children=F;else if(1<be){for(var Te=Array(be),_e=0;_e<be;_e++)Te[_e]=arguments[_e+2];ee.children=Te}return X(S.type,fe,ee)},xe.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},xe.createElement=function(S,$,F){var ee,fe={},be=null;if($!=null)for(ee in $.key!==void 0&&(be=""+$.key),$)se.call($,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=$[ee]);var Te=arguments.length-2;if(Te===1)fe.children=F;else if(1<Te){for(var _e=Array(Te),E=0;E<Te;E++)_e[E]=arguments[E+2];fe.children=_e}if(S&&S.defaultProps)for(ee in Te=S.defaultProps,Te)fe[ee]===void 0&&(fe[ee]=Te[ee]);return X(S,be,fe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(S){return{$$typeof:g,render:S}},xe.isValidElement=P,xe.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:ne}},xe.memo=function(S,$){return{$$typeof:v,type:S,compare:$===void 0?null:$}},xe.startTransition=function(S){var $=Y.T,F={};Y.T=F;try{var ee=S(),fe=Y.S;fe!==null&&fe(F,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(U,ye)}catch(be){ye(be)}finally{$!==null&&F.types!==null&&($.types=F.types),Y.T=$}},xe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},xe.use=function(S){return Y.H.use(S)},xe.useActionState=function(S,$,F){return Y.H.useActionState(S,$,F)},xe.useCallback=function(S,$){return Y.H.useCallback(S,$)},xe.useContext=function(S){return Y.H.useContext(S)},xe.useDebugValue=function(){},xe.useDeferredValue=function(S,$){return Y.H.useDeferredValue(S,$)},xe.useEffect=function(S,$){return Y.H.useEffect(S,$)},xe.useEffectEvent=function(S){return Y.H.useEffectEvent(S)},xe.useId=function(){return Y.H.useId()},xe.useImperativeHandle=function(S,$,F){return Y.H.useImperativeHandle(S,$,F)},xe.useInsertionEffect=function(S,$){return Y.H.useInsertionEffect(S,$)},xe.useLayoutEffect=function(S,$){return Y.H.useLayoutEffect(S,$)},xe.useMemo=function(S,$){return Y.H.useMemo(S,$)},xe.useOptimistic=function(S,$){return Y.H.useOptimistic(S,$)},xe.useReducer=function(S,$,F){return Y.H.useReducer(S,$,F)},xe.useRef=function(S){return Y.H.useRef(S)},xe.useState=function(S){return Y.H.useState(S)},xe.useSyncExternalStore=function(S,$,F){return Y.H.useSyncExternalStore(S,$,F)},xe.useTransition=function(){return Y.H.useTransition()},xe.version="19.2.0",xe}var wm;function oc(){return wm||(wm=1,Mu.exports=Gp()),Mu.exports}var N=oc();const Yp=rc(N);var Uu={exports:{}},jl={},ku={exports:{}},zu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Ip(){return xm||(xm=1,(function(r){function n(C,J){var ne=C.length;C.push(J);e:for(;0<ne;){var ye=ne-1>>>1,pe=C[ye];if(0<u(pe,J))C[ye]=J,C[ne]=pe,ne=ye;else break e}}function l(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var J=C[0],ne=C.pop();if(ne!==J){C[0]=ne;e:for(var ye=0,pe=C.length,S=pe>>>1;ye<S;){var $=2*(ye+1)-1,F=C[$],ee=$+1,fe=C[ee];if(0>u(F,ne))ee<pe&&0>u(fe,F)?(C[ye]=fe,C[ee]=ne,ye=ee):(C[ye]=F,C[$]=ne,ye=$);else if(ee<pe&&0>u(fe,ne))C[ye]=fe,C[ee]=ne,ye=ee;else break e}}return J}function u(C,J){var ne=C.sortIndex-J.sortIndex;return ne!==0?ne:C.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var p=[],v=[],b=1,x=null,w=3,O=!1,k=!1,B=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Q(C){for(var J=l(v);J!==null;){if(J.callback===null)i(v);else if(J.startTime<=C)i(v),J.sortIndex=J.expirationTime,n(p,J);else break;J=l(v)}}function ce(C){if(B=!1,Q(C),!k)if(l(p)!==null)k=!0,U||(U=!0,ae());else{var J=l(v);J!==null&&Ge(ce,J.startTime-C)}}var U=!1,Y=-1,se=5,X=-1;function H(){return z?!0:!(r.unstable_now()-X<se)}function P(){if(z=!1,U){var C=r.unstable_now();X=C;var J=!0;try{e:{k=!1,B&&(B=!1,I(Y),Y=-1),O=!0;var ne=w;try{t:{for(Q(C),x=l(p);x!==null&&!(x.expirationTime>C&&H());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,w=x.priorityLevel;var pe=ye(x.expirationTime<=C);if(C=r.unstable_now(),typeof pe=="function"){x.callback=pe,Q(C),J=!0;break t}x===l(p)&&i(p),Q(C)}else i(p);x=l(p)}if(x!==null)J=!0;else{var S=l(v);S!==null&&Ge(ce,S.startTime-C),J=!1}}break e}finally{x=null,w=ne,O=!1}J=void 0}}finally{J?ae():U=!1}}}var ae;if(typeof K=="function")ae=function(){K(P)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,le=je.port2;je.port1.onmessage=P,ae=function(){le.postMessage(null)}}else ae=function(){W(P,0)};function Ge(C,J){Y=W(function(){C(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(C){C.callback=null},r.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<C?Math.floor(1e3/C):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(C){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ne=w;w=J;try{return C()}finally{w=ne}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(C,J){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ne=w;w=C;try{return J()}finally{w=ne}},r.unstable_scheduleCallback=function(C,J,ne){var ye=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ye+ne:ye):ne=ye,C){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ne+pe,C={id:b++,callback:J,priorityLevel:C,startTime:ne,expirationTime:pe,sortIndex:-1},ne>ye?(C.sortIndex=ne,n(v,C),l(p)===null&&C===l(v)&&(B?(I(Y),Y=-1):B=!0,Ge(ce,ne-ye))):(C.sortIndex=pe,n(p,C),k||O||(k=!0,U||(U=!0,ae()))),C},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(C){var J=w;return function(){var ne=w;w=J;try{return C.apply(this,arguments)}finally{w=ne}}}})(zu)),zu}var Sm;function Kp(){return Sm||(Sm=1,ku.exports=Ip()),ku.exports}var Bu={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function Xp(){if(jm)return _t;jm=1;var r=oc();function n(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,v,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:p,containerInfo:v,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_t.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return d(p,v,null,b)},_t.flushSync=function(p){var v=h.T,b=i.p;try{if(h.T=null,i.p=2,p)return p()}finally{h.T=v,i.p=b,i.d.f()}},_t.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},_t.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},_t.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,x=g(b,v.crossOrigin),w=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:O}):b==="script"&&i.d.X(p,{crossOrigin:x,integrity:w,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},_t.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},_t.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,x=g(b,v.crossOrigin);i.d.L(p,b,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},_t.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=g(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},_t.requestFormReset=function(p){i.d.r(p)},_t.unstable_batchedUpdates=function(p,v){return p(v)},_t.useFormState=function(p,v,b){return h.H.useFormState(p,v,b)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.2.0",_t}var Em;function Qp(){if(Em)return Bu.exports;Em=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Bu.exports=Xp(),Bu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Pp(){if(Tm)return jl;Tm=1;var r=Kp(),n=oc(),l=Qp();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(i(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return p(o),e;if(c===s)return p(o),t;c=c.sibling}throw Error(i(188))}if(a.return!==s.return)a=o,s=c;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,s=c;break}if(y===s){m=!0,s=o,a=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===a){m=!0,a=c,s=o;break}if(y===s){m=!0,s=c,a=o;break}y=y.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==s)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case W:return"Profiler";case z:return"StrictMode";case ce:return"Suspense";case U:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case K:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return le(e(t))}catch{}}return null}var Ge=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ye=[],pe=-1;function S(e){return{current:e}}function $(e){0>pe||(e.current=ye[pe],ye[pe]=null,pe--)}function F(e,t){pe++,ye[pe]=e.current,e.current=t}var ee=S(null),fe=S(null),be=S(null),Te=S(null);function _e(e,t){switch(F(be,t),F(fe,e),F(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hh(t),e=Vh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ee),F(ee,e)}function E(){$(ee),$(fe),$(be)}function te(e){e.memoizedState!==null&&F(Te,e);var t=ee.current,a=Vh(t,e.type);t!==a&&(F(fe,e),F(ee,a))}function he(e){fe.current===e&&($(ee),$(fe)),Te.current===e&&($(Te),bl._currentValue=ne)}var we,Z;function ie(e){if(we===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||"",Z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+Z}var q=!1;function de(e,t){if(!e||q)return"";q=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(M){var D=M}Reflect.construct(e,[],G)}else{try{G.call()}catch(M){D=M}e.call(G.prototype)}}else{try{throw Error()}catch(M){D=M}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(M){if(M&&D&&typeof M.stack=="string")return[M.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),m=c[0],y=c[1];if(m&&y){var _=m.split(`
`),R=y.split(`
`);for(o=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===_.length||o===R.length)for(s=_.length-1,o=R.length-1;1<=s&&0<=o&&_[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(_[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||_[s]!==R[o]){var L=`
`+_[s].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=s&&0<=o);break}}}finally{q=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ie(a):""}function Me(e,t){switch(e.tag){case 26:case 27:case 5:return ie(e.type);case 16:return ie("Lazy");case 13:return e.child!==t&&t!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return de(e.type,!1);case 11:return de(e.type.render,!1);case 1:return de(e.type,!0);case 31:return ie("Activity");default:return""}}function nt(e){try{var t="",a=null;do t+=Me(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Xe=Object.prototype.hasOwnProperty,Rn=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,b0=r.unstable_shouldYield,_0=r.unstable_requestPaint,Dt=r.unstable_now,w0=r.unstable_getCurrentPriorityLevel,yc=r.unstable_ImmediatePriority,bc=r.unstable_UserBlockingPriority,Ml=r.unstable_NormalPriority,x0=r.unstable_LowPriority,_c=r.unstable_IdlePriority,S0=r.log,j0=r.unstable_setDisableYieldValue,Rs=null,Mt=null;function Ca(e){if(typeof S0=="function"&&j0(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Rs,e)}catch{}}var Ut=Math.clz32?Math.clz32:N0,E0=Math.log,T0=Math.LN2;function N0(e){return e>>>=0,e===0?32:31-(E0(e)/T0|0)|0}var Ul=256,kl=262144,zl=4194304;function ln(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bl(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=ln(s):(m&=y,m!==0?o=ln(m):a||(a=y&~e,a!==0&&(o=ln(a))))):(y=s&~c,y!==0?o=ln(y):m!==0?o=ln(m):a||(a=s&~e,a!==0&&(o=ln(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Ds(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function O0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var e=zl;return zl<<=1,(zl&62914560)===0&&(zl=4194304),e}function br(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ms(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function A0(e,t,a,s,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var L=31-Ut(a),G=1<<L;y[L]=0,_[L]=-1;var D=R[L];if(D!==null)for(R[L]=null,L=0;L<D.length;L++){var M=D[L];M!==null&&(M.lane&=-536870913)}a&=~G}s!==0&&xc(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function xc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ut(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Sc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Ut(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function jc(e,t){var a=t&-t;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|t))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ec(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function Tc(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var Ra=Math.random().toString(36).slice(2),gt="__reactFiber$"+Ra,jt="__reactProps$"+Ra,Dn="__reactContainer$"+Ra,xr="__reactEvents$"+Ra,C0="__reactListeners$"+Ra,R0="__reactHandles$"+Ra,Nc="__reactResources$"+Ra,Us="__reactMarker$"+Ra;function Sr(e){delete e[gt],delete e[jt],delete e[xr],delete e[C0],delete e[R0]}function Mn(e){var t=e[gt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Dn]||a[gt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ph(e);e!==null;){if(a=e[gt])return a;e=Ph(e)}return t}e=a,a=e.parentNode}return null}function Un(e){if(e=e[gt]||e[Dn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ks(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function kn(e){var t=e[Nc];return t||(t=e[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[Us]=!0}var Oc=new Set,Ac={};function rn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(Ac[e]=t,e=0;e<t.length;e++)Oc.add(t[e])}var D0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Rc={};function M0(e){return Xe.call(Rc,e)?!0:Xe.call(Cc,e)?!1:D0.test(e)?Rc[e]=!0:(Cc[e]=!0,!1)}function Ll(e,t,a){if(M0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ql(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function da(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U0(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jr(e){if(!e._valueTracker){var t=Dc(e)?"checked":"value";e._valueTracker=U0(e,t,""+e[t])}}function Mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Dc(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var k0=/[\n"\\]/g;function Kt(e){return e.replace(k0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Er(e,t,a,s,o,c,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Tr(e,m,It(t)):a!=null?Tr(e,m,It(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+It(y):e.removeAttribute("name")}function Uc(e,t,a,s,o,c,m,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){jr(e);return}a=a!=null?""+It(a):"",t=t!=null?""+It(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),jr(e)}function Tr(e,t,a){t==="number"&&$l(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function kc(e,t,a){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+It(a):""}function zc(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(i(92));if(Ge(s)){if(1<s.length)throw Error(i(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=It(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),jr(e)}function Ln(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var z0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||z0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lc(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Bc(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Bc(e,c,t[c])}function Nr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(e){return L0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fa(){}var Or=null;function Ar(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qn=null,$n=null;function qc(e){var t=Un(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Er(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[jt]||null;if(!o)throw Error(i(90));Er(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Mc(s)}break e;case"textarea":kc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Bn(e,!!a.multiple,t,!1)}}}var Cr=!1;function $c(e,t,a){if(Cr)return e(t,a);Cr=!0;try{var s=e(t);return s}finally{if(Cr=!1,(qn!==null||$n!==null)&&(Oi(),qn&&(t=qn,e=$n,$n=qn=null,qc(t),e)))for(t=0;t<e.length;t++)qc(e[t])}}function zs(e,t){var a=e.stateNode;if(a===null)return null;var s=a[jt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(ha)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Rr=!1}var Da=null,Dr=null,Vl=null;function Hc(){if(Vl)return Vl;var e,t=Dr,a=t.length,s,o="value"in Da?Da.value:Da.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[c-s];s++);return Vl=o.slice(e,1<s?1-s:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yl(){return!0}function Vc(){return!1}function Et(e){function t(a,s,o,c,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Yl:Vc,this.isPropagationStopped=Vc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Et(on),Ls=x({},on,{view:0,detail:0}),q0=Et(Ls),Mr,Ur,qs,Kl=x({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Mr=e.screenX-qs.screenX,Ur=e.screenY-qs.screenY):Ur=Mr=0,qs=e),Mr)},movementY:function(e){return"movementY"in e?e.movementY:Ur}}),Gc=Et(Kl),$0=x({},Kl,{dataTransfer:0}),H0=Et($0),V0=x({},Ls,{relatedTarget:0}),kr=Et(V0),G0=x({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Et(G0),I0=x({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K0=Et(I0),X0=x({},on,{data:0}),Yc=Et(X0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=J0[e])?!!t[e]:!1}function zr(){return Z0}var F0=x({},Ls,{key:function(e){if(e.key){var t=Q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W0=Et(F0),ev=x({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=Et(ev),tv=x({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),av=Et(tv),nv=x({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Et(nv),lv=x({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iv=Et(lv),rv=x({},on,{newState:0,oldState:0}),ov=Et(rv),uv=[9,13,27,32],Br=ha&&"CompositionEvent"in window,$s=null;ha&&"documentMode"in document&&($s=document.documentMode);var cv=ha&&"TextEvent"in window&&!$s,Kc=ha&&(!Br||$s&&8<$s&&11>=$s),Xc=" ",Qc=!1;function Pc(e,t){switch(e){case"keyup":return uv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function dv(e,t){switch(e){case"compositionend":return Jc(t);case"keypress":return t.which!==32?null:(Qc=!0,Xc);case"textInput":return e=t.data,e===Xc&&Qc?null:e;default:return null}}function fv(e,t){if(Hn)return e==="compositionend"||!Br&&Pc(e,t)?(e=Hc(),Vl=Dr=Da=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kc&&t.locale!=="ko"?null:t.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hv[e.type]:t==="textarea"}function Fc(e,t,a,s){qn?$n?$n.push(s):$n=[s]:qn=s,t=ki(t,"onChange"),0<t.length&&(a=new Il("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Hs=null,Vs=null;function mv(e){kh(e,0)}function Xl(e){var t=ks(e);if(Mc(t))return e}function Wc(e,t){if(e==="change")return t}var ed=!1;if(ha){var Lr;if(ha){var qr="oninput"in document;if(!qr){var td=document.createElement("div");td.setAttribute("oninput","return;"),qr=typeof td.oninput=="function"}Lr=qr}else Lr=!1;ed=Lr&&(!document.documentMode||9<document.documentMode)}function ad(){Hs&&(Hs.detachEvent("onpropertychange",nd),Vs=Hs=null)}function nd(e){if(e.propertyName==="value"&&Xl(Vs)){var t=[];Fc(t,Vs,e,Ar(e)),$c(mv,t)}}function gv(e,t,a){e==="focusin"?(ad(),Hs=t,Vs=a,Hs.attachEvent("onpropertychange",nd)):e==="focusout"&&ad()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xl(Vs)}function pv(e,t){if(e==="click")return Xl(t)}function yv(e,t){if(e==="input"||e==="change")return Xl(t)}function bv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:bv;function Gs(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Xe.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var a=sd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sd(a)}}function id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$l(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$l(e.document)}return t}function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _v=ha&&"documentMode"in document&&11>=document.documentMode,Vn=null,Hr=null,Ys=null,Vr=!1;function od(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vr||Vn==null||Vn!==$l(s)||(s=Vn,"selectionStart"in s&&$r(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ys&&Gs(Ys,s)||(Ys=s,s=ki(Hr,"onSelect"),0<s.length&&(t=new Il("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Vn)))}function un(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Gn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},Gr={},ud={};ha&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function cn(e){if(Gr[e])return Gr[e];if(!Gn[e])return e;var t=Gn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ud)return Gr[e]=t[a];return e}var cd=cn("animationend"),dd=cn("animationiteration"),fd=cn("animationstart"),wv=cn("transitionrun"),xv=cn("transitionstart"),Sv=cn("transitioncancel"),hd=cn("transitionend"),md=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function ta(e,t){md.set(e,t),rn(t,[e])}var Ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],Yn=0,Ir=0;function Pl(){for(var e=Yn,t=Ir=Yn=0;t<e;){var a=Xt[t];Xt[t++]=null;var s=Xt[t];Xt[t++]=null;var o=Xt[t];Xt[t++]=null;var c=Xt[t];if(Xt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}c!==0&&gd(a,o,c)}}function Jl(e,t,a,s){Xt[Yn++]=e,Xt[Yn++]=t,Xt[Yn++]=a,Xt[Yn++]=s,Ir|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Kr(e,t,a,s){return Jl(e,t,a,s),Zl(e)}function dn(e,t){return Jl(e,null,null,t),Zl(e)}function gd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Ut(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function Zl(e){if(50<fl)throw fl=0,au=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var In={};function jv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,a,s){return new jv(e,t,a,s)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ma(e,t){var a=e.alternate;return a===null?(a=zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fl(e,t,a,s,o,c){var m=0;if(s=e,typeof e=="function")Xr(e)&&(m=1);else if(typeof e=="string")m=Ap(e,a,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=zt(31,a,t,o),e.elementType=X,e.lanes=c,e;case B:return fn(a.children,o,c,t);case z:m=8,o|=24;break;case W:return e=zt(12,a,t,o|2),e.elementType=W,e.lanes=c,e;case ce:return e=zt(13,a,t,o),e.elementType=ce,e.lanes=c,e;case U:return e=zt(19,a,t,o),e.elementType=U,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:m=10;break e;case I:m=9;break e;case Q:m=11;break e;case Y:m=14;break e;case se:m=16,s=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=zt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function fn(e,t,a,s){return e=zt(7,e,s,t),e.lanes=a,e}function Qr(e,t,a){return e=zt(6,e,null,t),e.lanes=a,e}function pd(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Pr(e,t,a){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yd=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var a=yd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:nt(t)},yd.set(e,t),t)}return{value:e,source:t,stack:nt(t)}}var Kn=[],Xn=0,Wl=null,Is=0,Pt=[],Jt=0,Ma=null,ra=1,oa="";function ga(e,t){Kn[Xn++]=Is,Kn[Xn++]=Wl,Wl=e,Is=t}function bd(e,t,a){Pt[Jt++]=ra,Pt[Jt++]=oa,Pt[Jt++]=Ma,Ma=e;var s=ra;e=oa;var o=32-Ut(s)-1;s&=~(1<<o),a+=1;var c=32-Ut(t)+o;if(30<c){var m=o-o%5;c=(s&(1<<m)-1).toString(32),s>>=m,o-=m,ra=1<<32-Ut(t)+o|a<<o|s,oa=c+e}else ra=1<<c|a<<o|s,oa=e}function Jr(e){e.return!==null&&(ga(e,1),bd(e,1,0))}function Zr(e){for(;e===Wl;)Wl=Kn[--Xn],Kn[Xn]=null,Is=Kn[--Xn],Kn[Xn]=null;for(;e===Ma;)Ma=Pt[--Jt],Pt[Jt]=null,oa=Pt[--Jt],Pt[Jt]=null,ra=Pt[--Jt],Pt[Jt]=null}function _d(e,t){Pt[Jt++]=ra,Pt[Jt++]=oa,Pt[Jt++]=Ma,ra=t.id,oa=t.overflow,Ma=e}var vt=null,Qe=null,De=!1,Ua=null,Zt=!1,Fr=Error(i(519));function ka(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ks(Qt(t,e)),Fr}function wd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[gt]=e,t[jt]=s,a){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(a=0;a<ml.length;a++)Ae(ml[a],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Uc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),zc(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||qh(t.textContent,a)?(s.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),s.onScroll!=null&&Ae("scroll",t),s.onScrollEnd!=null&&Ae("scrollend",t),s.onClick!=null&&(t.onclick=fa),t=!0):t=!1,t||ka(e,!0)}function xd(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:vt=vt.return}}function Qn(e){if(e!==vt)return!1;if(!De)return xd(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pu(e.type,e.memoizedProps)),a=!a),a&&Qe&&ka(e),xd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Qe=Qh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Qe=Qh(e)}else t===27?(t=Qe,Pa(e.type)?(e=xu,xu=null,Qe=e):Qe=t):Qe=vt?Wt(e.stateNode.nextSibling):null;return!0}function hn(){Qe=vt=null,De=!1}function Wr(){var e=Ua;return e!==null&&(At===null?At=e:At.push.apply(At,e),Ua=null),e}function Ks(e){Ua===null?Ua=[e]:Ua.push(e)}var eo=S(null),mn=null,va=null;function za(e,t,a){F(eo,t._currentValue),t._currentValue=a}function pa(e){e._currentValue=eo.current,$(eo)}function to(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function ao(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var _=0;_<t.length;_++)if(y.context===t[_]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),to(c.return,a,e),s||(m=null);break e}c=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(i(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),to(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Pn(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var y=o.type;kt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===Te.current){if(m=o.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}o=o.return}e!==null&&ao(t,e,a,s),t.flags|=262144}function ei(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gn(e){mn=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Sd(mn,e)}function ti(e,t){return mn===null&&gn(e),Sd(e,t)}function Sd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},va===null){if(e===null)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return a}var Ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Tv=r.unstable_scheduleCallback,Nv=r.unstable_NormalPriority,st={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new Ev,data:new Map,refCount:0}}function Xs(e){e.refCount--,e.refCount===0&&Tv(Nv,function(){e.controller.abort()})}var Qs=null,so=0,Jn=0,Zn=null;function Ov(e,t){if(Qs===null){var a=Qs=[];so=0,Jn=ou(),Zn={status:"pending",value:void 0,then:function(s){a.push(s)}}}return so++,t.then(jd,jd),t}function jd(){if(--so===0&&Qs!==null){Zn!==null&&(Zn.status="fulfilled");var e=Qs;Qs=null,Jn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Av(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Ed=C.S;C.S=function(e,t){uh=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ov(e,t),Ed!==null&&Ed(e,t)};var vn=S(null);function lo(){var e=vn.current;return e!==null?e:Ye.pooledCache}function ai(e,t){t===null?F(vn,vn.current):F(vn,t.pool)}function Td(){var e=lo();return e===null?null:{parent:st._currentValue,pool:e}}var Fn=Error(i(460)),io=Error(i(474)),ni=Error(i(542)),si={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fa,fa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e;default:if(typeof t.status=="string")t.then(fa,fa);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cd(e),e}throw yn=t,Fn}}function pn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(yn=a,Fn):a}}var yn=null;function Ad(){if(yn===null)throw Error(i(459));var e=yn;return yn=null,e}function Cd(e){if(e===Fn||e===ni)throw Error(i(483))}var Wn=null,Ps=0;function li(e){var t=Ps;return Ps+=1,Wn===null&&(Wn=[]),Od(Wn,e,t)}function Js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ii(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(T,j){if(e){var A=T.deletions;A===null?(T.deletions=[j],T.flags|=16):A.push(j)}}function a(T,j){if(!e)return null;for(;j!==null;)t(T,j),j=j.sibling;return null}function s(T){for(var j=new Map;T!==null;)T.key!==null?j.set(T.key,T):j.set(T.index,T),T=T.sibling;return j}function o(T,j){return T=ma(T,j),T.index=0,T.sibling=null,T}function c(T,j,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<j?(T.flags|=67108866,j):A):(T.flags|=67108866,j)):(T.flags|=1048576,j)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,j,A,V){return j===null||j.tag!==6?(j=Qr(A,T.mode,V),j.return=T,j):(j=o(j,A),j.return=T,j)}function _(T,j,A,V){var me=A.type;return me===B?L(T,j,A.props.children,V,A.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===se&&pn(me)===j.type)?(j=o(j,A.props),Js(j,A),j.return=T,j):(j=Fl(A.type,A.key,A.props,null,T.mode,V),Js(j,A),j.return=T,j)}function R(T,j,A,V){return j===null||j.tag!==4||j.stateNode.containerInfo!==A.containerInfo||j.stateNode.implementation!==A.implementation?(j=Pr(A,T.mode,V),j.return=T,j):(j=o(j,A.children||[]),j.return=T,j)}function L(T,j,A,V,me){return j===null||j.tag!==7?(j=fn(A,T.mode,V,me),j.return=T,j):(j=o(j,A),j.return=T,j)}function G(T,j,A){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Qr(""+j,T.mode,A),j.return=T,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return A=Fl(j.type,j.key,j.props,null,T.mode,A),Js(A,j),A.return=T,A;case k:return j=Pr(j,T.mode,A),j.return=T,j;case se:return j=pn(j),G(T,j,A)}if(Ge(j)||ae(j))return j=fn(j,T.mode,A,null),j.return=T,j;if(typeof j.then=="function")return G(T,li(j),A);if(j.$$typeof===K)return G(T,ti(T,j),A);ii(T,j)}return null}function D(T,j,A,V){var me=j!==null?j.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return me!==null?null:y(T,j,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case O:return A.key===me?_(T,j,A,V):null;case k:return A.key===me?R(T,j,A,V):null;case se:return A=pn(A),D(T,j,A,V)}if(Ge(A)||ae(A))return me!==null?null:L(T,j,A,V,null);if(typeof A.then=="function")return D(T,j,li(A),V);if(A.$$typeof===K)return D(T,j,ti(T,A),V);ii(T,A)}return null}function M(T,j,A,V,me){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return T=T.get(A)||null,y(j,T,""+V,me);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return T=T.get(V.key===null?A:V.key)||null,_(j,T,V,me);case k:return T=T.get(V.key===null?A:V.key)||null,R(j,T,V,me);case se:return V=pn(V),M(T,j,A,V,me)}if(Ge(V)||ae(V))return T=T.get(A)||null,L(j,T,V,me,null);if(typeof V.then=="function")return M(T,j,A,li(V),me);if(V.$$typeof===K)return M(T,j,A,ti(j,V),me);ii(j,V)}return null}function re(T,j,A,V){for(var me=null,Ue=null,oe=j,Ne=j=0,Re=null;oe!==null&&Ne<A.length;Ne++){oe.index>Ne?(Re=oe,oe=null):Re=oe.sibling;var ke=D(T,oe,A[Ne],V);if(ke===null){oe===null&&(oe=Re);break}e&&oe&&ke.alternate===null&&t(T,oe),j=c(ke,j,Ne),Ue===null?me=ke:Ue.sibling=ke,Ue=ke,oe=Re}if(Ne===A.length)return a(T,oe),De&&ga(T,Ne),me;if(oe===null){for(;Ne<A.length;Ne++)oe=G(T,A[Ne],V),oe!==null&&(j=c(oe,j,Ne),Ue===null?me=oe:Ue.sibling=oe,Ue=oe);return De&&ga(T,Ne),me}for(oe=s(oe);Ne<A.length;Ne++)Re=M(oe,T,Ne,A[Ne],V),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?Ne:Re.key),j=c(Re,j,Ne),Ue===null?me=Re:Ue.sibling=Re,Ue=Re);return e&&oe.forEach(function(en){return t(T,en)}),De&&ga(T,Ne),me}function ve(T,j,A,V){if(A==null)throw Error(i(151));for(var me=null,Ue=null,oe=j,Ne=j=0,Re=null,ke=A.next();oe!==null&&!ke.done;Ne++,ke=A.next()){oe.index>Ne?(Re=oe,oe=null):Re=oe.sibling;var en=D(T,oe,ke.value,V);if(en===null){oe===null&&(oe=Re);break}e&&oe&&en.alternate===null&&t(T,oe),j=c(en,j,Ne),Ue===null?me=en:Ue.sibling=en,Ue=en,oe=Re}if(ke.done)return a(T,oe),De&&ga(T,Ne),me;if(oe===null){for(;!ke.done;Ne++,ke=A.next())ke=G(T,ke.value,V),ke!==null&&(j=c(ke,j,Ne),Ue===null?me=ke:Ue.sibling=ke,Ue=ke);return De&&ga(T,Ne),me}for(oe=s(oe);!ke.done;Ne++,ke=A.next())ke=M(oe,T,Ne,ke.value,V),ke!==null&&(e&&ke.alternate!==null&&oe.delete(ke.key===null?Ne:ke.key),j=c(ke,j,Ne),Ue===null?me=ke:Ue.sibling=ke,Ue=ke);return e&&oe.forEach(function($p){return t(T,$p)}),De&&ga(T,Ne),me}function Ve(T,j,A,V){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case O:e:{for(var me=A.key;j!==null;){if(j.key===me){if(me=A.type,me===B){if(j.tag===7){a(T,j.sibling),V=o(j,A.props.children),V.return=T,T=V;break e}}else if(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===se&&pn(me)===j.type){a(T,j.sibling),V=o(j,A.props),Js(V,A),V.return=T,T=V;break e}a(T,j);break}else t(T,j);j=j.sibling}A.type===B?(V=fn(A.props.children,T.mode,V,A.key),V.return=T,T=V):(V=Fl(A.type,A.key,A.props,null,T.mode,V),Js(V,A),V.return=T,T=V)}return m(T);case k:e:{for(me=A.key;j!==null;){if(j.key===me)if(j.tag===4&&j.stateNode.containerInfo===A.containerInfo&&j.stateNode.implementation===A.implementation){a(T,j.sibling),V=o(j,A.children||[]),V.return=T,T=V;break e}else{a(T,j);break}else t(T,j);j=j.sibling}V=Pr(A,T.mode,V),V.return=T,T=V}return m(T);case se:return A=pn(A),Ve(T,j,A,V)}if(Ge(A))return re(T,j,A,V);if(ae(A)){if(me=ae(A),typeof me!="function")throw Error(i(150));return A=me.call(A),ve(T,j,A,V)}if(typeof A.then=="function")return Ve(T,j,li(A),V);if(A.$$typeof===K)return Ve(T,j,ti(T,A),V);ii(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,j!==null&&j.tag===6?(a(T,j.sibling),V=o(j,A),V.return=T,T=V):(a(T,j),V=Qr(A,T.mode,V),V.return=T,T=V),m(T)):a(T,j)}return function(T,j,A,V){try{Ps=0;var me=Ve(T,j,A,V);return Wn=null,me}catch(oe){if(oe===Fn||oe===ni)throw oe;var Ue=zt(29,oe,null,T.mode);return Ue.lanes=V,Ue.return=T,Ue}finally{}}}var bn=Rd(!0),Dd=Rd(!1),Ba=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Zl(e),gd(e,null,a),t}return Jl(e,s,t,a),Zl(e)}function Zs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Sc(e,a)}}function uo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var co=!1;function Fs(){if(co){var e=Zn;if(e!==null)throw e}}function Ws(e,t,a,s){co=!1;var o=e.updateQueue;Ba=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var _=y,R=_.next;_.next=null,m===null?c=R:m.next=R,m=_;var L=e.alternate;L!==null&&(L=L.updateQueue,y=L.lastBaseUpdate,y!==m&&(y===null?L.firstBaseUpdate=R:y.next=R,L.lastBaseUpdate=_))}if(c!==null){var G=o.baseState;m=0,L=R=_=null,y=c;do{var D=y.lane&-536870913,M=D!==y.lane;if(M?(Ce&D)===D:(s&D)===D){D!==0&&D===Jn&&(co=!0),L!==null&&(L=L.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var re=e,ve=y;D=t;var Ve=a;switch(ve.tag){case 1:if(re=ve.payload,typeof re=="function"){G=re.call(Ve,G,D);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ve.payload,D=typeof re=="function"?re.call(Ve,G,D):re,D==null)break e;G=x({},G,D);break e;case 2:Ba=!0}}D=y.callback,D!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[D]:M.push(D))}else M={lane:D,tag:y.tag,payload:y.payload,callback:y.callback,next:null},L===null?(R=L=M,_=G):L=L.next=M,m|=D;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;M=y,y=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);L===null&&(_=G),o.baseState=_,o.firstBaseUpdate=R,o.lastBaseUpdate=L,c===null&&(o.shared.lanes=0),Ya|=m,e.lanes=m,e.memoizedState=G}}function Md(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ud(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Md(a[e],t)}var es=S(null),ri=S(0);function kd(e,t){e=Ta,F(ri,e),F(es,t),Ta=e|t.baseLanes}function fo(){F(ri,Ta),F(es,es.current)}function ho(){Ta=ri.current,$(es),$(ri)}var Bt=S(null),Ft=null;function $a(e){var t=e.alternate;F(tt,tt.current&1),F(Bt,e),Ft===null&&(t===null||es.current!==null||t.memoizedState!==null)&&(Ft=e)}function mo(e){F(tt,tt.current),F(Bt,e),Ft===null&&(Ft=e)}function zd(e){e.tag===22?(F(tt,tt.current),F(Bt,e),Ft===null&&(Ft=e)):Ha()}function Ha(){F(tt,tt.current),F(Bt,Bt.current)}function Lt(e){$(Bt),Ft===e&&(Ft=null),$(tt)}var tt=S(0);function oi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_u(a)||wu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,Ee=null,$e=null,lt=null,ui=!1,ts=!1,_n=!1,ci=0,el=0,as=null,Cv=0;function We(){throw Error(i(321))}function go(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!kt(e[a],t[a]))return!1;return!0}function vo(e,t,a,s,o,c){return ya=c,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?_f:Ro,_n=!1,c=a(s,o),_n=!1,ts&&(c=Ld(t,a,s,o)),Bd(e),c}function Bd(e){C.H=nl;var t=$e!==null&&$e.next!==null;if(ya=0,lt=$e=Ee=null,ui=!1,el=0,as=null,t)throw Error(i(300));e===null||it||(e=e.dependencies,e!==null&&ei(e)&&(it=!0))}function Ld(e,t,a,s){Ee=e;var o=0;do{if(ts&&(as=null),el=0,ts=!1,25<=o)throw Error(i(301));if(o+=1,lt=$e=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=wf,c=t(a,s)}while(ts);return c}function Rv(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?tl(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Ee.flags|=1024),t}function po(){var e=ci!==0;return ci=0,e}function yo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function bo(e){if(ui){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ui=!1}ya=0,lt=$e=Ee=null,ts=!1,el=ci=0,as=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ee.memoizedState=lt=e:lt=lt.next=e,lt}function at(){if($e===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=lt===null?Ee.memoizedState:lt.next;if(t!==null)lt=t,$e=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},lt===null?Ee.memoizedState=lt=e:lt=lt.next=e}return lt}function di(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var t=el;return el+=1,as===null&&(as=[]),e=Od(as,e,t),t=Ee,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?_f:Ro),e}function fi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===K)return pt(e)}throw Error(i(438,String(e)))}function _o(e){var t=null,a=Ee.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ee.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=di(),Ee.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=H;return t.index++,a}function ba(e,t){return typeof t=="function"?t(e):t}function hi(e){var t=at();return wo(t,$e,e)}function wo(e,t,a){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=m=null,_=null,R=t,L=!1;do{var G=R.lane&-536870913;if(G!==R.lane?(Ce&G)===G:(ya&G)===G){var D=R.revertLane;if(D===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),G===Jn&&(L=!0);else if((ya&D)===D){R=R.next,D===Jn&&(L=!0);continue}else G={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=G,m=c):_=_.next=G,Ee.lanes|=D,Ya|=D;G=R.action,_n&&a(c,G),c=R.hasEagerState?R.eagerState:a(c,G)}else D={lane:G,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=D,m=c):_=_.next=D,Ee.lanes|=G,Ya|=G;R=R.next}while(R!==null&&R!==t);if(_===null?m=c:_.next=y,!kt(c,e.memoizedState)&&(it=!0,L&&(a=Zn,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=_,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xo(e){var t=at(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);kt(c,t.memoizedState)||(it=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function qd(e,t,a){var s=Ee,o=at(),c=De;if(c){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!kt(($e||o).memoizedState,a);if(m&&(o.memoizedState=a,it=!0),o=o.queue,Eo(Vd.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||lt!==null&&lt.memoizedState.tag&1){if(s.flags|=2048,ns(9,{destroy:void 0},Hd.bind(null,s,o,a,t),null),Ye===null)throw Error(i(349));c||(ya&127)!==0||$d(s,t,a)}return a}function $d(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ee.updateQueue,t===null?(t=di(),Ee.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Hd(e,t,a,s){t.value=a,t.getSnapshot=s,Gd(t)&&Yd(e)}function Vd(e,t,a){return a(function(){Gd(t)&&Yd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!kt(e,a)}catch{return!0}}function Yd(e){var t=dn(e,2);t!==null&&Ct(t,e,2)}function So(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),_n){Ca(!0);try{a()}finally{Ca(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t}function Id(e,t,a,s){return e.baseState=a,wo(e,$e,typeof s=="function"?s:ba)}function Dv(e,t,a,s,o){if(vi(e))throw Error(i(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};C.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,Kd(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Kd(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=C.T,m={};C.T=m;try{var y=a(o,s),_=C.S;_!==null&&_(m,y),Xd(e,t,y)}catch(R){jo(e,t,R)}finally{c!==null&&m.types!==null&&(c.types=m.types),C.T=c}}else try{c=a(o,s),Xd(e,t,c)}catch(R){jo(e,t,R)}}function Xd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Qd(e,t,s)},function(s){return jo(e,t,s)}):Qd(e,t,a)}function Qd(e,t,a){t.status="fulfilled",t.value=a,Pd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Kd(e,a)))}function jo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Pd(t),t=t.next;while(t!==s)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jd(e,t){return t}function Zd(e,t){if(De){var a=Ye.formState;if(a!==null){e:{var s=Ee;if(De){if(Qe){t:{for(var o=Qe,c=Zt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Wt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Qe=Wt(o.nextSibling),s=o.data==="F!";break e}}ka(s)}s=!1}s&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:t},a.queue=s,a=pf.bind(null,Ee,s),s.dispatch=a,s=So(!1),c=Co.bind(null,Ee,!1,s.queue),s=St(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Dv.bind(null,Ee,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Fd(e){var t=at();return Wd(t,$e,e)}function Wd(e,t,a){if(t=wo(e,t,Jd)[0],e=hi(ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=tl(t)}catch(m){throw m===Fn?ni:m}else s=t;t=at();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(Ee.flags|=2048,ns(9,{destroy:void 0},Mv.bind(null,o,a),null)),[s,c,e]}function Mv(e,t){e.action=t}function ef(e){var t=at(),a=$e;if(a!==null)return Wd(t,a,e);at(),t=t.memoizedState,a=at();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ns(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=di(),Ee.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function tf(){return at().memoizedState}function mi(e,t,a,s){var o=St();Ee.flags|=e,o.memoizedState=ns(1|t,{destroy:void 0},a,s===void 0?null:s)}function gi(e,t,a,s){var o=at();s=s===void 0?null:s;var c=o.memoizedState.inst;$e!==null&&s!==null&&go(s,$e.memoizedState.deps)?o.memoizedState=ns(t,c,a,s):(Ee.flags|=e,o.memoizedState=ns(1|t,c,a,s))}function af(e,t){mi(8390656,8,e,t)}function Eo(e,t){gi(2048,8,e,t)}function Uv(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=di(),Ee.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function nf(e){var t=at().memoizedState;return Uv({ref:t,nextImpl:e}),function(){if((ze&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function sf(e,t){return gi(4,2,e,t)}function lf(e,t){return gi(4,4,e,t)}function rf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function of(e,t,a){a=a!=null?a.concat([e]):null,gi(4,4,rf.bind(null,t,e),a)}function To(){}function uf(e,t){var a=at();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&go(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function cf(e,t){var a=at();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&go(t,s[1]))return s[0];if(s=e(),_n){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[s,t],s}function No(e,t,a){return a===void 0||(ya&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=dh(),Ee.lanes|=e,Ya|=e,a)}function df(e,t,a,s){return kt(a,t)?a:es.current!==null?(e=No(e,a,s),kt(e,t)||(it=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(Ce&261930)===0?(it=!0,e.memoizedState=a):(e=dh(),Ee.lanes|=e,Ya|=e,t)}function ff(e,t,a,s,o){var c=J.p;J.p=c!==0&&8>c?c:8;var m=C.T,y={};C.T=y,Co(e,!1,t,a);try{var _=o(),R=C.S;if(R!==null&&R(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=Av(_,s);al(e,t,L,Ht(e))}else al(e,t,s,Ht(e))}catch(G){al(e,t,{then:function(){},status:"rejected",reason:G},Ht())}finally{J.p=c,m!==null&&y.types!==null&&(m.types=y.types),C.T=m}}function kv(){}function Oo(e,t,a,s){if(e.tag!==5)throw Error(i(476));var o=hf(e).queue;ff(e,o,t,ne,a===null?kv:function(){return mf(e),a(s)})}function hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function mf(e){var t=hf(e);t.next===null&&(t=e.alternate.memoizedState),al(e,t.next.queue,{},Ht())}function Ao(){return pt(bl)}function gf(){return at().memoizedState}function vf(){return at().memoizedState}function zv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ht();e=La(a);var s=qa(t,e,a);s!==null&&(Ct(s,t,a),Zs(s,t,a)),t={cache:no()},e.payload=t;return}t=t.return}}function Bv(e,t,a){var s=Ht();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vi(e)?yf(t,a):(a=Kr(e,t,a,s),a!==null&&(Ct(a,e,s),bf(a,t,s)))}function pf(e,t,a){var s=Ht();al(e,t,a,s)}function al(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vi(e))yf(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,y=c(m,a);if(o.hasEagerState=!0,o.eagerState=y,kt(y,m))return Jl(e,t,o,0),Ye===null&&Pl(),!1}catch{}finally{}if(a=Kr(e,t,o,s),a!==null)return Ct(a,e,s),bf(a,t,s),!0}return!1}function Co(e,t,a,s){if(s={lane:2,revertLane:ou(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vi(e)){if(t)throw Error(i(479))}else t=Kr(e,a,s,2),t!==null&&Ct(t,e,2)}function vi(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function yf(e,t){ts=ui=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Sc(e,a)}}var nl={readContext:pt,use:fi,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};nl.useEffectEvent=We;var _f={readContext:pt,use:fi,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:af,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,mi(4194308,4,rf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var s=e();if(_n){Ca(!0);try{e()}finally{Ca(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=St();if(a!==void 0){var o=a(t);if(_n){Ca(!0);try{a(t)}finally{Ca(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Bv.bind(null,Ee,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=So(e);var t=e.queue,a=pf.bind(null,Ee,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:To,useDeferredValue:function(e,t){var a=St();return No(a,e,t)},useTransition:function(){var e=So(!1);return e=ff.bind(null,Ee,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ee,o=St();if(De){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ye===null)throw Error(i(349));(Ce&127)!==0||$d(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,af(Vd.bind(null,s,c,e),[e]),s.flags|=2048,ns(9,{destroy:void 0},Hd.bind(null,s,c,a,t),null),a},useId:function(){var e=St(),t=Ye.identifierPrefix;if(De){var a=oa,s=ra;a=(s&~(1<<32-Ut(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ci++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Cv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ao,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Co.bind(null,Ee,!0,a),a.dispatch=t,[e,t]},useMemoCache:_o,useCacheRefresh:function(){return St().memoizedState=zv.bind(null,Ee)},useEffectEvent:function(e){var t=St(),a={impl:e};return t.memoizedState=a,function(){if((ze&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Ro={readContext:pt,use:fi,useCallback:uf,useContext:pt,useEffect:Eo,useImperativeHandle:of,useInsertionEffect:sf,useLayoutEffect:lf,useMemo:cf,useReducer:hi,useRef:tf,useState:function(){return hi(ba)},useDebugValue:To,useDeferredValue:function(e,t){var a=at();return df(a,$e.memoizedState,e,t)},useTransition:function(){var e=hi(ba)[0],t=at().memoizedState;return[typeof e=="boolean"?e:tl(e),t]},useSyncExternalStore:qd,useId:gf,useHostTransitionStatus:Ao,useFormState:Fd,useActionState:Fd,useOptimistic:function(e,t){var a=at();return Id(a,$e,e,t)},useMemoCache:_o,useCacheRefresh:vf};Ro.useEffectEvent=nf;var wf={readContext:pt,use:fi,useCallback:uf,useContext:pt,useEffect:Eo,useImperativeHandle:of,useInsertionEffect:sf,useLayoutEffect:lf,useMemo:cf,useReducer:xo,useRef:tf,useState:function(){return xo(ba)},useDebugValue:To,useDeferredValue:function(e,t){var a=at();return $e===null?No(a,e,t):df(a,$e.memoizedState,e,t)},useTransition:function(){var e=xo(ba)[0],t=at().memoizedState;return[typeof e=="boolean"?e:tl(e),t]},useSyncExternalStore:qd,useId:gf,useHostTransitionStatus:Ao,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var a=at();return $e!==null?Id(a,$e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_o,useCacheRefresh:vf};wf.useEffectEvent=nf;function Do(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Ht(),o=La(s);o.payload=t,a!=null&&(o.callback=a),t=qa(e,o,s),t!==null&&(Ct(t,e,s),Zs(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Ht(),o=La(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=qa(e,o,s),t!==null&&(Ct(t,e,s),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ht(),s=La(a);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,a),t!==null&&(Ct(t,e,a),Zs(t,e,a))}};function xf(e,t,a,s,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,m):t.prototype&&t.prototype.isPureReactComponent?!Gs(a,s)||!Gs(o,c):!0}function Sf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function wn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function jf(e){Ql(e)}function Ef(e){console.error(e)}function Tf(e){Ql(e)}function pi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Nf(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Uo(e,t,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){pi(e,t)},a}function Of(e){return e=La(e),e.tag=3,e}function Af(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){Nf(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Nf(t,a,s),typeof o!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function Lv(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Pn(t,a,o,!0),a=Bt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?Ai():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===si?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),lu(e,s,o)),!1;case 22:return a.flags|=65536,s===si?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),lu(e,s,o)),!1}throw Error(i(435,a.tag))}return lu(e,s,o),Ai(),!1}if(De)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Fr&&(e=Error(i(422),{cause:s}),Ks(Qt(e,a)))):(s!==Fr&&(t=Error(i(423),{cause:s}),Ks(Qt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Qt(s,a),o=Uo(e.stateNode,s,o),uo(e,o),et!==4&&(et=2)),!1;var c=Error(i(520),{cause:s});if(c=Qt(c,a),dl===null?dl=[c]:dl.push(c),et!==4&&(et=2),t===null)return!0;s=Qt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Uo(a.stateNode,s,e),uo(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ia===null||!Ia.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Of(o),Af(o,e,a,s),uo(a,o),!1}a=a.return}while(a!==null);return!1}var ko=Error(i(461)),it=!1;function yt(e,t,a,s){t.child=e===null?Dd(t,null,a,s):bn(t,e.child,a,s)}function Cf(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return gn(t),s=vo(e,t,a,m,c,o),y=po(),e!==null&&!it?(yo(e,t,o),_a(e,t,o)):(De&&y&&Jr(t),t.flags|=1,yt(e,t,s,o),t.child)}function Rf(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!Xr(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Df(e,t,c,s,o)):(e=Fl(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Go(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(m,s)&&e.ref===t.ref)return _a(e,t,o)}return t.flags|=1,e=ma(c,s),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(Gs(c,s)&&e.ref===t.ref)if(it=!1,t.pendingProps=s=c,Go(e,o))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,_a(e,t,o)}return zo(e,t,a,s,o)}function Mf(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return Uf(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ai(t,c!==null?c.cachePool:null),c!==null?kd(t,c):fo(),zd(t);else return s=t.lanes=536870912,Uf(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(ai(t,c.cachePool),kd(t,c),Ha(),t.memoizedState=null):(e!==null&&ai(t,null),fo(),Ha());return yt(e,t,o,a),t.child}function sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uf(e,t,a,s,o){var c=lo();return c=c===null?null:{parent:st._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&ai(t,null),fo(),zd(t),e!==null&&Pn(e,t,s,!0),t.childLanes=o,null}function yi(e,t){return t=_i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function kf(e,t,a){return bn(t,e.child,null,a),e=yi(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function qv(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=yi(t,s),t.lanes=536870912,sl(null,e);if(mo(t),(e=Qe)?(e=Xh(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:ra,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,vt=t,Qe=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return yi(t,s)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(mo(t),o)if(t.flags&256)t.flags&=-257,t=kf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(it||Pn(e,t,a,!1),o=(a&e.childLanes)!==0,it||o){if(s=Ye,s!==null&&(m=jc(s,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,dn(e,m),Ct(s,e,m),ko;Ai(),t=kf(e,t,a)}else e=c.treeContext,Qe=Wt(m.nextSibling),vt=t,De=!0,Ua=null,Zt=!1,e!==null&&_d(t,e),t=yi(t,s),t.flags|=4096;return t}return e=ma(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function zo(e,t,a,s,o){return gn(t),a=vo(e,t,a,s,void 0,o),s=po(),e!==null&&!it?(yo(e,t,o),_a(e,t,o)):(De&&s&&Jr(t),t.flags|=1,yt(e,t,a,o),t.child)}function zf(e,t,a,s,o,c){return gn(t),t.updateQueue=null,a=Ld(t,s,a,o),Bd(e),s=po(),e!==null&&!it?(yo(e,t,c),_a(e,t,c)):(De&&s&&Jr(t),t.flags|=1,yt(e,t,a,c),t.child)}function Bf(e,t,a,s,o){if(gn(t),t.stateNode===null){var c=In,m=a.contextType;typeof m=="object"&&m!==null&&(c=pt(m)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Mo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},ro(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?pt(m):In,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Do(t,a,m,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Mo.enqueueReplaceState(c,c.state,null),Ws(t,s,c,o),Fs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,_=wn(a,y);c.props=_;var R=c.context,L=a.contextType;m=In,typeof L=="object"&&L!==null&&(m=pt(L));var G=a.getDerivedStateFromProps;L=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,L||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||R!==m)&&Sf(t,c,s,m),Ba=!1;var D=t.memoizedState;c.state=D,Ws(t,s,c,o),Fs(),R=t.memoizedState,y||D!==R||Ba?(typeof G=="function"&&(Do(t,a,G,s),R=t.memoizedState),(_=Ba||xf(t,a,_,s,D,R,m))?(L||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),c.props=s,c.state=R,c.context=m,s=_):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,oo(e,t),m=t.memoizedProps,L=wn(a,m),c.props=L,G=t.pendingProps,D=c.context,R=a.contextType,_=In,typeof R=="object"&&R!==null&&(_=pt(R)),y=a.getDerivedStateFromProps,(R=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==G||D!==_)&&Sf(t,c,s,_),Ba=!1,D=t.memoizedState,c.state=D,Ws(t,s,c,o),Fs();var M=t.memoizedState;m!==G||D!==M||Ba||e!==null&&e.dependencies!==null&&ei(e.dependencies)?(typeof y=="function"&&(Do(t,a,y,s),M=t.memoizedState),(L=Ba||xf(t,a,L,s,D,M,_)||e!==null&&e.dependencies!==null&&ei(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,M,_),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,M,_)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),c.props=s,c.state=M,c.context=_,s=L):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,bi(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=bn(t,e.child,null,o),t.child=bn(t,null,a,o)):yt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=_a(e,t,o),e}function Lf(e,t,a,s){return hn(),t.flags|=256,yt(e,t,a,s),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lo(e){return{baseLanes:e,cachePool:Td()}}function qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function qf(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(o?$a(t):Ha(),(e=Qe)?(e=Xh(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:ra,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=pd(e),a.return=t,t.child=a,vt=t,Qe=null)):e=null,e===null)throw ka(t);return wu(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(Ha(),o=t.mode,y=_i({mode:"hidden",children:y},o),s=fn(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=Lo(a),s.childLanes=qo(e,m,a),t.memoizedState=Bo,sl(null,s)):($a(t),$o(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(c)t.flags&256?($a(t),t.flags&=-257,t=Ho(e,t,a)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),y=s.fallback,o=t.mode,s=_i({mode:"visible",children:s.children},o),y=fn(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,bn(t,e.child,null,a),s=t.child,s.memoizedState=Lo(a),s.childLanes=qo(e,m,a),t.memoizedState=Bo,t=sl(null,s));else if($a(t),wu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var R=m.dgst;m=R,s=Error(i(419)),s.stack="",s.digest=m,Ks({value:s,source:null,stack:null}),t=Ho(e,t,a)}else if(it||Pn(e,t,a,!1),m=(a&e.childLanes)!==0,it||m){if(m=Ye,m!==null&&(s=jc(m,a),s!==0&&s!==_.retryLane))throw _.retryLane=s,dn(e,s),Ct(m,e,s),ko;_u(y)||Ai(),t=Ho(e,t,a)}else _u(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Qe=Wt(y.nextSibling),vt=t,De=!0,Ua=null,Zt=!1,e!==null&&_d(t,e),t=$o(t,s.children),t.flags|=4096);return t}return o?(Ha(),y=s.fallback,o=t.mode,_=e.child,R=_.sibling,s=ma(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,R!==null?y=ma(R,y):(y=fn(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,sl(null,s),s=t.child,y=e.child.memoizedState,y===null?y=Lo(a):(o=y.cachePool,o!==null?(_=st._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=Td(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=qo(e,m,a),t.memoizedState=Bo,sl(e.child,s)):($a(t),a=e.child,e=a.sibling,a=ma(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function $o(e,t){return t=_i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _i(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function Ho(e,t,a){return bn(t,e.child,null,a),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $f(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),to(e.return,t,a)}function Vo(e,t,a,s,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function Hf(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var m=tt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,F(tt,m),yt(e,t,s,a),s=De?Is:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,a,t);else if(e.tag===19)$f(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&oi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Vo(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&oi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Vo(t,!0,a,null,c,s);break;case"together":Vo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function _a(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Pn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ma(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ma(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Go(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ei(e)))}function $v(e,t,a){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),za(t,st,e.memoizedState.cache),hn();break;case 27:case 5:te(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,mo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?($a(t),t.flags|=128,null):(a&t.child.childLanes)!==0?qf(e,t,a):($a(t),e=_a(e,t,a),e!==null?e.sibling:null);$a(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Pn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Hf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),F(tt,tt.current),s)break;return null;case 22:return t.lanes=0,Mf(e,t,a,t.pendingProps);case 24:za(t,st,e.memoizedState.cache)}return _a(e,t,a)}function Vf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!Go(e,a)&&(t.flags&128)===0)return it=!1,$v(e,t,a);it=(e.flags&131072)!==0}else it=!1,De&&(t.flags&1048576)!==0&&bd(t,Is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=pn(t.elementType),t.type=e,typeof e=="function")Xr(e)?(s=wn(e,s),t.tag=1,t=Bf(null,t,e,s,a)):(t.tag=0,t=zo(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=Cf(null,t,e,s,a);break e}else if(o===Y){t.tag=14,t=Rf(null,t,e,s,a);break e}}throw t=le(e)||e,Error(i(306,t,""))}}return t;case 0:return zo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=wn(s,t.pendingProps),Bf(e,t,s,o,a);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(i(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,oo(e,t),Ws(t,s,null,a);var m=t.memoizedState;if(s=m.cache,za(t,st,s),s!==c.cache&&ao(t,[st],a,!0),Fs(),s=m.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Lf(e,t,s,a);break e}else if(s!==o){o=Qt(Error(i(424)),t),Ks(o),t=Lf(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Wt(e.firstChild),vt=t,De=!0,Ua=null,Zt=!0,a=Dd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hn(),s===o){t=_a(e,t,a);break e}yt(e,t,s,a)}t=t.child}return t;case 26:return bi(e,t),e===null?(a=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,s=zi(be.current).createElement(a),s[gt]=t,s[jt]=e,bt(s,a,e),ft(s),t.stateNode=s):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),e===null&&De&&(s=t.stateNode=Jh(t.type,t.pendingProps,be.current),vt=t,Zt=!0,o=Qe,Pa(t.type)?(xu=o,Qe=Wt(s.firstChild)):Qe=o),yt(e,t,t.pendingProps.children,a),bi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((o=s=Qe)&&(s=vp(s,t.type,t.pendingProps,Zt),s!==null?(t.stateNode=s,vt=t,Qe=Wt(s.firstChild),Zt=!1,o=!0):o=!1),o||ka(t)),te(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,s=c.children,pu(o,c)?s=null:m!==null&&pu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=vo(e,t,Rv,null,null,a),bl._currentValue=o),bi(e,t),yt(e,t,s,a),t.child;case 6:return e===null&&De&&((e=a=Qe)&&(a=pp(a,t.pendingProps,Zt),a!==null?(t.stateNode=a,vt=t,Qe=null,e=!0):e=!1),e||ka(t)),null;case 13:return qf(e,t,a);case 4:return _e(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=bn(t,null,s,a):yt(e,t,s,a),t.child;case 11:return Cf(e,t,t.type,t.pendingProps,a);case 7:return yt(e,t,t.pendingProps,a),t.child;case 8:return yt(e,t,t.pendingProps.children,a),t.child;case 12:return yt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,za(t,t.type,s.value),yt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,gn(t),o=pt(o),s=s(o),t.flags|=1,yt(e,t,s,a),t.child;case 14:return Rf(e,t,t.type,t.pendingProps,a);case 15:return Df(e,t,t.type,t.pendingProps,a);case 19:return Hf(e,t,a);case 31:return qv(e,t,a);case 22:return Mf(e,t,a,t.pendingProps);case 24:return gn(t),s=pt(st),e===null?(o=lo(),o===null&&(o=Ye,c=no(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},ro(t),za(t,st,o)):((e.lanes&a)!==0&&(oo(e,t),Ws(t,null,null,a),Fs()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),za(t,st,s)):(s=c.cache,za(t,st,s),s!==o.cache&&ao(t,[st],a,!0))),yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function wa(e){e.flags|=4}function Yo(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(gh())e.flags|=8192;else throw yn=si,io}else e.flags&=-16777217}function Gf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sm(t))if(gh())e.flags|=8192;else throw yn=si,io}function wi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wc():536870912,e.lanes|=t,rs|=t)}function ll(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Hv(e,t,a){var s=t.pendingProps;switch(Zr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),pa(st),E(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?wa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wr())),Pe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(wa(t),c!==null?(Pe(t),Gf(t,c)):(Pe(t),Yo(t,o,null,s,a))):c?c!==e.memoizedState?(wa(t),Pe(t),Gf(t,c)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&wa(t),Pe(t),Yo(t,o,e,s,a)),null;case 27:if(he(t),a=be.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Pe(t),null}e=ee.current,Qn(t)?wd(t):(e=Jh(o,s,a),t.stateNode=e,wa(t))}return Pe(t),null;case 5:if(he(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wa(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Pe(t),null}if(c=ee.current,Qn(t))wd(t);else{var m=zi(be.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}c[gt]=t,c[jt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(bt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wa(t)}}return Pe(t),Yo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&wa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=be.current,Qn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=vt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[gt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||qh(e.nodeValue,a)),e||ka(t,!0)}else e=zi(e).createTextNode(s),e[gt]=t,t.stateNode=e}return Pe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Qn(t),a!==null){if(e===null){if(!s)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[gt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else a=Wr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Pe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Qn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[gt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),o=!1}else o=Wr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),wi(t,t.updateQueue),Pe(t),null);case 4:return E(),e===null&&fu(t.stateNode.containerInfo),Pe(t),null;case 10:return pa(t.type),Pe(t),null;case 19:if($(tt),s=t.memoizedState,s===null)return Pe(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)ll(s,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=oi(e),c!==null){for(t.flags|=128,ll(s,!1),e=c.updateQueue,t.updateQueue=e,wi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vd(a,e),a=a.sibling;return F(tt,tt.current&1|2),De&&ga(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Dt()>Ti&&(t.flags|=128,o=!0,ll(s,!1),t.lanes=4194304)}else{if(!o)if(e=oi(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,wi(t,e),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!De)return Pe(t),null}else 2*Dt()-s.renderingStartTime>Ti&&a!==536870912&&(t.flags|=128,o=!0,ll(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,a=tt.current,F(tt,o?a&1|2:a&1),De&&ga(t,s.treeForkCount),e):(Pe(t),null);case 22:case 23:return Lt(t),ho(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),a=t.updateQueue,a!==null&&wi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&$(vn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pa(st),Pe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Vv(e,t){switch(Zr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(st),E(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(i(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(tt),null;case 4:return E(),null;case 10:return pa(t.type),null;case 22:case 23:return Lt(t),ho(),e!==null&&$(vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(st),null;case 25:return null;default:return null}}function Yf(e,t){switch(Zr(t),t.tag){case 3:pa(st),E();break;case 26:case 27:case 5:he(t);break;case 4:E();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:$(tt);break;case 10:pa(t.type);break;case 22:case 23:Lt(t),ho(),e!==null&&$(vn);break;case 24:pa(st)}}function il(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,m=a.inst;s=c(),m.destroy=s}a=a.next}while(a!==o)}}catch(y){qe(t,t.return,y)}}function Va(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var _=a,R=y;try{R()}catch(L){qe(o,_,L)}}}s=s.next}while(s!==c)}}catch(L){qe(t,t.return,L)}}function If(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ud(t,a)}catch(s){qe(e,e.return,s)}}}function Kf(e,t,a){a.props=wn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){qe(e,t,s)}}function rl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){qe(e,t,o)}}function ua(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){qe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){qe(e,t,o)}else a.current=null}function Xf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){qe(e,e.return,o)}}function Io(e,t,a){try{var s=e.stateNode;cp(s,e.type,a,t),s[jt]=t}catch(o){qe(e,e.return,o)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pa(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fa));else if(s!==4&&(s===27&&Pa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function xi(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Pa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xi(e,t,a),e=e.sibling;e!==null;)xi(e,t,a),e=e.sibling}function Pf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,s,a),t[gt]=e,t[jt]=a}catch(c){qe(e,e.return,c)}}var xa=!1,rt=!1,Qo=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Gv(e,t){if(e=e.containerInfo,gu=Gi,e=rd(e),$r(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,y=-1,_=-1,R=0,L=0,G=e,D=null;t:for(;;){for(var M;G!==a||o!==0&&G.nodeType!==3||(y=m+o),G!==c||s!==0&&G.nodeType!==3||(_=m+s),G.nodeType===3&&(m+=G.nodeValue.length),(M=G.firstChild)!==null;)D=G,G=M;for(;;){if(G===e)break t;if(D===a&&++R===o&&(y=m),D===c&&++L===s&&(_=m),(M=G.nextSibling)!==null)break;G=D,D=G.parentNode}G=M}a=y===-1||_===-1?null:{start:y,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(vu={focusedElem:e,selectionRange:a},Gi=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var re=wn(a.type,o);e=s.getSnapshotBeforeUpdate(re,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){qe(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)bu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function Zf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ja(e,a),s&4&&il(5,a);break;case 1:if(ja(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){qe(a,a.return,m)}else{var o=wn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){qe(a,a.return,m)}}s&64&&If(a),s&512&&rl(a,a.return);break;case 3:if(ja(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ud(e,t)}catch(m){qe(a,a.return,m)}}break;case 27:t===null&&s&4&&Pf(a);case 26:case 5:ja(e,a),t===null&&s&4&&Xf(a),s&512&&rl(a,a.return);break;case 12:ja(e,a);break;case 31:ja(e,a),s&4&&eh(e,a);break;case 13:ja(e,a),s&4&&th(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Fv.bind(null,a),yp(e,a))));break;case 22:if(s=a.memoizedState!==null||xa,!s){t=t!==null&&t.memoizedState!==null||rt,o=xa;var c=rt;xa=s,(rt=t)&&!c?Ea(e,a,(a.subtreeFlags&8772)!==0):ja(e,a),xa=o,rt=c}break;case 30:break;default:ja(e,a)}}function Ff(e){var t=e.alternate;t!==null&&(e.alternate=null,Ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Sr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Tt=!1;function Sa(e,t,a){for(a=a.child;a!==null;)Wf(e,t,a),a=a.sibling}function Wf(e,t,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Rs,a)}catch{}switch(a.tag){case 26:rt||ua(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||ua(a,t);var s=Je,o=Tt;Pa(a.type)&&(Je=a.stateNode,Tt=!1),Sa(e,t,a),vl(a.stateNode),Je=s,Tt=o;break;case 5:rt||ua(a,t);case 6:if(s=Je,o=Tt,Je=null,Sa(e,t,a),Je=s,Tt=o,Je!==null)if(Tt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(c){qe(a,t,c)}else try{Je.removeChild(a.stateNode)}catch(c){qe(a,t,c)}break;case 18:Je!==null&&(Tt?(e=Je,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gs(e)):Ih(Je,a.stateNode));break;case 4:s=Je,o=Tt,Je=a.stateNode.containerInfo,Tt=!0,Sa(e,t,a),Je=s,Tt=o;break;case 0:case 11:case 14:case 15:Va(2,a,t),rt||Va(4,a,t),Sa(e,t,a);break;case 1:rt||(ua(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Kf(a,t,s)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:rt=(s=rt)||a.memoizedState!==null,Sa(e,t,a),rt=s;break;default:Sa(e,t,a)}}function eh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gs(e)}catch(a){qe(t,t.return,a)}}}function th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gs(e)}catch(a){qe(t,t.return,a)}}function Yv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jf),t;default:throw Error(i(435,e.tag))}}function Si(e,t){var a=Yv(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Wv.bind(null,e,s);s.then(o,o)}})}function Nt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Pa(y.type)){Je=y.stateNode,Tt=!1;break e}break;case 5:Je=y.stateNode,Tt=!1;break e;case 3:case 4:Je=y.stateNode.containerInfo,Tt=!0;break e}y=y.return}if(Je===null)throw Error(i(160));Wf(c,m,o),Je=null,Tt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ah(t,e),t=t.sibling}var aa=null;function ah(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Ot(e),s&4&&(Va(3,e,e.return),il(3,e),Va(5,e,e.return));break;case 1:Nt(t,e),Ot(e),s&512&&(rt||a===null||ua(a,a.return)),s&64&&xa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=aa;if(Nt(t,e),Ot(e),s&512&&(rt||a===null||ua(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Us]||c[gt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),bt(c,s,a),c[gt]=e,ft(c),s=c;break e;case"link":var m=am("link","href",o).get(s+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(c=m[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}c=o.createElement(s),bt(c,s,a),o.head.appendChild(c);break;case"meta":if(m=am("meta","content",o).get(s+(a.content||""))){for(y=0;y<m.length;y++)if(c=m[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}c=o.createElement(s),bt(c,s,a),o.head.appendChild(c);break;default:throw Error(i(468,s))}c[gt]=e,ft(c),s=c}e.stateNode=s}else nm(o,e.type,e.stateNode);else e.stateNode=tm(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?nm(o,e.type,e.stateNode):tm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Io(e,e.memoizedProps,a.memoizedProps)}break;case 27:Nt(t,e),Ot(e),s&512&&(rt||a===null||ua(a,a.return)),a!==null&&s&4&&Io(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Nt(t,e),Ot(e),s&512&&(rt||a===null||ua(a,a.return)),e.flags&32){o=e.stateNode;try{Ln(o,"")}catch(re){qe(e,e.return,re)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Io(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Qo=!0);break;case 6:if(Nt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(re){qe(e,e.return,re)}}break;case 3:if(qi=null,o=aa,aa=Bi(t.containerInfo),Nt(t,e),aa=o,Ot(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(re){qe(e,e.return,re)}Qo&&(Qo=!1,nh(e));break;case 4:s=aa,aa=Bi(e.stateNode.containerInfo),Nt(t,e),Ot(e),aa=s;break;case 12:Nt(t,e),Ot(e);break;case 31:Nt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Si(e,s)));break;case 13:Nt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ei=Dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Si(e,s)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,R=xa,L=rt;if(xa=R||o,rt=L||_,Nt(t,e),rt=L,xa=R,Ot(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||xa||rt||xn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(c=_.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=_.stateNode;var G=_.memoizedProps.style,D=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(re){qe(_,_.return,re)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(re){qe(_,_.return,re)}}}else if(t.tag===18){if(a===null){_=t;try{var M=_.stateNode;o?Kh(M,!0):Kh(_.stateNode,!1)}catch(re){qe(_,_.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Si(e,a))));break;case 19:Nt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Si(e,s)));break;case 30:break;case 21:break;default:Nt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Qf(s)){a=s;break}s=s.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,c=Ko(e);xi(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(Ln(m,""),a.flags&=-33);var y=Ko(e);xi(e,y,m);break;case 3:case 4:var _=a.stateNode.containerInfo,R=Ko(e);Xo(e,R,_);break;default:throw Error(i(161))}}catch(L){qe(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ja(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zf(e,t.alternate,t),t=t.sibling}function xn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Va(4,t,t.return),xn(t);break;case 1:ua(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kf(t,t.return,a),xn(t);break;case 27:vl(t.stateNode);case 26:case 5:ua(t,t.return),xn(t);break;case 22:t.memoizedState===null&&xn(t);break;case 30:xn(t);break;default:xn(t)}e=e.sibling}}function Ea(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Ea(o,c,a),il(4,c);break;case 1:if(Ea(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){qe(s,s.return,R)}if(s=c,o=s.updateQueue,o!==null){var y=s.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Md(_[o],y)}catch(R){qe(s,s.return,R)}}a&&m&64&&If(c),rl(c,c.return);break;case 27:Pf(c);case 26:case 5:Ea(o,c,a),a&&s===null&&m&4&&Xf(c),rl(c,c.return);break;case 12:Ea(o,c,a);break;case 31:Ea(o,c,a),a&&m&4&&eh(o,c);break;case 13:Ea(o,c,a),a&&m&4&&th(o,c);break;case 22:c.memoizedState===null&&Ea(o,c,a),rl(c,c.return);break;case 30:break;default:Ea(o,c,a)}t=t.sibling}}function Po(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xs(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e))}function na(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sh(e,t,a,s),t=t.sibling}function sh(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:na(e,t,a,s),o&2048&&il(9,t);break;case 1:na(e,t,a,s);break;case 3:na(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e)));break;case 12:if(o&2048){na(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,y=c.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){qe(t,t.return,_)}}else na(e,t,a,s);break;case 31:na(e,t,a,s);break;case 13:na(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?na(e,t,a,s):ol(e,t):c._visibility&2?na(e,t,a,s):(c._visibility|=2,ss(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Po(m,t);break;case 24:na(e,t,a,s),o&2048&&Jo(t.alternate,t);break;default:na(e,t,a,s)}}function ss(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,y=a,_=s,R=m.flags;switch(m.tag){case 0:case 11:case 15:ss(c,m,y,_,o),il(8,m);break;case 23:break;case 22:var L=m.stateNode;m.memoizedState!==null?L._visibility&2?ss(c,m,y,_,o):ol(c,m):(L._visibility|=2,ss(c,m,y,_,o)),o&&R&2048&&Po(m.alternate,m);break;case 24:ss(c,m,y,_,o),o&&R&2048&&Jo(m.alternate,m);break;default:ss(c,m,y,_,o)}t=t.sibling}}function ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:ol(a,s),o&2048&&Po(s.alternate,s);break;case 24:ol(a,s),o&2048&&Jo(s.alternate,s);break;default:ol(a,s)}t=t.sibling}}var ul=8192;function ls(e,t,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)lh(e,t,a),e=e.sibling}function lh(e,t,a){switch(e.tag){case 26:ls(e,t,a),e.flags&ul&&e.memoizedState!==null&&Cp(a,aa,e.memoizedState,e.memoizedProps);break;case 5:ls(e,t,a);break;case 3:case 4:var s=aa;aa=Bi(e.stateNode.containerInfo),ls(e,t,a),aa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ul,ul=16777216,ls(e,t,a),ul=s):ls(e,t,a));break;default:ls(e,t,a)}}function ih(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ht=s,oh(s,e)}ih(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rh(e),e=e.sibling}function rh(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Va(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ji(e)):cl(e);break;default:cl(e)}}function ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ht=s,oh(s,e)}ih(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Va(8,t,t.return),ji(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ji(t));break;default:ji(t)}e=e.sibling}}function oh(e,t){for(;ht!==null;){var a=ht;switch(a.tag){case 0:case 11:case 15:Va(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ht=s;else e:for(a=e;ht!==null;){s=ht;var o=s.sibling,c=s.return;if(Ff(s),s===a){ht=null;break e}if(o!==null){o.return=c,ht=o;break e}ht=c}}}var Iv={getCacheForType:function(e){var t=pt(st),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return pt(st).controller.signal}},Kv=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ye=null,Oe=null,Ce=0,Le=0,qt=null,Ga=!1,is=!1,Zo=!1,Ta=0,et=0,Ya=0,Sn=0,Fo=0,$t=0,rs=0,dl=null,At=null,Wo=!1,Ei=0,uh=0,Ti=1/0,Ni=null,Ia=null,ct=0,Ka=null,os=null,Na=0,eu=0,tu=null,ch=null,fl=0,au=null;function Ht(){return(ze&2)!==0&&Ce!==0?Ce&-Ce:C.T!==null?ou():Ec()}function dh(){if($t===0)if((Ce&536870912)===0||De){var e=kl;kl<<=1,(kl&3932160)===0&&(kl=262144),$t=e}else $t=536870912;return e=Bt.current,e!==null&&(e.flags|=32),$t}function Ct(e,t,a){(e===Ye&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(us(e,0),Xa(e,Ce,$t,!1)),Ms(e,a),((ze&2)===0||e!==Ye)&&(e===Ye&&((ze&2)===0&&(Sn|=a),et===4&&Xa(e,Ce,$t,!1)),ca(e))}function fh(e,t,a){if((ze&6)!==0)throw Error(i(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ds(e,t),o=s?Pv(e,t):su(e,t,!0),c=s;do{if(o===0){is&&!s&&Xa(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Xv(a)){o=su(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=dl;var _=y.current.memoizedState.isDehydrated;if(_&&(us(y,m).flags|=256),m=su(y,m,!1),m!==2){if(Zo&&!_){y.errorRecoveryDisabledLanes|=c,Sn|=c,o=4;break e}c=At,At=o,c!==null&&(At===null?At=c:At.push.apply(At,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){us(e,0),Xa(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Xa(s,t,$t,!Ga);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Ei+300-Dt(),10<o)){if(Xa(s,t,$t,!Ga),Bl(s,0,!0)!==0)break e;Na=t,s.timeoutHandle=Gh(hh.bind(null,s,a,At,Ni,Wo,t,$t,Sn,rs,Ga,c,"Throttled",-0,0),o);break e}hh(s,a,At,Ni,Wo,t,$t,Sn,rs,Ga,c,null,-0,0)}}break}while(!0);ca(e)}function hh(e,t,a,s,o,c,m,y,_,R,L,G,D,M){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},lh(t,c,G);var re=(c&62914560)===c?Ei-Dt():(c&4194048)===c?uh-Dt():0;if(re=Rp(G,re),re!==null){Na=c,e.cancelPendingCommit=re(wh.bind(null,e,t,c,a,s,o,m,y,_,L,G,null,D,M)),Xa(e,c,m,!R);return}}wh(e,t,c,a,s,o,m,y,_)}function Xv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!kt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,a,s){t&=~Fo,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Ut(o),m=1<<c;s[c]=-1,o&=~m}a!==0&&xc(e,a,t)}function Oi(){return(ze&6)===0?(hl(0),!1):!0}function nu(){if(Oe!==null){if(Le===0)var e=Oe.return;else e=Oe,va=mn=null,bo(e),Wn=null,Ps=0,e=Oe;for(;e!==null;)Yf(e.alternate,e),e=e.return;Oe=null}}function us(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Na=0,nu(),Ye=e,Oe=a=ma(e.current,null),Ce=t,Le=0,qt=null,Ga=!1,is=Ds(e,t),Zo=!1,rs=$t=Fo=Sn=Ya=et=0,At=dl=null,Wo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Ut(s),c=1<<o;t|=e[o],s&=~c}return Ta=t,Pl(),a}function mh(e,t){Ee=null,C.H=nl,t===Fn||t===ni?(t=Ad(),Le=3):t===io?(t=Ad(),Le=4):Le=t===ko?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,Oe===null&&(et=1,pi(e,Qt(t,e.current)))}function gh(){var e=Bt.current;return e===null?!0:(Ce&4194048)===Ce?Ft===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Ft:!1}function vh(){var e=C.H;return C.H=nl,e===null?nl:e}function ph(){var e=C.A;return C.A=Iv,e}function Ai(){et=4,Ga||(Ce&4194048)!==Ce&&Bt.current!==null||(is=!0),(Ya&134217727)===0&&(Sn&134217727)===0||Ye===null||Xa(Ye,Ce,$t,!1)}function su(e,t,a){var s=ze;ze|=2;var o=vh(),c=ph();(Ye!==e||Ce!==t)&&(Ni=null,us(e,t)),t=!1;var m=et;e:do try{if(Le!==0&&Oe!==null){var y=Oe,_=qt;switch(Le){case 8:nu(),m=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var R=Le;if(Le=0,qt=null,cs(e,y,_,R),a&&is){m=0;break e}break;default:R=Le,Le=0,qt=null,cs(e,y,_,R)}}Qv(),m=et;break}catch(L){mh(e,L)}while(!0);return t&&e.shellSuspendCounter++,va=mn=null,ze=s,C.H=o,C.A=c,Oe===null&&(Ye=null,Ce=0,Pl()),m}function Qv(){for(;Oe!==null;)yh(Oe)}function Pv(e,t){var a=ze;ze|=2;var s=vh(),o=ph();Ye!==e||Ce!==t?(Ni=null,Ti=Dt()+500,us(e,t)):is=Ds(e,t);e:do try{if(Le!==0&&Oe!==null){t=Oe;var c=qt;t:switch(Le){case 1:Le=0,qt=null,cs(e,t,c,1);break;case 2:case 9:if(Nd(c)){Le=0,qt=null,bh(t);break}t=function(){Le!==2&&Le!==9||Ye!==e||(Le=7),ca(e)},c.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Nd(c)?(Le=0,qt=null,bh(t)):(Le=0,qt=null,cs(e,t,c,7));break;case 5:var m=null;switch(Oe.tag){case 26:m=Oe.memoizedState;case 5:case 27:var y=Oe;if(m?sm(m):y.stateNode.complete){Le=0,qt=null;var _=y.sibling;if(_!==null)Oe=_;else{var R=y.return;R!==null?(Oe=R,Ci(R)):Oe=null}break t}}Le=0,qt=null,cs(e,t,c,5);break;case 6:Le=0,qt=null,cs(e,t,c,6);break;case 8:nu(),et=6;break e;default:throw Error(i(462))}}Jv();break}catch(L){mh(e,L)}while(!0);return va=mn=null,C.H=s,C.A=o,ze=a,Oe!==null?0:(Ye=null,Ce=0,Pl(),et)}function Jv(){for(;Oe!==null&&!b0();)yh(Oe)}function yh(e){var t=Vf(e.alternate,e,Ta);e.memoizedProps=e.pendingProps,t===null?Ci(e):Oe=t}function bh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=zf(a,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=zf(a,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:bo(t);default:Yf(a,t),t=Oe=vd(t,Ta),t=Vf(a,t,Ta)}e.memoizedProps=e.pendingProps,t===null?Ci(e):Oe=t}function cs(e,t,a,s){va=mn=null,bo(t),Wn=null,Ps=0;var o=t.return;try{if(Lv(e,o,t,a,Ce)){et=1,pi(e,Qt(a,e.current)),Oe=null;return}}catch(c){if(o!==null)throw Oe=o,c;et=1,pi(e,Qt(a,e.current)),Oe=null;return}t.flags&32768?(De||s===1?e=!0:is||(Ce&536870912)!==0?e=!1:(Ga=e=!0,(s===2||s===9||s===3||s===6)&&(s=Bt.current,s!==null&&s.tag===13&&(s.flags|=16384))),_h(t,e)):Ci(t)}function Ci(e){var t=e;do{if((t.flags&32768)!==0){_h(t,Ga);return}e=t.return;var a=Hv(t.alternate,t,Ta);if(a!==null){Oe=a;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);et===0&&(et=5)}function _h(e,t){do{var a=Vv(e.alternate,e);if(a!==null){a.flags&=32767,Oe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=a}while(e!==null);et=6,Oe=null}function wh(e,t,a,s,o,c,m,y,_){e.cancelPendingCommit=null;do Ri();while(ct!==0);if((ze&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(c=t.lanes|t.childLanes,c|=Ir,A0(e,a,c,m,y,_),e===Ye&&(Oe=Ye=null,Ce=0),os=t,Ka=e,Na=a,eu=c,tu=o,ch=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ep(Ml,function(){return Th(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,o=J.p,J.p=2,m=ze,ze|=4;try{Gv(e,t,a)}finally{ze=m,J.p=o,C.T=s}}ct=1,xh(),Sh(),jh()}}function xh(){if(ct===1){ct=0;var e=Ka,t=os,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var s=J.p;J.p=2;var o=ze;ze|=4;try{ah(t,e);var c=vu,m=rd(e.containerInfo),y=c.focusedElem,_=c.selectionRange;if(m!==y&&y&&y.ownerDocument&&id(y.ownerDocument.documentElement,y)){if(_!==null&&$r(y)){var R=_.start,L=_.end;if(L===void 0&&(L=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(L,y.value.length);else{var G=y.ownerDocument||document,D=G&&G.defaultView||window;if(D.getSelection){var M=D.getSelection(),re=y.textContent.length,ve=Math.min(_.start,re),Ve=_.end===void 0?ve:Math.min(_.end,re);!M.extend&&ve>Ve&&(m=Ve,Ve=ve,ve=m);var T=ld(y,ve),j=ld(y,Ve);if(T&&j&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==j.node||M.focusOffset!==j.offset)){var A=G.createRange();A.setStart(T.node,T.offset),M.removeAllRanges(),ve>Ve?(M.addRange(A),M.extend(j.node,j.offset)):(A.setEnd(j.node,j.offset),M.addRange(A))}}}}for(G=[],M=y;M=M.parentNode;)M.nodeType===1&&G.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var V=G[y];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Gi=!!gu,vu=gu=null}finally{ze=o,J.p=s,C.T=a}}e.current=t,ct=2}}function Sh(){if(ct===2){ct=0;var e=Ka,t=os,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var s=J.p;J.p=2;var o=ze;ze|=4;try{Zf(e,t.alternate,t)}finally{ze=o,J.p=s,C.T=a}}ct=3}}function jh(){if(ct===4||ct===3){ct=0,_0();var e=Ka,t=os,a=Na,s=ch;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,os=Ka=null,Eh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ia=null),wr(a),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Rs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=C.T,o=J.p,J.p=2,C.T=null;try{for(var c=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];c(y.value,{componentStack:y.stack})}}finally{C.T=t,J.p=o}}(Na&3)!==0&&Ri(),ca(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===au?fl++:(fl=0,au=e):fl=0,hl(0)}}function Eh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xs(t)))}function Ri(){return xh(),Sh(),jh(),Th()}function Th(){if(ct!==5)return!1;var e=Ka,t=eu;eu=0;var a=wr(Na),s=C.T,o=J.p;try{J.p=32>a?32:a,C.T=null,a=tu,tu=null;var c=Ka,m=Na;if(ct=0,os=Ka=null,Na=0,(ze&6)!==0)throw Error(i(331));var y=ze;if(ze|=4,rh(c.current),sh(c,c.current,m,a),ze=y,hl(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Rs,c)}catch{}return!0}finally{J.p=o,C.T=s,Eh(e,t)}}function Nh(e,t,a){t=Qt(a,t),t=Uo(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(Ms(e,2),ca(e))}function qe(e,t,a){if(e.tag===3)Nh(e,e,a);else for(;t!==null;){if(t.tag===3){Nh(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ia===null||!Ia.has(s))){e=Qt(a,e),a=Of(2),s=qa(t,a,2),s!==null&&(Af(a,s,t,e),Ms(s,2),ca(s));break}}t=t.return}}function lu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Kv;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Zo=!0,o.add(a),e=Zv.bind(null,e,t,a),t.then(e,e))}function Zv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(Ce&a)===a&&(et===4||et===3&&(Ce&62914560)===Ce&&300>Dt()-Ei?(ze&2)===0&&us(e,0):Fo|=a,rs===Ce&&(rs=0)),ca(e)}function Oh(e,t){t===0&&(t=wc()),e=dn(e,t),e!==null&&(Ms(e,t),ca(e))}function Fv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Oh(e,a)}function Wv(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),Oh(e,a)}function ep(e,t){return Rn(e,t)}var Di=null,ds=null,iu=!1,Mi=!1,ru=!1,Qa=0;function ca(e){e!==ds&&e.next===null&&(ds===null?Di=ds=e:ds=ds.next=e),Mi=!0,iu||(iu=!0,ap())}function hl(e,t){if(!ru&&Mi){ru=!0;do for(var a=!1,s=Di;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var m=s.suspendedLanes,y=s.pingedLanes;c=(1<<31-Ut(42|e)+1)-1,c&=o&~(m&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Dh(s,c))}else c=Ce,c=Bl(s,s===Ye?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Ds(s,c)||(a=!0,Dh(s,c));s=s.next}while(a);ru=!1}}function tp(){Ah()}function Ah(){Mi=iu=!1;var e=0;Qa!==0&&fp()&&(e=Qa);for(var t=Dt(),a=null,s=Di;s!==null;){var o=s.next,c=Ch(s,t);c===0?(s.next=null,a===null?Di=o:a.next=o,o===null&&(ds=a)):(a=s,(e!==0||(c&3)!==0)&&(Mi=!0)),s=o}ct!==0&&ct!==5||hl(e),Qa!==0&&(Qa=0)}function Ch(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Ut(c),y=1<<m,_=o[m];_===-1?((y&a)===0||(y&s)!==0)&&(o[m]=O0(y,t)):_<=t&&(e.expiredLanes|=y),c&=~y}if(t=Ye,a=Ce,a=Bl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&yr(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ds(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&yr(s),wr(a)){case 2:case 8:a=bc;break;case 32:a=Ml;break;case 268435456:a=_c;break;default:a=Ml}return s=Rh.bind(null,e),a=Rn(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&yr(s),e.callbackPriority=2,e.callbackNode=null,2}function Rh(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var s=Ce;return s=Bl(e,e===Ye?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(fh(e,s,t),Ch(e,Dt()),e.callbackNode!=null&&e.callbackNode===a?Rh.bind(null,e):null)}function Dh(e,t){if(Ri())return null;fh(e,t,!0)}function ap(){mp(function(){(ze&6)!==0?Rn(yc,tp):Ah()})}function ou(){if(Qa===0){var e=Jn;e===0&&(e=Ul,Ul<<=1,(Ul&261888)===0&&(Ul=256)),Qa=e}return Qa}function Mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hl(""+e)}function Uh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function np(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=Mh((o[jt]||null).action),m=s.submitter;m&&(t=(t=m[jt]||null)?Mh(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var y=new Il("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qa!==0){var _=m?Uh(o,m):new FormData(o);Oo(a,{pending:!0,data:_,method:o.method,action:c},null,_)}}else typeof c=="function"&&(y.preventDefault(),_=m?Uh(o,m):new FormData(o),Oo(a,{pending:!0,data:_,method:o.method,action:c},c,_))},currentTarget:o}]})}}for(var uu=0;uu<Yr.length;uu++){var cu=Yr[uu],sp=cu.toLowerCase(),lp=cu[0].toUpperCase()+cu.slice(1);ta(sp,"on"+lp)}ta(cd,"onAnimationEnd"),ta(dd,"onAnimationIteration"),ta(fd,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(wv,"onTransitionRun"),ta(xv,"onTransitionStart"),ta(Sv,"onTransitionCancel"),ta(hd,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ip=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function kh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],_=y.instance,R=y.currentTarget;if(y=y.listener,_!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=R;try{c(o)}catch(L){Ql(L)}o.currentTarget=null,c=_}else for(m=0;m<s.length;m++){if(y=s[m],_=y.instance,R=y.currentTarget,y=y.listener,_!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=R;try{c(o)}catch(L){Ql(L)}o.currentTarget=null,c=_}}}}function Ae(e,t){var a=t[xr];a===void 0&&(a=t[xr]=new Set);var s=e+"__bubble";a.has(s)||(zh(t,e,2,!1),a.add(s))}function du(e,t,a){var s=0;t&&(s|=4),zh(a,e,s,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[Ui]){e[Ui]=!0,Oc.forEach(function(a){a!=="selectionchange"&&(ip.has(a)||du(a,!1,e),du(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,du("selectionchange",!1,t))}}function zh(e,t,a,s){switch(dm(t)){case 2:var o=Up;break;case 8:o=kp;break;default:o=Nu}a=o.bind(null,t,a,e),o=void 0,!Rr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function hu(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=s.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Mn(y),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){s=c=m;continue e}y=y.parentNode}}s=s.return}$c(function(){var R=c,L=Ar(a),G=[];e:{var D=md.get(e);if(D!==void 0){var M=Il,re=e;switch(e){case"keypress":if(Gl(a)===0)break e;case"keydown":case"keyup":M=W0;break;case"focusin":re="focus",M=kr;break;case"focusout":re="blur",M=kr;break;case"beforeblur":case"afterblur":M=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=av;break;case cd:case dd:case fd:M=Y0;break;case hd:M=sv;break;case"scroll":case"scrollend":M=q0;break;case"wheel":M=iv;break;case"copy":case"cut":case"paste":M=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ic;break;case"toggle":case"beforetoggle":M=ov}var ve=(t&4)!==0,Ve=!ve&&(e==="scroll"||e==="scrollend"),T=ve?D!==null?D+"Capture":null:D;ve=[];for(var j=R,A;j!==null;){var V=j;if(A=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||A===null||T===null||(V=zs(j,T),V!=null&&ve.push(gl(j,V,A))),Ve)break;j=j.return}0<ve.length&&(D=new M(D,re,null,a,L),G.push({event:D,listeners:ve}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",D&&a!==Or&&(re=a.relatedTarget||a.fromElement)&&(Mn(re)||re[Dn]))break e;if((M||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,M?(re=a.relatedTarget||a.toElement,M=R,re=re?Mn(re):null,re!==null&&(Ve=d(re),ve=re.tag,re!==Ve||ve!==5&&ve!==27&&ve!==6)&&(re=null)):(M=null,re=R),M!==re)){if(ve=Gc,V="onMouseLeave",T="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Ic,V="onPointerLeave",T="onPointerEnter",j="pointer"),Ve=M==null?D:ks(M),A=re==null?D:ks(re),D=new ve(V,j+"leave",M,a,L),D.target=Ve,D.relatedTarget=A,V=null,Mn(L)===R&&(ve=new ve(T,j+"enter",re,a,L),ve.target=A,ve.relatedTarget=Ve,V=ve),Ve=V,M&&re)t:{for(ve=rp,T=M,j=re,A=0,V=T;V;V=ve(V))A++;V=0;for(var me=j;me;me=ve(me))V++;for(;0<A-V;)T=ve(T),A--;for(;0<V-A;)j=ve(j),V--;for(;A--;){if(T===j||j!==null&&T===j.alternate){ve=T;break t}T=ve(T),j=ve(j)}ve=null}else ve=null;M!==null&&Bh(G,D,M,ve,!1),re!==null&&Ve!==null&&Bh(G,Ve,re,ve,!0)}}e:{if(D=R?ks(R):window,M=D.nodeName&&D.nodeName.toLowerCase(),M==="select"||M==="input"&&D.type==="file")var Ue=Wc;else if(Zc(D))if(ed)Ue=yv;else{Ue=vv;var oe=gv}else M=D.nodeName,!M||M.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&Nr(R.elementType)&&(Ue=Wc):Ue=pv;if(Ue&&(Ue=Ue(e,R))){Fc(G,Ue,a,L);break e}oe&&oe(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&Tr(D,"number",D.value)}switch(oe=R?ks(R):window,e){case"focusin":(Zc(oe)||oe.contentEditable==="true")&&(Vn=oe,Hr=R,Ys=null);break;case"focusout":Ys=Hr=Vn=null;break;case"mousedown":Vr=!0;break;case"contextmenu":case"mouseup":case"dragend":Vr=!1,od(G,a,L);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":od(G,a,L)}var Ne;if(Br)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Hn?Pc(e,a)&&(Re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(Kc&&a.locale!=="ko"&&(Hn||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Hn&&(Ne=Hc()):(Da=L,Dr="value"in Da?Da.value:Da.textContent,Hn=!0)),oe=ki(R,Re),0<oe.length&&(Re=new Yc(Re,e,null,a,L),G.push({event:Re,listeners:oe}),Ne?Re.data=Ne:(Ne=Jc(a),Ne!==null&&(Re.data=Ne)))),(Ne=cv?dv(e,a):fv(e,a))&&(Re=ki(R,"onBeforeInput"),0<Re.length&&(oe=new Yc("onBeforeInput","beforeinput",null,a,L),G.push({event:oe,listeners:Re}),oe.data=Ne)),np(G,e,R,a,L)}kh(G,t)})}function gl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ki(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=zs(e,a),o!=null&&s.unshift(gl(e,o,c)),o=zs(e,t),o!=null&&s.push(gl(e,o,c))),e.tag===3)return s;e=e.return}return[]}function rp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bh(e,t,a,s,o){for(var c=t._reactName,m=[];a!==null&&a!==s;){var y=a,_=y.alternate,R=y.stateNode;if(y=y.tag,_!==null&&_===s)break;y!==5&&y!==26&&y!==27||R===null||(_=R,o?(R=zs(a,c),R!=null&&m.unshift(gl(a,R,_))):o||(R=zs(a,c),R!=null&&m.push(gl(a,R,_)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var op=/\r\n?/g,up=/\u0000|\uFFFD/g;function Lh(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(up,"")}function qh(e,t){return t=Lh(t),Lh(e)===t}function He(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ln(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ln(e,""+s);break;case"className":ql(e,"class",s);break;case"tabIndex":ql(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,a,s);break;case"style":Lc(e,s,c);break;case"data":if(t!=="object"){ql(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hl(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&He(e,t,"name",o.name,o,null),He(e,t,"formEncType",o.formEncType,o,null),He(e,t,"formMethod",o.formMethod,o,null),He(e,t,"formTarget",o.formTarget,o,null)):(He(e,t,"encType",o.encType,o,null),He(e,t,"method",o.method,o,null),He(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Hl(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=fa);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Hl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Ll(e,"popover",s);break;case"xlinkActuate":da(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":da(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":da(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":da(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":da(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":da(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":da(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":da(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":da(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ll(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=B0.get(a)||a,Ll(e,a,s))}}function mu(e,t,a,s,o,c){switch(a){case"style":Lc(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ln(e,s):(typeof s=="number"||typeof s=="bigint")&&Ln(e,""+s);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"onClick":s!=null&&(e.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[jt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ll(e,a,s)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:He(e,t,c,m,a,null)}}o&&He(e,t,"srcSet",a.srcSet,a,null),s&&He(e,t,"src",a.src,a,null);return;case"input":Ae("invalid",e);var y=c=m=o=null,_=null,R=null;for(s in a)if(a.hasOwnProperty(s)){var L=a[s];if(L!=null)switch(s){case"name":o=L;break;case"type":m=L;break;case"checked":_=L;break;case"defaultChecked":R=L;break;case"value":c=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,t));break;default:He(e,t,s,L,a,null)}}Uc(e,c,y,_,R,m,o,!1);return;case"select":Ae("invalid",e),s=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:He(e,t,o,y,a,null)}t=c,a=m,e.multiple=!!s,t!=null?Bn(e,!!s,t,!1):a!=null&&Bn(e,!!s,a,!0);return;case"textarea":Ae("invalid",e),c=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:He(e,t,m,y,a,null)}zc(e,s,o,c);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(s=a[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,t,_,s,a,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(s=0;s<ml.length;s++)Ae(ml[s],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(s=a[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:He(e,t,R,s,a,null)}return;default:if(Nr(t)){for(L in a)a.hasOwnProperty(L)&&(s=a[L],s!==void 0&&mu(e,t,L,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&He(e,t,y,s,a,null))}function cp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,y=null,_=null,R=null,L=null;for(M in a){var G=a[M];if(a.hasOwnProperty(M)&&G!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":_=G;default:s.hasOwnProperty(M)||He(e,t,M,null,s,G)}}for(var D in s){var M=s[D];if(G=a[D],s.hasOwnProperty(D)&&(M!=null||G!=null))switch(D){case"type":c=M;break;case"name":o=M;break;case"checked":R=M;break;case"defaultChecked":L=M;break;case"value":m=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==G&&He(e,t,D,M,s,G)}}Er(e,m,y,_,R,L,c,o);return;case"select":M=m=y=D=null;for(c in a)if(_=a[c],a.hasOwnProperty(c)&&_!=null)switch(c){case"value":break;case"multiple":M=_;default:s.hasOwnProperty(c)||He(e,t,c,null,s,_)}for(o in s)if(c=s[o],_=a[o],s.hasOwnProperty(o)&&(c!=null||_!=null))switch(o){case"value":D=c;break;case"defaultValue":y=c;break;case"multiple":m=c;default:c!==_&&He(e,t,o,c,s,_)}t=y,a=m,s=M,D!=null?Bn(e,!!a,D,!1):!!s!=!!a&&(t!=null?Bn(e,!!a,t,!0):Bn(e,!!a,a?[]:"",!1));return;case"textarea":M=D=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:He(e,t,y,null,s,o)}for(m in s)if(o=s[m],c=a[m],s.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":D=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==c&&He(e,t,m,o,s,c)}kc(e,D,M);return;case"option":for(var re in a)if(D=a[re],a.hasOwnProperty(re)&&D!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:He(e,t,re,null,s,D)}for(_ in s)if(D=s[_],M=a[_],s.hasOwnProperty(_)&&D!==M&&(D!=null||M!=null))switch(_){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:He(e,t,_,D,s,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)D=a[ve],a.hasOwnProperty(ve)&&D!=null&&!s.hasOwnProperty(ve)&&He(e,t,ve,null,s,D);for(R in s)if(D=s[R],M=a[R],s.hasOwnProperty(R)&&D!==M&&(D!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:He(e,t,R,D,s,M)}return;default:if(Nr(t)){for(var Ve in a)D=a[Ve],a.hasOwnProperty(Ve)&&D!==void 0&&!s.hasOwnProperty(Ve)&&mu(e,t,Ve,void 0,s,D);for(L in s)D=s[L],M=a[L],!s.hasOwnProperty(L)||D===M||D===void 0&&M===void 0||mu(e,t,L,D,s,M);return}}for(var T in a)D=a[T],a.hasOwnProperty(T)&&D!=null&&!s.hasOwnProperty(T)&&He(e,t,T,null,s,D);for(G in s)D=s[G],M=a[G],!s.hasOwnProperty(G)||D===M||D==null&&M==null||He(e,t,G,D,s,M)}function $h(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,m=o.initiatorType,y=o.duration;if(c&&y&&$h(m)){for(m=0,y=o.responseEnd,s+=1;s<a.length;s++){var _=a[s],R=_.startTime;if(R>y)break;var L=_.transferSize,G=_.initiatorType;L&&$h(G)&&(_=_.responseEnd,m+=L*(_<y?1:(y-R)/(_-R)))}if(--s,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,vu=null;function zi(e){return e.nodeType===9?e:e.ownerDocument}function Hh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yu=null;function fp(){var e=window.event;return e&&e.type==="popstate"?e===yu?!1:(yu=e,!0):(yu=null,!1)}var Gh=typeof setTimeout=="function"?setTimeout:void 0,hp=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,mp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(gp)}:Gh;function gp(e){setTimeout(function(){throw e})}function Pa(e){return e==="head"}function Ih(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),gs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vl(a);for(var c=a.firstChild;c;){var m=c.nextSibling,y=c.nodeName;c[Us]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&vl(e.ownerDocument.body);a=o}while(a);gs(t)}function Kh(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bu(a),Sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vp(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function pp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wt(e.nextSibling),e===null))return null;return e}function Xh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function _u(e){return e.data==="$?"||e.data==="$~"}function wu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xu=null;function Qh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Wt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ph(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Jh(e,t,a){switch(t=zi(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Sr(e)}var ea=new Map,Zh=new Set;function Bi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=J.d;J.d={f:bp,r:_p,D:wp,C:xp,L:Sp,m:jp,X:Tp,S:Ep,M:Np};function bp(){var e=Oa.f(),t=Oi();return e||t}function _p(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?mf(t):Oa.r(e)}var fs=typeof document>"u"?null:document;function Fh(e,t,a){var s=fs;if(s&&typeof t=="string"&&t){var o=Kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Zh.has(o)||(Zh.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),bt(t,"link",e),ft(t),s.head.appendChild(t)))}}function wp(e){Oa.D(e),Fh("dns-prefetch",e,null)}function xp(e,t){Oa.C(e,t),Fh("preconnect",e,t)}function Sp(e,t,a){Oa.L(e,t,a);var s=fs;if(s&&e&&t){var o='link[rel="preload"][as="'+Kt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Kt(a.imageSizes)+'"]')):o+='[href="'+Kt(e)+'"]';var c=o;switch(t){case"style":c=hs(e);break;case"script":c=ms(e)}ea.has(c)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ea.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(pl(c))||t==="script"&&s.querySelector(yl(c))||(t=s.createElement("link"),bt(t,"link",e),ft(t),s.head.appendChild(t)))}}function jp(e,t){Oa.m(e,t);var a=fs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Kt(s)+'"][href="'+Kt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ms(e)}if(!ea.has(c)&&(e=x({rel:"modulepreload",href:e},t),ea.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(c)))return}s=a.createElement("link"),bt(s,"link",e),ft(s),a.head.appendChild(s)}}}function Ep(e,t,a){Oa.S(e,t,a);var s=fs;if(s&&e){var o=kn(s).hoistableStyles,c=hs(e);t=t||"default";var m=o.get(c);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(pl(c)))y.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ea.get(c))&&Su(e,a);var _=m=s.createElement("link");ft(_),bt(_,"link",e),_._p=new Promise(function(R,L){_.onload=R,_.onerror=L}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Li(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(c,m)}}}function Tp(e,t){Oa.X(e,t);var a=fs;if(a&&e){var s=kn(a).hoistableScripts,o=ms(e),c=s.get(o);c||(c=a.querySelector(yl(o)),c||(e=x({src:e,async:!0},t),(t=ea.get(o))&&ju(e,t),c=a.createElement("script"),ft(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Np(e,t){Oa.M(e,t);var a=fs;if(a&&e){var s=kn(a).hoistableScripts,o=ms(e),c=s.get(o);c||(c=a.querySelector(yl(o)),c||(e=x({src:e,async:!0,type:"module"},t),(t=ea.get(o))&&ju(e,t),c=a.createElement("script"),ft(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Wh(e,t,a,s){var o=(o=be.current)?Bi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=hs(a.href),a=kn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hs(a.href);var c=kn(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(pl(e)))&&!c._p&&(m.instance=c,m.state.loading=5),ea.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ea.set(e,a),c||Op(o,e,a,m.state))),t&&s===null)throw Error(i(528,""));return m}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ms(a),a=kn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function hs(e){return'href="'+Kt(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function em(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Op(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",a),ft(t),e.head.appendChild(t))}function ms(e){return'[src="'+Kt(e)+'"]'}function yl(e){return"script[async]"+e}function tm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(s)return t.instance=s,ft(s),s;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ft(s),bt(s,"style",o),Li(s,a.precedence,e),t.instance=s;case"stylesheet":o=hs(a.href);var c=e.querySelector(pl(o));if(c)return t.state.loading|=4,t.instance=c,ft(c),c;s=em(a),(o=ea.get(o))&&Su(s,o),c=(e.ownerDocument||e).createElement("link"),ft(c);var m=c;return m._p=new Promise(function(y,_){m.onload=y,m.onerror=_}),bt(c,"link",s),t.state.loading|=4,Li(c,a.precedence,e),t.instance=c;case"script":return c=ms(a.src),(o=e.querySelector(yl(c)))?(t.instance=o,ft(o),o):(s=a,(o=ea.get(c))&&(s=x({},a),ju(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ft(o),bt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Li(s,a.precedence,e));return t.instance}function Li(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var qi=null;function am(e,t,a){if(qi===null){var s=new Map,o=qi=new Map;o.set(a,s)}else o=qi,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Us]||c[gt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(c):s.set(m,[c])}}return s}function nm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ap(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cp(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=hs(s.href),c=t.querySelector(pl(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$i.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,ft(c);return}c=t.ownerDocument||t,s=em(s),(o=ea.get(o))&&Su(s,o),c=c.createElement("link"),ft(c);var m=c;m._p=new Promise(function(y,_){m.onload=y,m.onerror=_}),bt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=$i.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Eu=0;function Rp(e,t){return e.stylesheets&&e.count===0&&Vi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Vi(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Eu===0&&(Eu=62500*dp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vi(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Eu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function $i(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hi=null;function Vi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hi=new Map,t.forEach(Dp,e),Hi=null,$i.call(e))}function Dp(e,t){if(!(t.state.loading&4)){var a=Hi.get(e);if(a)var s=a.get(null);else{a=new Map,Hi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||s,c===s&&a.set(null,o),a.set(m,o),this.count++,s=$i.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Mp(e,t,a,s,o,c,m,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function lm(e,t,a,s,o,c,m,y,_,R,L,G){return e=new Mp(e,t,a,m,_,R,L,G,y),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},ro(c),e}function im(e){return e?(e=In,e):In}function rm(e,t,a,s,o,c){o=im(o),s.context===null?s.context=o:s.pendingContext=o,s=La(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=qa(e,s,t),a!==null&&(Ct(a,e,t),Zs(a,e,t))}function om(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Tu(e,t){om(e,t),(e=e.alternate)&&om(e,t)}function um(e){if(e.tag===13||e.tag===31){var t=dn(e,67108864);t!==null&&Ct(t,e,67108864),Tu(e,67108864)}}function cm(e){if(e.tag===13||e.tag===31){var t=Ht();t=_r(t);var a=dn(e,t);a!==null&&Ct(a,e,t),Tu(e,t)}}var Gi=!0;function Up(e,t,a,s){var o=C.T;C.T=null;var c=J.p;try{J.p=2,Nu(e,t,a,s)}finally{J.p=c,C.T=o}}function kp(e,t,a,s){var o=C.T;C.T=null;var c=J.p;try{J.p=8,Nu(e,t,a,s)}finally{J.p=c,C.T=o}}function Nu(e,t,a,s){if(Gi){var o=Ou(s);if(o===null)hu(e,t,s,Yi,a),fm(e,s);else if(Bp(o,e,t,a,s))s.stopPropagation();else if(fm(e,s),t&4&&-1<zp.indexOf(e)){for(;o!==null;){var c=Un(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=ln(c.pendingLanes);if(m!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var _=1<<31-Ut(m);y.entanglements[1]|=_,m&=~_}ca(c),(ze&6)===0&&(Ti=Dt()+500,hl(0))}}break;case 31:case 13:y=dn(c,2),y!==null&&Ct(y,c,2),Oi(),Tu(c,2)}if(c=Ou(s),c===null&&hu(e,t,s,Yi,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else hu(e,t,s,null,a)}}function Ou(e){return e=Ar(e),Au(e)}var Yi=null;function Au(e){if(Yi=null,e=Mn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yi=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(w0()){case yc:return 2;case bc:return 8;case Ml:case x0:return 32;case _c:return 268435456;default:return 32}default:return 32}}var Cu=!1,Ja=null,Za=null,Fa=null,_l=new Map,wl=new Map,Wa=[],zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fm(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function xl(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Un(t),t!==null&&um(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Bp(e,t,a,s,o){switch(t){case"focusin":return Ja=xl(Ja,e,t,a,s,o),!0;case"dragenter":return Za=xl(Za,e,t,a,s,o),!0;case"mouseover":return Fa=xl(Fa,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return _l.set(c,xl(_l.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,wl.set(c,xl(wl.get(c)||null,e,t,a,s,o)),!0}return!1}function hm(e){var t=Mn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Tc(e.priority,function(){cm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Tc(e.priority,function(){cm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ou(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Or=s,a.target.dispatchEvent(s),Or=null}else return t=Un(a),t!==null&&um(t),e.blockedOn=a,!1;t.shift()}return!0}function mm(e,t,a){Ii(e)&&a.delete(t)}function Lp(){Cu=!1,Ja!==null&&Ii(Ja)&&(Ja=null),Za!==null&&Ii(Za)&&(Za=null),Fa!==null&&Ii(Fa)&&(Fa=null),_l.forEach(mm),wl.forEach(mm)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lp)))}var Xi=null;function gm(e){Xi!==e&&(Xi=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xi===e&&(Xi=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Au(s||a)===null)continue;break}var c=Un(a);c!==null&&(e.splice(t,3),t-=3,Oo(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function gs(e){function t(_){return Ki(_,e)}Ja!==null&&Ki(Ja,e),Za!==null&&Ki(Za,e),Fa!==null&&Ki(Fa,e),_l.forEach(t),wl.forEach(t);for(var a=0;a<Wa.length;a++){var s=Wa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Wa.length&&(a=Wa[0],a.blockedOn===null);)hm(a),a.blockedOn===null&&Wa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],m=o[jt]||null;if(typeof c=="function")m||gm(a);else if(m){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[jt]||null)y=m.formAction;else if(Au(o)!==null)continue}else y=m.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),gm(a)}}}function vm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ru(e){this._internalRoot=e}Qi.prototype.render=Ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,s=Ht();rm(a,s,e,t,null,null)},Qi.prototype.unmount=Ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rm(e.current,2,null,e,null,null),Oi(),t[Dn]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wa.length&&t!==0&&t<Wa[a].priority;a++);Wa.splice(a,0,e),a===0&&hm(e)}};var pm=n.version;if(pm!=="19.2.0")throw Error(i(527,pm,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var qp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pi.isDisabled&&Pi.supportsFiber)try{Rs=Pi.inject(qp),Mt=Pi}catch{}}return jl.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,s="",o=jf,c=Ef,m=Tf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=lm(e,1,!1,null,null,a,s,null,o,c,m,vm),e[Dn]=t.current,fu(e),new Ru(t)},jl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var s=!1,o="",c=jf,m=Ef,y=Tf,_=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=lm(e,1,!0,t,a??null,s,o,_,c,m,y,vm),t.context=im(null),a=t.current,s=Ht(),s=_r(s),o=La(s),o.callback=null,qa(a,o,s),a=s,t.current.lanes=a,Ms(t,a),ca(t),e[Dn]=t.current,fu(e),new Qi(t)},jl.version="19.2.0",jl}var Nm;function Jp(){if(Nm)return Uu.exports;Nm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Uu.exports=Pp(),Uu.exports}var Zp=Jp();const Fp=rc(Zp);var Qu=function(r,n){return Qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,i){l.__proto__=i}||function(l,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(l[u]=i[u])},Qu(r,n)};function gg(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Qu(r,n);function l(){this.constructor=r}r.prototype=n===null?Object.create(n):(l.prototype=n.prototype,new l)}var ur=function(){return ur=Object.assign||function(n){for(var l,i=1,u=arguments.length;i<u;i++){l=arguments[i];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(n[d]=l[d])}return n},ur.apply(this,arguments)};function Ns(r,n){var l={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(l[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(r);u<i.length;u++)n.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(l[i[u]]=r[i[u]]);return l}function vg(r,n,l,i){var u=arguments.length,d=u<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,l):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,n,l,i);else for(var g=r.length-1;g>=0;g--)(h=r[g])&&(d=(u<3?h(d):u>3?h(n,l,d):h(n,l))||d);return u>3&&d&&Object.defineProperty(n,l,d),d}function pg(r,n){return function(l,i){n(l,i,r)}}function yg(r,n,l,i,u,d){function h(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var g=i.kind,p=g==="getter"?"get":g==="setter"?"set":"value",v=!n&&r?i.static?r:r.prototype:null,b=n||(v?Object.getOwnPropertyDescriptor(v,i.name):{}),x,w=!1,O=l.length-1;O>=0;O--){var k={};for(var B in i)k[B]=B==="access"?{}:i[B];for(var B in i.access)k.access[B]=i.access[B];k.addInitializer=function(W){if(w)throw new TypeError("Cannot add initializers after decoration has completed");d.push(h(W||null))};var z=(0,l[O])(g==="accessor"?{get:b.get,set:b.set}:b[p],k);if(g==="accessor"){if(z===void 0)continue;if(z===null||typeof z!="object")throw new TypeError("Object expected");(x=h(z.get))&&(b.get=x),(x=h(z.set))&&(b.set=x),(x=h(z.init))&&u.unshift(x)}else(x=h(z))&&(g==="field"?u.unshift(x):b[p]=x)}v&&Object.defineProperty(v,i.name,b),w=!0}function bg(r,n,l){for(var i=arguments.length>2,u=0;u<n.length;u++)l=i?n[u].call(r,l):n[u].call(r);return i?l:void 0}function _g(r){return typeof r=="symbol"?r:"".concat(r)}function wg(r,n,l){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:l?"".concat(l," ",n):n})}function xg(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)}function ue(r,n,l,i){function u(d){return d instanceof l?d:new l(function(h){h(d)})}return new(l||(l=Promise))(function(d,h){function g(b){try{v(i.next(b))}catch(x){h(x)}}function p(b){try{v(i.throw(b))}catch(x){h(x)}}function v(b){b.done?d(b.value):u(b.value).then(g,p)}v((i=i.apply(r,n||[])).next())})}function Sg(r,n){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,u,d,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=g(0),h.throw=g(1),h.return=g(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(v){return function(b){return p([v,b])}}function p(v){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(l=0)),l;)try{if(i=1,u&&(d=v[0]&2?u.return:v[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,v[1])).done)return d;switch(u=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,u=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){l=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){l.label=v[1];break}if(v[0]===6&&l.label<d[1]){l.label=d[1],d=v;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(v);break}d[2]&&l.ops.pop(),l.trys.pop();continue}v=n.call(r,l)}catch(b){v=[6,b],u=0}finally{i=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var mr=Object.create?(function(r,n,l,i){i===void 0&&(i=l);var u=Object.getOwnPropertyDescriptor(n,l);(!u||("get"in u?!n.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return n[l]}}),Object.defineProperty(r,i,u)}):(function(r,n,l,i){i===void 0&&(i=l),r[i]=n[l]});function jg(r,n){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&mr(n,r,l)}function cr(r){var n=typeof Symbol=="function"&&Symbol.iterator,l=n&&r[n],i=0;if(l)return l.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function uc(r,n){var l=typeof Symbol=="function"&&r[Symbol.iterator];if(!l)return r;var i=l.call(r),u,d=[],h;try{for(;(n===void 0||n-- >0)&&!(u=i.next()).done;)d.push(u.value)}catch(g){h={error:g}}finally{try{u&&!u.done&&(l=i.return)&&l.call(i)}finally{if(h)throw h.error}}return d}function Eg(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(uc(arguments[n]));return r}function Tg(){for(var r=0,n=0,l=arguments.length;n<l;n++)r+=arguments[n].length;for(var i=Array(r),u=0,n=0;n<l;n++)for(var d=arguments[n],h=0,g=d.length;h<g;h++,u++)i[u]=d[h];return i}function Ng(r,n,l){if(l||arguments.length===2)for(var i=0,u=n.length,d;i<u;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return r.concat(d||Array.prototype.slice.call(n))}function Es(r){return this instanceof Es?(this.v=r,this):new Es(r)}function Og(r,n,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=l.apply(r,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(O){return function(k){return Promise.resolve(k).then(O,x)}}function g(O,k){i[O]&&(u[O]=function(B){return new Promise(function(z,W){d.push([O,B,z,W])>1||p(O,B)})},k&&(u[O]=k(u[O])))}function p(O,k){try{v(i[O](k))}catch(B){w(d[0][3],B)}}function v(O){O.value instanceof Es?Promise.resolve(O.value.v).then(b,x):w(d[0][2],O)}function b(O){p("next",O)}function x(O){p("throw",O)}function w(O,k){O(k),d.shift(),d.length&&p(d[0][0],d[0][1])}}function Ag(r){var n,l;return n={},i("next"),i("throw",function(u){throw u}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(u,d){n[u]=r[u]?function(h){return(l=!l)?{value:Es(r[u](h)),done:!1}:d?d(h):h}:d}}function Cg(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],l;return n?n.call(r):(r=typeof cr=="function"?cr(r):r[Symbol.iterator](),l={},i("next"),i("throw"),i("return"),l[Symbol.asyncIterator]=function(){return this},l);function i(d){l[d]=r[d]&&function(h){return new Promise(function(g,p){h=r[d](h),u(g,p,h.done,h.value)})}}function u(d,h,g,p){Promise.resolve(p).then(function(v){d({value:v,done:g})},h)}}function Rg(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var Wp=Object.create?(function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}):function(r,n){r.default=n},Pu=function(r){return Pu=Object.getOwnPropertyNames||function(n){var l=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(l[l.length]=i);return l},Pu(r)};function Dg(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var l=Pu(r),i=0;i<l.length;i++)l[i]!=="default"&&mr(n,r,l[i]);return Wp(n,r),n}function Mg(r){return r&&r.__esModule?r:{default:r}}function Ug(r,n,l,i){if(l==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!i:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?i:l==="a"?i.call(r):i?i.value:n.get(r)}function kg(r,n,l,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!u:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(r,l):u?u.value=l:n.set(r,l),l}function zg(r,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?n===r:r.has(n)}function Bg(r,n,l){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var i,u;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose],l&&(u=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");u&&(i=function(){try{u.call(this)}catch(d){return Promise.reject(d)}}),r.stack.push({value:n,dispose:i,async:l})}else l&&r.stack.push({async:!0});return n}var ey=typeof SuppressedError=="function"?SuppressedError:function(r,n,l){var i=new Error(l);return i.name="SuppressedError",i.error=r,i.suppressed=n,i};function Lg(r){function n(d){r.error=r.hasError?new ey(d,r.error,"An error was suppressed during disposal."):d,r.hasError=!0}var l,i=0;function u(){for(;l=r.stack.pop();)try{if(!l.async&&i===1)return i=0,r.stack.push(l),Promise.resolve().then(u);if(l.dispose){var d=l.dispose.call(l.value);if(l.async)return i|=2,Promise.resolve(d).then(u,function(h){return n(h),u()})}else i|=1}catch(h){n(h)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return u()}function qg(r,n){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(l,i,u,d,h){return i?n?".jsx":".js":u&&(!d||!h)?l:u+d+"."+h.toLowerCase()+"js"}):r}const ty={__extends:gg,__assign:ur,__rest:Ns,__decorate:vg,__param:pg,__esDecorate:yg,__runInitializers:bg,__propKey:_g,__setFunctionName:wg,__metadata:xg,__awaiter:ue,__generator:Sg,__createBinding:mr,__exportStar:jg,__values:cr,__read:uc,__spread:Eg,__spreadArrays:Tg,__spreadArray:Ng,__await:Es,__asyncGenerator:Og,__asyncDelegator:Ag,__asyncValues:Cg,__makeTemplateObject:Rg,__importStar:Dg,__importDefault:Mg,__classPrivateFieldGet:Ug,__classPrivateFieldSet:kg,__classPrivateFieldIn:zg,__addDisposableResource:Bg,__disposeResources:Lg,__rewriteRelativeImportExtension:qg},ay=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Bg,get __assign(){return ur},__asyncDelegator:Ag,__asyncGenerator:Og,__asyncValues:Cg,__await:Es,__awaiter:ue,__classPrivateFieldGet:Ug,__classPrivateFieldIn:zg,__classPrivateFieldSet:kg,__createBinding:mr,__decorate:vg,__disposeResources:Lg,__esDecorate:yg,__exportStar:jg,__extends:gg,__generator:Sg,__importDefault:Mg,__importStar:Dg,__makeTemplateObject:Rg,__metadata:xg,__param:pg,__propKey:_g,__read:uc,__rest:Ns,__rewriteRelativeImportExtension:qg,__runInitializers:bg,__setFunctionName:wg,__spread:Eg,__spreadArray:Ng,__spreadArrays:Tg,__values:cr,default:ty},Symbol.toStringTag,{value:"Module"})),ny="modulepreload",sy=function(r){return"/sistema-financeiro-central-truck-assistencia-3/"+r},Om={},Os=function(n,l,i){let u=Promise.resolve();if(l&&l.length>0){let h=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),p=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));u=h(l.map(v=>{if(v=sy(v),v in Om)return;Om[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":ny,b||(w.as="script"),w.crossOrigin="",w.href=v,p&&w.setAttribute("nonce",p),document.head.appendChild(w),b)return new Promise((O,k)=>{w.addEventListener("load",O),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return u.then(h=>{for(const g of h||[])g.status==="rejected"&&d(g.reason);return n().catch(d)})},ly=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...l)=>Os(async()=>{const{default:i}=await Promise.resolve().then(()=>Cn);return{default:i}},void 0).then(({default:i})=>i(...l)):n=fetch,(...l)=>n(...l)};class cc extends Error{constructor(n,l="FunctionsError",i){super(n),this.name=l,this.context=i}}class Am extends cc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Cm extends cc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Rm extends cc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ju;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ju||(Ju={}));class iy{constructor(n,{headers:l={},customFetch:i,region:u=Ju.Any}={}){this.url=n,this.headers=l,this.region=u,this.fetch=ly(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ue(this,arguments,void 0,function*(l,i={}){var u;try{const{headers:d,method:h,body:g,signal:p}=i;let v={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${l}`);b&&b!=="any"&&(v["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let w;g&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=g):typeof g=="string"?(v["Content-Type"]="text/plain",w=g):typeof FormData<"u"&&g instanceof FormData?w=g:(v["Content-Type"]="application/json",w=JSON.stringify(g)):w=g;const O=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),d),body:w,signal:p}).catch(W=>{throw W.name==="AbortError"?W:new Am(W)}),k=O.headers.get("x-relay-error");if(k&&k==="true")throw new Cm(O);if(!O.ok)throw new Rm(O);let B=((u=O.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),z;return B==="application/json"?z=yield O.json():B==="application/octet-stream"||B==="application/pdf"?z=yield O.blob():B==="text/event-stream"?z=O:B==="multipart/form-data"?z=yield O.formData():z=yield O.text(),{data:z,error:null,response:O}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new Am(d)}:{data:null,error:d,response:d instanceof Rm||d instanceof Cm?d.context:void 0}}})}}var wt={};const As=mg(ay);var Ji={},Zi={},Fi={},Wi={},er={},ry=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ts=ry();const oy=Ts.fetch,$g=Ts.fetch.bind(Ts),Hg=Ts.Headers,uy=Ts.Request,cy=Ts.Response,Cn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hg,Request:uy,Response:cy,default:$g,fetch:oy},Symbol.toStringTag,{value:"Module"})),dy=mg(Cn);var tr={},Dm;function Vg(){if(Dm)return tr;Dm=1,Object.defineProperty(tr,"__esModule",{value:!0});class r extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return tr.default=r,tr}var Mm;function Gg(){if(Mm)return er;Mm=1,Object.defineProperty(er,"__esModule",{value:!0});const r=As,n=r.__importDefault(dy),l=r.__importDefault(Vg());class i{constructor(d){var h,g;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(g=d.isMaybeSingle)!==null&&g!==void 0?g:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let p=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var b,x,w,O;let k=null,B=null,z=null,W=v.status,I=v.statusText;if(v.ok){if(this.method!=="HEAD"){const U=await v.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?B=U:B=JSON.parse(U))}const Q=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),ce=(w=v.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");Q&&ce&&ce.length>1&&(z=parseInt(ce[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(B)&&(B.length>1?(k={code:"PGRST116",details:`Results contain ${B.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},B=null,z=null,W=406,I="Not Acceptable"):B.length===1?B=B[0]:B=null)}else{const Q=await v.text();try{k=JSON.parse(Q),Array.isArray(k)&&v.status===404&&(B=[],k=null,W=200,I="OK")}catch{v.status===404&&Q===""?(W=204,I="No Content"):k={message:Q}}if(k&&this.isMaybeSingle&&(!((O=k==null?void 0:k.details)===null||O===void 0)&&O.includes("0 rows"))&&(k=null,W=200,I="OK"),k&&this.shouldThrowOnError)throw new l.default(k)}return{error:k,data:B,count:z,status:W,statusText:I}});return this.shouldThrowOnError||(p=p.catch(v=>{var b,x,w;return{error:{message:`${(b=v==null?void 0:v.name)!==null&&b!==void 0?b:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(x=v==null?void 0:v.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=v==null?void 0:v.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(d,h)}returns(){return this}overrideTypes(){return this}}return er.default=i,er}var Um;function Yg(){if(Um)return Wi;Um=1,Object.defineProperty(Wi,"__esModule",{value:!0});const n=As.__importDefault(Gg());class l extends n.default{select(u){let d=!1;const h=(u??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:h,foreignTable:g,referencedTable:p=g}={}){const v=p?`${p}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${u}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,d,{foreignTable:h,referencedTable:g=h}={}){const p=typeof g>"u"?"offset":`${g}.offset`,v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(v,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:h=!1,buffers:g=!1,wal:p=!1,format:v="text"}={}){var b;const x=[u?"analyze":null,d?"verbose":null,h?"settings":null,g?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${w}"; options=${x};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return Wi.default=l,Wi}var km;function dc(){if(km)return Fi;km=1,Object.defineProperty(Fi,"__esModule",{value:!0});const n=As.__importDefault(Yg());class l extends n.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const h=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:h,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${p}fts${v}.${d}`),this}match(u){return Object.entries(u).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(u,d,h){return this.url.searchParams.append(u,`not.${d}.${h}`),this}or(u,{foreignTable:d,referencedTable:h=d}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,h){return this.url.searchParams.append(u,`${d}.${h}`),this}}return Fi.default=l,Fi}var zm;function Ig(){if(zm)return Zi;zm=1,Object.defineProperty(Zi,"__esModule",{value:!0});const n=As.__importDefault(dc());class l{constructor(u,{headers:d={},schema:h,fetch:g}){this.url=u,this.headers=new Headers(d),this.schema=h,this.fetch=g}select(u,d){const{head:h=!1,count:g}=d??{},p=h?"HEAD":"GET";let v=!1;const b=(u??"*").split("").map(x=>/\s/.test(x)&&!v?"":(x==='"'&&(v=!v),x)).join("");return this.url.searchParams.set("select",b),g&&this.headers.append("Prefer",`count=${g}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:h=!0}={}){var g;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(v.length>0){const b=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:h=!1,count:g,defaultToNull:p=!0}={}){var v;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const x=u.reduce((w,O)=>w.concat(Object.keys(O)),[]);if(x.length>0){const w=[...new Set(x)].map(O=>`"${O}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(u,{count:d}={}){var h;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:u}={}){var d;const h="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Zi.default=l,Zi}var Bm;function fy(){if(Bm)return Ji;Bm=1,Object.defineProperty(Ji,"__esModule",{value:!0});const r=As,n=r.__importDefault(Ig()),l=r.__importDefault(dc());class i{constructor(d,{headers:h={},schema:g,fetch:p}={}){this.url=d,this.headers=new Headers(h),this.schemaName=g,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:p=!1,count:v}={}){var b;let x;const w=new URL(`${this.url}/rpc/${d}`);let O;g||p?(x=g?"HEAD":"GET",Object.entries(h).filter(([B,z])=>z!==void 0).map(([B,z])=>[B,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([B,z])=>{w.searchParams.append(B,z)})):(x="POST",O=h);const k=new Headers(this.headers);return v&&k.set("Prefer",`count=${v}`),new l.default({method:x,url:w,headers:k,schema:this.schemaName,body:O,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Ji.default=i,Ji}var Lm;function hy(){if(Lm)return wt;Lm=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const r=As,n=r.__importDefault(fy());wt.PostgrestClient=n.default;const l=r.__importDefault(Ig());wt.PostgrestQueryBuilder=l.default;const i=r.__importDefault(dc());wt.PostgrestFilterBuilder=i.default;const u=r.__importDefault(Yg());wt.PostgrestTransformBuilder=u.default;const d=r.__importDefault(Gg());wt.PostgrestBuilder=d.default;const h=r.__importDefault(Vg());return wt.PostgrestError=h.default,wt.default={PostgrestClient:n.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:h.default},wt}var my=hy();const gy=rc(my),{PostgrestClient:vy,PostgrestQueryBuilder:Uw,PostgrestFilterBuilder:kw,PostgrestTransformBuilder:zw,PostgrestBuilder:Bw,PostgrestError:Lw}=gy;class py{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const i=l.node,u=parseInt(i.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const i=this.getWebSocketConstructor();return new i(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const yy="2.76.1",by=`realtime-js/${yy}`,_y="1.0.0",Zu=1e4,wy=1e3,xy=100;var Tl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Tl||(Tl={}));var dt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(dt||(dt={}));var ia;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ia||(ia={}));var Fu;(function(r){r.websocket="websocket"})(Fu||(Fu={}));var Nn;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Nn||(Nn={}));class Sy{constructor(){this.HEADER_LENGTH=1}decode(n,l){return n.constructor===ArrayBuffer?l(this._binaryDecode(n)):l(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const l=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,l,i)}_decodeBroadcast(n,l,i){const u=l.getUint8(1),d=l.getUint8(2);let h=this.HEADER_LENGTH+2;const g=i.decode(n.slice(h,h+u));h=h+u;const p=i.decode(n.slice(h,h+d));h=h+d;const v=JSON.parse(i.decode(n.slice(h,n.byteLength)));return{ref:null,topic:g,event:p,payload:v}}}class Kg{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ke||(Ke={}));const qm=(r,n,l={})=>{var i;const u=(i=l.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=jy(h,r,n,u),d),{}):{}},jy=(r,n,l,i)=>{const u=n.find(g=>g.name===r),d=u==null?void 0:u.type,h=l[r];return d&&!i.includes(d)?Xg(d,h):Wu(h)},Xg=(r,n)=>{if(r.charAt(0)==="_"){const l=r.slice(1,r.length);return Oy(n,l)}switch(r){case Ke.bool:return Ey(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return Ty(n);case Ke.json:case Ke.jsonb:return Ny(n);case Ke.timestamp:return Ay(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Wu(n);default:return Wu(n)}},Wu=r=>r,Ey=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Ty=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},Ny=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(n){return console.log(`JSON parse error: ${n}`),r}return r},Oy=(r,n)=>{if(typeof r!="string")return r;const l=r.length-1,i=r[l];if(r[0]==="{"&&i==="}"){let d;const h=r.slice(1,l);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>Xg(n,g))}return r},Ay=r=>typeof r=="string"?r.replace(" ","T"):r,Qg=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Lu{constructor(n,l,i={},u=Zu){this.channel=n,this.event=l,this.payload=i,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var i;return this._hasReceived(n)&&l((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var $m;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})($m||($m={}));class Nl{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},u=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,u,d,h),this.pendingDiffs.forEach(p=>{this.state=Nl.syncDiff(this.state,p,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Nl.syncDiff(this.state,u,d,h),g())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,i,u){const d=this.cloneDeep(n),h=this.transformState(l),g={},p={};return this.map(d,(v,b)=>{h[v]||(p[v]=b)}),this.map(h,(v,b)=>{const x=d[v];if(x){const w=b.map(z=>z.presence_ref),O=x.map(z=>z.presence_ref),k=b.filter(z=>O.indexOf(z.presence_ref)<0),B=x.filter(z=>w.indexOf(z.presence_ref)<0);k.length>0&&(g[v]=k),B.length>0&&(p[v]=B)}else g[v]=b}),this.syncDiff(d,{joins:g,leaves:p},i,u)}static syncDiff(n,l,i,u){const{joins:d,leaves:h}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return i||(i=()=>{}),u||(u=()=>{}),this.map(d,(g,p)=>{var v;const b=(v=n[g])!==null&&v!==void 0?v:[];if(n[g]=this.cloneDeep(p),b.length>0){const x=n[g].map(O=>O.presence_ref),w=b.filter(O=>x.indexOf(O.presence_ref)<0);n[g].unshift(...w)}i(g,b,p)}),this.map(h,(g,p)=>{let v=n[g];if(!v)return;const b=p.map(x=>x.presence_ref);v=v.filter(x=>b.indexOf(x.presence_ref)<0),n[g]=v,u(g,v,p),v.length===0&&delete n[g]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(i=>l(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,i)=>{const u=n[i];return"metas"in u?l[i]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[i]=u,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hm;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Hm||(Hm={}));var Ol;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ol||(Ol={}));var Aa;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Aa||(Aa={}));class fc{constructor(n,l={config:{}},i){var u,d;if(this.topic=n,this.params=l,this.socket=i,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Lu(this,ia.join,this.params,this.timeout),this.rejoinTimer=new Kg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ia.reply,{},(h,g)=>{this._trigger(this._replyEventName(g),h)}),this.presence=new Nl(this),this.broadcastEndpointURL=Qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var i,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:h,presence:g,private:p}}=this.params,v=(u=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(O=>O.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[Ol.PRESENCE]&&this.bindings[Ol.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(O=>n==null?void 0:n(Aa.CHANNEL_ERROR,O)),this._onClose(()=>n==null?void 0:n(Aa.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:O})=>{var k;if(this.socket.setAuth(),O===void 0){n==null||n(Aa.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,z=(k=B==null?void 0:B.length)!==null&&k!==void 0?k:0,W=[];for(let I=0;I<z;I++){const K=B[I],{filter:{event:Q,schema:ce,table:U,filter:Y}}=K,se=O&&O[I];if(se&&se.event===Q&&se.schema===ce&&se.table===U&&se.filter===Y)W.push(Object.assign(Object.assign({},K),{id:se.id}));else{this.unsubscribe(),this.state=dt.errored,n==null||n(Aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,n&&n(Aa.SUBSCRIBED);return}}).receive("error",O=>{this.state=dt.errored,n==null||n(Aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,i){return this.state===dt.joined&&n===Ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,l,i)}async httpSend(n,l,i={}){var u;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=i.timeout)!==null&&u!==void 0?u:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const v=await g.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var i,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=l.timeout)!==null&&i!==void 0?i:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,p;const v=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=dt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ia.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(u=>{i=new Lu(this,ia.leave,{},n),i.receive("ok",()=>{l(),u("ok")}).receive("timeout",()=>{l(),u("timed out")}).receive("error",()=>{u("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(n,l,i){const u=new AbortController,d=setTimeout(()=>u.abort(),i),h=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:u.signal}));return clearTimeout(d),h}_push(n,l,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Lu(this,n,l,i);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>xy){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,i){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,i){var u,d;const h=n.toLocaleLowerCase(),{close:g,error:p,leave:v,join:b}=ia;if(i&&[g,p,v,b].indexOf(h)>=0&&i!==this._joinRef())return;let w=this._onMessage(h,l,i);if(l&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(O=>{var k,B,z;return((k=O.filter)===null||k===void 0?void 0:k.event)==="*"||((z=(B=O.filter)===null||B===void 0?void 0:B.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===h}).map(O=>O.callback(w,i)):(d=this.bindings[h])===null||d===void 0||d.filter(O=>{var k,B,z,W,I,K;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in O){const Q=O.id,ce=(k=O.filter)===null||k===void 0?void 0:k.event;return Q&&((B=l.ids)===null||B===void 0?void 0:B.includes(Q))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((z=l.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const Q=(I=(W=O==null?void 0:O.filter)===null||W===void 0?void 0:W.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return Q==="*"||Q===((K=l==null?void 0:l.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===h}).map(O=>{if(typeof w=="object"&&"ids"in w){const k=w.data,{schema:B,table:z,commit_timestamp:W,type:I,errors:K}=k;w=Object.assign(Object.assign({},{schema:B,table:z,commit_timestamp:W,eventType:I,new:{},old:{},errors:K}),this._getPayloadRecords(k))}O.callback(w,i)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,i){const u=n.toLocaleLowerCase(),d={type:u,filter:l,callback:i};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,l){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&fc.isEqual(u.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const i in n)if(n[i]!==l[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ia.close,{},n)}_onError(n){this._on(ia.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=qm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=qm(n.columns,n.old_record)),l}}const qu=()=>{},ar={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cy=[1e3,2e3,5e3,1e4],Ry=1e4,Dy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class My{constructor(n,l){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zu,this.transport=null,this.heartbeatIntervalMs=ar.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new Sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Os(async()=>{const{default:g}=await Promise.resolve().then(()=>Cn);return{default:g}},void 0).then(({default:g})=>g(...h)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((i=l==null?void 0:l.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Fu.websocket}`,this.httpEndpoint=Qg(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=py.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_y}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,l??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,i){this.logger(n,l,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Tl.connecting:return Nn.Connecting;case Tl.open:return Nn.Open;case Tl.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const i=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===i);if(u)return u;{const d=new fc(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:i,payload:u,ref:d}=n,h=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${l} ${i} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(wy,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},ar.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:u,payload:d,ref:h}=l,g=h?`(${h})`:"",p=d.status||"";this.log("receive",`${p} ${i} ${u} ${g}`.trim(),d),this.channels.filter(v=>v._isMember(i)).forEach(v=>v._trigger(u,d,h)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ia.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const i=n.match(/\?/)?"&":"?",u=new URLSearchParams(l);return`${n}${i}${u}`}_workerObjectUrl(n){let l;if(n)l=n;else{const i=new Blob([Dy],{type:"application/javascript"});l=URL.createObjectURL(i)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l;n?l=n:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(i=>{const u={access_token:l,version:by};l&&i.updateJoinPayload(u),i.joinedOnce&&i._isJoined()&&i._push(ia.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(l)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Kg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ar.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,i,u,d,h,g,p,v,b;if(this.transport=(l=n==null?void 0:n.transport)!==null&&l!==void 0?l:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:Zu,this.heartbeatIntervalMs=(u=n==null?void 0:n.heartbeatIntervalMs)!==null&&u!==void 0?u:ar.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=n==null?void 0:n.heartbeatCallback)!==null&&g!==void 0?g:qu,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(x=>Cy[x-1]||Ry),this.encode=(v=n==null?void 0:n.encode)!==null&&v!==void 0?v:((x,w)=>w(JSON.stringify(x))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class hc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Fe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Uy extends hc{constructor(n,l,i){super(n),this.name="StorageApiError",this.status=l,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ec extends hc{constructor(n,l){super(n),this.name="StorageUnknownError",this.originalError=l}}const mc=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...l)=>Os(async()=>{const{default:i}=await Promise.resolve().then(()=>Cn);return{default:i}},void 0).then(({default:i})=>i(...l)):n=fetch,(...l)=>n(...l)},ky=()=>ue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Os(()=>Promise.resolve().then(()=>Cn),void 0)).Response:Response}),tc=r=>{if(Array.isArray(r))return r.map(l=>tc(l));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([l,i])=>{const u=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=tc(i)}),n},zy=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},$u=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),By=(r,n,l)=>ue(void 0,void 0,void 0,function*(){const i=yield ky();r instanceof i&&!(l!=null&&l.noResolveJson)?r.json().then(u=>{const d=r.status||500,h=(u==null?void 0:u.statusCode)||d+"";n(new Uy($u(u),d,h))}).catch(u=>{n(new ec($u(u),u))}):n(new ec($u(r),r))}),Ly=(r,n,l,i)=>{const u={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"||!i?u:(zy(i)?(u.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(i)):u.body=i,n!=null&&n.duplex&&(u.duplex=n.duplex),Object.assign(Object.assign({},u),l))};function Dl(r,n,l,i,u,d){return ue(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(l,Ly(n,i,u,d)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>By(p,g,i))})})}function Al(r,n,l,i){return ue(this,void 0,void 0,function*(){return Dl(r,"GET",n,l,i)})}function la(r,n,l,i,u){return ue(this,void 0,void 0,function*(){return Dl(r,"POST",n,i,u,l)})}function ac(r,n,l,i,u){return ue(this,void 0,void 0,function*(){return Dl(r,"PUT",n,i,u,l)})}function qy(r,n,l,i){return ue(this,void 0,void 0,function*(){return Dl(r,"HEAD",n,Object.assign(Object.assign({},l),{noResolveJson:!0}),i)})}function gc(r,n,l,i,u){return ue(this,void 0,void 0,function*(){return Dl(r,"DELETE",n,i,u,l)})}class $y{constructor(n,l){this.downloadFn=n,this.shouldThrowOnError=l}then(n,l){return this.execute().then(n,l)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}var Pg;class Hy{constructor(n,l){this.downloadFn=n,this.shouldThrowOnError=l,this[Pg]="BlobDownloadBuilder",this.promise=null}asStream(){return new $y(this.downloadFn,this.shouldThrowOnError)}then(n,l){return this.getPromise().then(n,l)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}Pg=Symbol.toStringTag;const Vy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gy{constructor(n,l={},i,u){this.shouldThrowOnError=!1,this.url=n,this.headers=l,this.bucketId=i,this.fetch=mc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,l,i,u){return ue(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Vm),u);let g=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",h.cacheControl),p&&d.append("metadata",this.encodeMetadata(p))):(d=i,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u!=null&&u.headers&&(g=Object.assign(Object.assign({},g),u.headers));const v=this._removeEmptyFolders(l),b=this._getFinalPath(v),x=yield(n=="PUT"?ac:la)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Fe(d))return{data:null,error:d};throw d}})}upload(n,l,i){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,l,i)})}uploadToSignedUrl(n,l,i,u){return ue(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",l);try{let p;const v=Object.assign({upsert:Vm.upsert},u),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",v.cacheControl)):(p=i,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const x=yield ac(this.fetch,g.toString(),p,{headers:b});return{data:{path:d,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Fe(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,l){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const u=Object.assign({},this.headers);l!=null&&l.upsert&&(u["x-upsert"]="true");const d=yield la(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:u}),h=new URL(this.url+d.url),g=h.searchParams.get("token");if(!g)throw new hc("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:g},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}update(n,l,i){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,l,i)})}move(n,l,i){return ue(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:l,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}copy(n,l,i){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield la(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:l,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}createSignedUrl(n,l,i){return ue(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),d=yield la(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:l},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}createSignedUrls(n,l,i){return ue(this,void 0,void 0,function*(){try{const u=yield la(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:n},{headers:this.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}download(n,l){const u=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),h=d?`?${d}`:"",g=this._getFinalPath(n),p=()=>Al(this.fetch,`${this.url}/${u}/${g}${h}`,{headers:this.headers,noResolveJson:!0});return new Hy(p,this.shouldThrowOnError)}info(n){return ue(this,void 0,void 0,function*(){const l=this._getFinalPath(n);try{const i=yield Al(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:tc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}exists(n){return ue(this,void 0,void 0,function*(){const l=this._getFinalPath(n);try{return yield qy(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i)&&i instanceof ec){const u=i.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,l){const i=this._getFinalPath(n),u=[],d=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";d!==""&&u.push(d);const g=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});p!==""&&u.push(p);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${v}`)}}}remove(n){return ue(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}list(n,l,i){return ue(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Vy),l),{prefix:n||""});return{data:yield la(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},i),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}listV2(n,l){return ue(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield la(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},l),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const l=[];return n.width&&l.push(`width=${n.width}`),n.height&&l.push(`height=${n.height}`),n.resize&&l.push(`resize=${n.resize}`),n.format&&l.push(`format=${n.format}`),n.quality&&l.push(`quality=${n.quality}`),l.join("&")}}const Jg="2.76.1",Zg={"X-Client-Info":`storage-js/${Jg}`};class Yy{constructor(n,l={},i,u){this.shouldThrowOnError=!1;const d=new URL(n);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zg),l),this.fetch=mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ue(this,void 0,void 0,function*(){try{return{data:yield Al(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}getBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield Al(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}createBucket(n){return ue(this,arguments,void 0,function*(l,i={public:!1}){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}})}updateBucket(n,l){return ue(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}}class Iy{constructor(n,l={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zg),l),this.fetch=mc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}listBuckets(n){return ue(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&l.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&l.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&l.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&l.set("sortOrder",n.sortOrder),n!=null&&n.search&&l.set("search",n.search);const i=l.toString(),u=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,d=yield Al(this.fetch,u,{headers:this.headers});return{data:Array.isArray(d)?d.filter(g=>g.type==="ANALYTICS"):[],error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Fe(l))return{data:null,error:l};throw l}})}}const vc={"X-Client-Info":`storage-js/${Jg}`,"Content-Type":"application/json"};class Fg extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Gt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Hu extends Fg{constructor(n,l,i){super(n),this.name="StorageVectorsApiError",this.status=l,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ky extends Fg{constructor(n,l){super(n),this.name="StorageVectorsUnknownError",this.originalError=l}}var Gm;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gm||(Gm={}));const pc=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...l)=>Os(async()=>{const{default:i}=await Promise.resolve().then(()=>Cn);return{default:i}},void 0).then(({default:i})=>i(...l)):n=fetch,(...l)=>n(...l)},Xy=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ym=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Qy=(r,n,l)=>ue(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(l!=null&&l.noResolveJson)){const u=r.status||500,d=r;if(typeof d.json=="function")d.json().then(h=>{const g=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||u+"";n(new Hu(Ym(h),u,g))}).catch(()=>{const h=u+"",g=d.statusText||`HTTP ${u} error`;n(new Hu(g,u,h))});else{const h=u+"",g=d.statusText||`HTTP ${u} error`;n(new Hu(g,u,h))}}else n(new Ky(Ym(r),r))}),Py=(r,n,l,i)=>{const u={method:r,headers:(n==null?void 0:n.headers)||{}};return i?(Xy(i)?(u.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),u.body=JSON.stringify(i)):u.body=i,Object.assign(Object.assign({},u),l)):u};function Jy(r,n,l,i,u,d){return ue(this,void 0,void 0,function*(){return new Promise((h,g)=>{r(l,Py(n,i,u,d)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>h(p)).catch(p=>Qy(p,g,i))})})}function Yt(r,n,l,i,u){return ue(this,void 0,void 0,function*(){return Jy(r,"POST",n,i,u,l)})}class Zy{constructor(n,l={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vc),l),this.fetch=pc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ue(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getIndex(n,l){return ue(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:l},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}listIndexes(n){return ue(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteIndex(n,l){return ue(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:l},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Gt(i))return{data:null,error:i};throw i}})}}class Fy{constructor(n,l={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vc),l),this.fetch=pc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ue(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getVectors(n){return ue(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}listVectors(n){return ue(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Yt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}queryVectors(n){return ue(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteVectors(n){return ue(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}}class Wy{constructor(n,l={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vc),l),this.fetch=pc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}getBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:yield Yt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}listBuckets(){return ue(this,arguments,void 0,function*(n={}){try{return{data:yield Yt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ue(this,void 0,void 0,function*(){try{return{data:(yield Yt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Gt(l))return{data:null,error:l};throw l}})}}class eb extends Wy{constructor(n,l={}){super(n,l.headers||{},l.fetch)}from(n){return new tb(this.url,this.headers,n,this.fetch)}}class tb extends Zy{constructor(n,l,i,u){super(n,l,u),this.vectorBucketName=i}createIndex(n){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(l={}){return n.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new ab(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class ab extends Fy{constructor(n,l,i,u,d){super(n,l,d),this.vectorBucketName=i,this.indexName=u}putVectors(n){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(l={}){return n.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class nb extends Yy{constructor(n,l={},i,u){super(n,l,i,u)}from(n){return new Gy(this.url,this.headers,n,this.fetch)}get vectors(){return new eb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Iy(this.url+"/iceberg",this.headers,this.fetch)}}const sb="2.76.1";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const lb={"X-Client-Info":`supabase-js-${El}/${sb}`},ib={headers:lb},rb={schema:"public"},ob={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ub={},cb=r=>{let n;return r?n=r:typeof fetch>"u"?n=$g:n=fetch,(...l)=>n(...l)},db=()=>typeof Headers>"u"?Hg:Headers,fb=(r,n,l)=>{const i=cb(l),u=db();return async(d,h)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:r;let v=new u(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",r),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),i(d,Object.assign(Object.assign({},h),{headers:v}))}};function hb(r){return r.endsWith("/")?r:r+"/"}function mb(r,n){var l,i;const{db:u,auth:d,realtime:h,global:g}=r,{db:p,auth:v,realtime:b,global:x}=n,w={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},v),d),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),g),{headers:Object.assign(Object.assign({},(l=x==null?void 0:x.headers)!==null&&l!==void 0?l:{}),(i=g==null?void 0:g.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?w.accessToken=r.accessToken:delete w.accessToken,w}function gb(r){const n=r==null?void 0:r.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Wg="2.76.1",ws=30*1e3,nc=3,Vu=nc*ws,vb="http://localhost:9999",pb="supabase.auth.token",yb={"X-Client-Info":`gotrue-js/${Wg}`},sc="X-Supabase-Api-Version",e0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_b=600*1e3;class Cl extends Error{constructor(n,l,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=i}}function ge(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class wb extends Cl{constructor(n,l,i){super(n,l,i),this.name="AuthApiError",this.status=l,this.code=i}}function xb(r){return ge(r)&&r.name==="AuthApiError"}class On extends Cl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class sn extends Cl{constructor(n,l,i,u){super(n,i,u),this.name=l,this.status=i}}class an extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sb(r){return ge(r)&&r.name==="AuthSessionMissingError"}class vs extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nr extends sn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class sr extends sn{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jb(r){return ge(r)&&r.name==="AuthImplicitGrantRedirectError"}class Im extends sn{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lc extends sn{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Gu(r){return ge(r)&&r.name==="AuthRetryableFetchError"}class Km extends sn{constructor(n,l,i){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=i}}class ic extends sn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xm=` 	
\r=`.split(""),Eb=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Xm.length;n+=1)r[Xm[n].charCodeAt(0)]=-2;for(let n=0;n<dr.length;n+=1)r[dr[n].charCodeAt(0)]=n;return r})();function Qm(r,n,l){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;l(dr[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;l(dr[i]),n.queuedBits-=6}}function t0(r,n,l){const i=Eb[r];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Pm(r){const n=[],l=h=>{n.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{Ob(h,i,l)};for(let h=0;h<r.length;h+=1)t0(r.charCodeAt(h),u,d);return n.join("")}function Tb(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Nb(r,n){for(let l=0;l<r.length;l+=1){let i=r.charCodeAt(l);if(i>55295&&i<=56319){const u=(i-55296)*1024&65535;i=(r.charCodeAt(l+1)-56320&65535|u)+65536,l+=1}Tb(i,n)}}function Ob(r,n,l){if(n.utf8seq===0){if(r<=127){l(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function js(r){const n=[],l={queue:0,queuedBits:0},i=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)t0(r.charCodeAt(u),l,i);return new Uint8Array(n)}function Ab(r){const n=[];return Nb(r,l=>n.push(l)),new Uint8Array(n)}function An(r){const n=[],l={queue:0,queuedBits:0},i=u=>{n.push(u)};return r.forEach(u=>Qm(u,l,i)),Qm(null,l,i),n.join("")}function Cb(r){return Math.round(Date.now()/1e3)+r}function Rb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const n=Math.random()*16|0;return(r=="x"?n:n&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},a0=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function Db(r){const n={},l=new URL(r);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return l.searchParams.forEach((i,u)=>{n[u]=i}),n}const n0=r=>{let n;return r?n=r:typeof fetch>"u"?n=(...l)=>Os(async()=>{const{default:i}=await Promise.resolve().then(()=>Cn);return{default:i}},void 0).then(({default:i})=>i(...l)):n=fetch,(...l)=>n(...l)},Mb=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",xs=async(r,n,l)=>{await r.setItem(n,JSON.stringify(l))},En=async(r,n)=>{const l=await r.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},tn=async(r,n)=>{await r.removeItem(n)};class gr{constructor(){this.promise=new gr.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}gr.promiseConstructor=Promise;function Yu(r){const n=r.split(".");if(n.length!==3)throw new ic("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!bb.test(n[i]))throw new ic("JWT not in base64url format");return{header:JSON.parse(Pm(n[0])),payload:JSON.parse(Pm(n[1])),signature:js(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ub(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function kb(r,n){return new Promise((i,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await r(d);if(!n(d,null,h)){i(h);return}}catch(h){if(!n(d,h)){u(h);return}}})()})}function zb(r){return("0"+r.toString(16)).substr(-2)}function Bb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=l.length;let u="";for(let d=0;d<56;d++)u+=l.charAt(Math.floor(Math.random()*i));return u}return crypto.getRandomValues(n),Array.from(n,zb).join("")}async function Lb(r){const l=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",l),u=new Uint8Array(i);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function qb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const l=await Lb(r);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(r,n,l=!1){const i=Bb();let u=i;l&&(u+="/PASSWORD_RECOVERY"),await xs(r,`${n}-code-verifier`,u);const d=await qb(i);return[d,i===d?"plain":"s256"]}const $b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hb(r){const n=r.headers.get(sc);if(!n||!n.match($b))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Vb(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function Gb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ys(r){if(!Yb.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Iu(){const r={};return new Proxy(r,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const i=l.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jm(r){return JSON.parse(JSON.stringify(r))}const Tn=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Ib=[502,503,504];async function Zm(r){var n;if(!Mb(r))throw new lc(Tn(r),0);if(Ib.includes(r.status))throw new lc(Tn(r),r.status);let l;try{l=await r.json()}catch(d){throw new On(Tn(d),d)}let i;const u=Hb(r);if(u&&u.getTime()>=e0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?i=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(i=l.error_code),i){if(i==="weak_password")throw new Km(Tn(l),r.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new an}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new Km(Tn(l),r.status,l.weak_password.reasons);throw new wb(Tn(l),r.status||500,i)}const Kb=(r,n,l,i)=>{const u={method:r,headers:(n==null?void 0:n.headers)||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(i),Object.assign(Object.assign({},u),l))};async function Se(r,n,l,i){var u;const d=Object.assign({},i==null?void 0:i.headers);d[sc]||(d[sc]=e0["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const h=(u=i==null?void 0:i.query)!==null&&u!==void 0?u:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Xb(r,n,l+g,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function Xb(r,n,l,i,u,d){const h=Kb(n,i,u,d);let g;try{g=await r(l,Object.assign({},h))}catch(p){throw console.error(p),new lc(Tn(p),0)}if(g.ok||await Zm(g),i!=null&&i.noResolveJson)return g;try{return await g.json()}catch(p){await Zm(p)}}function sa(r){var n;let l=null;Jb(r)&&(l=Object.assign({},r),r.expires_at||(l.expires_at=Cb(r.expires_in)));const i=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:l,user:i},error:null}}function Fm(r){const n=sa(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((l,i)=>l&&typeof i=="string",!0)&&(n.data.weak_password=r.weak_password),n}function nn(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function Qb(r){return{data:r,error:null}}function Pb(r){const{action_link:n,email_otp:l,hashed_token:i,redirect_to:u,verification_type:d}=r,h=Ns(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:l,hashed_token:i,redirect_to:u,verification_type:d},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function Wm(r){return r}function Jb(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ku=["global","local","others"];class Zb{constructor({url:n="",headers:l={},fetch:i}){this.url=n,this.headers=l,this.fetch=n0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Ku[0]){if(Ku.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ku.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,l={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:nn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:l}=n,i=Ns(n,["options"]),u=Object.assign(Object.assign({},i),l);return"newEmail"in i&&(u.new_email=i==null?void 0:i.newEmail,delete u.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Pb,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(ge(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:nn})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,i,u,d,h,g,p;try{const v={nextPage:null,lastPage:0,total:0},b=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&i!==void 0?i:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Wm});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return O.length>0&&(O.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(k.split(";")[1].split("=")[1]);v[`${z}Page`]=B}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(ge(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){ys(n);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:nn})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){ys(n);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:nn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,l=!1){ys(n);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:nn})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){ys(n.userId);try{const{data:l,error:i}=await Se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:l,error:i}}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _deleteFactor(n){ys(n.userId),ys(n.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,i,u,d,h,g,p;try{const v={nextPage:null,lastPage:0,total:0},b=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&i!==void 0?i:"",per_page:(d=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Wm});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,O=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return O.length>0&&(O.forEach(k=>{const B=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(k.split(";")[1].split("=")[1]);v[`${z}Page`]=B}),v.total=parseInt(w)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(ge(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}}function eg(r={}){return{getItem:n=>r[n]||null,setItem:(n,l)=>{r[n]=l},removeItem:n=>{delete r[n]}}}const bs={debug:!!(globalThis&&a0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Fb extends s0{}async function Wb(r,n,l){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async u=>{if(u){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await l()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Fb(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(bs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function e_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function l0(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function t_(r){return parseInt(r,16)}function a_(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function n_(r){var n;const{chainId:l,domain:i,expirationTime:u,issuedAt:d=new Date,nonce:h,notBefore:g,requestId:p,resources:v,scheme:b,uri:x,version:w}=r;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const O=l0(r.address),k=b?`${b}://${i}`:i,B=r.statement?`${r.statement}
`:"",z=`${k} wants you to sign in with your Ethereum account:
${O}

${B}`;let W=`URI: ${x}
Version: ${w}
Chain ID: ${l}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(u&&(W+=`
Expiration Time: ${u.toISOString()}`),g&&(W+=`
Not Before: ${g.toISOString()}`),p&&(W+=`
Request ID: ${p}`),v){let I=`
Resources:`;for(const K of v){if(!K||typeof K!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${K}`);I+=`
- ${K}`}W+=I}return`${z}
${W}`}class ot extends Error{constructor({message:n,code:l,cause:i,name:u}){var d;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=u??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class fr extends ot{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function s_({error:r,options:n}){var l,i,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new ot({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const h=window.location.hostname;if(i0(h)){if(d.rp.id!==h)return new ot({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function l_({error:r,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new ot({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(i0(i)){if(l.rpId!==i)return new ot({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class i_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const r_=new i_;function o_(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:l,excludeCredentials:i}=r,u=Ns(r,["challenge","user","excludeCredentials"]),d=js(n).buffer,h=Object.assign(Object.assign({},l),{id:js(l.id).buffer}),g=Object.assign(Object.assign({},u),{challenge:d,user:h});if(i&&i.length>0){g.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const v=i[p];g.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:js(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function u_(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:l}=r,i=Ns(r,["challenge","allowCredentials"]),u=js(n).buffer,d=Object.assign(Object.assign({},i),{challenge:u});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let h=0;h<l.length;h++){const g=l[h];d.allowCredentials[h]=Object.assign(Object.assign({},g),{id:js(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function c_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const l=r;return{id:r.id,rawId:r.id,response:{attestationObject:An(new Uint8Array(r.response.attestationObject)),clientDataJSON:An(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function d_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const l=r,i=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:An(new Uint8Array(u.authenticatorData)),clientDataJSON:An(new Uint8Array(u.clientDataJSON)),signature:An(new Uint8Array(u.signature)),userHandle:u.userHandle?An(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function i0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function tg(){var r,n;return!!(Vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function f_(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fr("Browser returned unexpected credential type",n)}:{data:null,error:new fr("Empty credential response",n)}}catch(n){return{data:null,error:s_({error:n,options:r})}}}async function h_(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fr("Browser returned unexpected credential type",n)}:{data:null,error:new fr("Empty credential response",n)}}catch(n){return{data:null,error:l_({error:n,options:r})}}}const m_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},g_={userVerification:"preferred",hints:["security-key"]};function hr(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),l=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),i={};for(const u of r)if(u)for(const d in u){const h=u[d];if(h!==void 0)if(Array.isArray(h))i[d]=h;else if(l(h))i[d]=h;else if(n(h)){const g=i[d];n(g)?i[d]=hr(g,h):i[d]=hr(h)}else i[d]=h}return i}function v_(r,n){return hr(m_,r,n||{})}function p_(r,n){return hr(g_,r,n||{})}class y_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:i,signal:u},d){try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!h)return{data:null,error:g};const p=u??r_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${i}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=v_(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:x}=await f_({publicKey:v,signal:p});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const v=p_(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:x}=await h_(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new On("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:l,webauthn:i}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:u}},d){if(!l)return{data:null,error:new Cl("rpId is required for WebAuthn authentication")};try{if(!tg())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:i},signal:u},{request:d});if(!h)return{data:null,error:g};const{webauthn:p}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:i,credential_response:p.credential_response}})}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new On("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:u},d){if(!l)return{data:null,error:new Cl("rpId is required for WebAuthn registration")};try{if(!tg())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:h,error:g}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:p,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:l,rpOrigins:i},signal:u},{create:d});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new On("Unexpected error in register",h)}}}}e_();const b_={url:vb,storageKey:pb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ag(r,n,l){return await l()}const _s={};class Rl{get jwks(){var n,l;return(l=(n=_s[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=_s[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:n})}constructor(n){var l,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},b_),n);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Zb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=n0(u.fetch),this.lock=u.lock||ag,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Vt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Wb:this.lock=ag,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y_(this)},this.persistSession?(u.storage?this.storage=u.storage:a0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=eg(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wg}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const l=Db(window.location.href);let i="none";if(this._isImplicitGrantCallback(l)?i="implicit":await this._isPKCECallback(l)&&(i="pkce"),Vt()&&this.detectSessionInUrl&&i!=="none"){const{data:u,error:d}=await this._getSessionFromURL(l,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),jb(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return ge(l)?{error:l}:{error:new On("Unexpected error during initialization",l)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,i,u;try{const d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:sa}),{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(d){if(ge(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var l,i,u;try{let d;if("email"in n){const{email:b,password:x,options:w}=n;let O=null,k=null;this.flowType==="pkce"&&([O,k]=await ps(this.storage,this.storageKey)),d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:b,password:x,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:O,code_challenge_method:k},xform:sa})}else if("phone"in n){const{phone:b,password:x,options:w}=n;d=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(u=w==null?void 0:w.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:sa})}else throw new nr("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(d){if(ge(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:h,options:g}=n;l=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Fm})}else if("phone"in n){const{phone:d,password:h,options:g}=n;l=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Fm})}else throw new nr("You must provide either an email or phone number and a password");const{data:i,error:u}=l;return u?{data:{user:null,session:null},error:u}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new vs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:u})}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOAuth(n){var l,i,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,i,u,d,h,g,p,v,b,x,w;let O,k;if("message"in n)O=n.message,k=n.signature;else{const{chain:B,wallet:z,statement:W,options:I}=n;let K;if(Vt())if(typeof z=="object")K=z;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")K=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=z}const Q=new URL((l=I==null?void 0:I.url)!==null&&l!==void 0?l:window.location.href),ce=await K.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=l0(ce[0]);let Y=(i=I==null?void 0:I.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!Y){const X=await K.request({method:"eth_chainId"});Y=t_(X)}const se={domain:Q.host,address:U,statement:W,uri:Q.href,version:"1",chainId:Y,nonce:(u=I==null?void 0:I.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(d=I==null?void 0:I.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=I==null?void 0:I.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=I==null?void 0:I.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=I==null?void 0:I.signInWithEthereum)===null||b===void 0?void 0:b.resources};O=n_(se),k=await K.request({method:"personal_sign",params:[a_(O),U]})}try{const{data:B,error:z}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:k},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sa});if(z)throw z;return!B||!B.session||!B.user?{data:{user:null,session:null},error:new vs}:(B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),{data:Object.assign({},B),error:z})}catch(B){if(ge(B))return{data:{user:null,session:null},error:B};throw B}}async signInWithSolana(n){var l,i,u,d,h,g,p,v,b,x,w,O;let k,B;if("message"in n)k=n.message,B=n.signature;else{const{chain:z,wallet:W,statement:I,options:K}=n;let Q;if(Vt())if(typeof W=="object")Q=W;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))Q=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof W!="object"||!(K!=null&&K.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=W}const ce=new URL((l=K==null?void 0:K.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in Q&&Q.signIn){const U=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},K==null?void 0:K.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),I?{statement:I}:null));let Y;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")Y=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)Y=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)k=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),B=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ce.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(u=(i=K==null?void 0:K.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=K==null?void 0:K.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${K.signInWithSolana.notBefore}`]:[],...!((h=K==null?void 0:K.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${K.signInWithSolana.expirationTime}`]:[],...!((g=K==null?void 0:K.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${K.signInWithSolana.chainId}`]:[],...!((p=K==null?void 0:K.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${K.signInWithSolana.nonce}`]:[],...!((v=K==null?void 0:K.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${K.signInWithSolana.requestId}`]:[],...!((x=(b=K==null?void 0:K.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...K.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const U=await Q.signMessage(new TextEncoder().encode(k),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=U}}try{const{data:z,error:W}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:An(B)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:sa});if(W)throw W;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new vs}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:W})}catch(z){if(ge(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(n){const l=await En(this.storage,`${this.storageKey}-code-verifier`),[i,u]=(l??"").split("/");try{const{data:d,error:h}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:sa});if(await tn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new vs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(ge(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:l,provider:i,token:u,access_token:d,nonce:h}=n,g=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sa}),{data:p,error:v}=g;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new vs}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:v})}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithOtp(n){var l,i,u,d,h;try{if("email"in n){const{email:g,options:p}=n;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await ps(this.storage,this.storageKey));const{error:x}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:g,options:p}=n,{data:v,error:b}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=p==null?void 0:p.data)!==null&&u!==void 0?u:{},create_user:(d=p==null?void 0:p.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:b}}throw new nr("You must provide either an email or phone number.")}catch(g){if(ge(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(n){var l,i;try{let u,d;"options"in n&&(u=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:g}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:sa});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,v=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var l,i,u;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await ps(this.storage,this.storageKey)),await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&i!==void 0?i:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Qb})}catch(d){if(ge(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:i}=n;if(i)throw i;if(!l)throw new an;const{error:u}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:i,type:u,options:d}=n,{error:h}=await Se(this.fetch,"POST",l,{headers:this.headers,body:{email:i,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:i,type:u,options:d}=n,{data:h,error:g}=await Se(this.fetch,"POST",l,{headers:this.headers,body:{phone:i,type:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new nr("You must provide either an email or phone number and a type")}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await i,await l()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=l();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const h=await En(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Iu()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,v,b)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,v,b))})}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:nn}):await this._useSession(async l=>{var i,u,d;const{data:h,error:g}=l;if(g)throw g;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:nn})})}catch(l){if(ge(l))return Sb(l)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:l};throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async i=>{const{data:u,error:d}=i;if(d)throw d;if(!u.session)throw new an;const h=u.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await ps(this.storage,this.storageKey));const{data:v,error:b}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:nn});if(b)throw b;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new an;const l=Date.now()/1e3;let i=l,u=!0,d=null;const{payload:h}=Yu(n.access_token);if(h.exp&&(i=h.exp,u=i<=l),u){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:i-l,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(l){if(ge(l))return{data:{session:null,user:null},error:l};throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var i;if(!n){const{data:h,error:g}=l;if(g)throw g;n=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new an;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async _getSessionFromURL(n,l){try{if(!Vt())throw new sr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new sr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new Im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Im("No code detected.");const{data:I,error:K}=await this._exchangeCodeForSession(n.code);if(K)throw K;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:g,expires_at:p,token_type:v}=n;if(!d||!g||!h||!v)throw new sr("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(g);let w=b+x;p&&(w=parseInt(p));const O=w-b;O*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${x}s`);const k=w-x;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,w,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,w,b);const{data:B,error:z}=await this._getUser(d);if(z)throw z;const W={provider_token:i,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:w,refresh_token:h,token_type:v,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:W,redirectType:n.type},error:null}}catch(i){if(ge(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await En(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var i;const{data:u,error:d}=l;if(d)return{error:d};const h=(i=u.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:g}=await this.admin.signOut(h,n);if(g&&!(xb(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return n!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const l=Rb(),i={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async l=>{var i,u;try{const{data:{session:d},error:h}=l;if(h)throw h;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let i=null,u=null;this.flowType==="pkce"&&([i,u]=await ps(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:u,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(ge(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:l,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:i,error:u}=await this._useSession(async d=>{var h,g,p,v,b;const{data:x,error:w}=d;if(w)throw w;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",O,{headers:this.headers,jwt:(b=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return Vt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ge(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var i;try{const{error:u,data:{session:d}}=l;if(u)throw u;const{options:h,provider:g,token:p,access_token:v,nonce:b}=n,x=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:g,id_token:p,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sa}),{data:w,error:O}=x;return O?{data:{user:null,session:null},error:O}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new vs}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:O})}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var i,u;const{data:d,error:h}=l;if(h)throw h;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&u!==void 0?u:void 0})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const i=Date.now();return await kb(async u=>(u>0&&await Ub(200*Math.pow(2,u-1)),this._debug(l,"refreshing attempt",u),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:sa})),(u,d)=>{const h=200*Math.pow(2,u);return d&&Gu(d)&&Date.now()+h-i<ws})}catch(i){if(this._debug(l,"error",i),ge(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",i),Vt()&&!l.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,l;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const u=await En(this.storage,this.storageKey);if(u&&this.userStorage){let h=await En(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await xs(this.userStorage,this.storageKey+"-user",h)),u.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Iu()}else if(u&&!u.user&&!u.user){const h=await En(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(u.user=h.user,await tn(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,u)):u.user=Iu()}if(this._debug(i,"session from storage",u),!this._isValidSession(u)){this._debug(i,"session is not valid"),u!==null&&await this._removeSession();return}const d=((l=u.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Vu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Vu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Gu(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(u.access_token);!g&&(h!=null&&h.user)?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(i,"error",u),console.error(u);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var l,i;if(!n)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new gr;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new an;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),ge(d)){const h={data:null,error:d};return Gu(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,l,i=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",l,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,l)}catch(p){d.push(p)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const l=Object.assign({},n),i=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&l.user&&await xs(this.userStorage,this.storageKey+"-user",{user:l.user});const u=Object.assign({},l);delete u.user;const d=Jm(u);await xs(this.storage,this.storageKey,d)}else{const u=Jm(l);await xs(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:i}}=l;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((i.expires_at*1e3-n)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${ws}ms, refresh threshold is ${nc} ticks`),u<=nc&&await this._callRefreshToken(i.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof s0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,i){const u=[`provider=${encodeURIComponent(l)}`];if(i!=null&&i.redirectTo&&u.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&u.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,h]=await ps(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(g.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);u.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&u.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var i;const{data:u,error:d}=l;return d?{data:null,error:d}:await Se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _enroll(n){try{return await this._useSession(async l=>{var i,u;const{data:d,error:h}=l;if(h)return{data:null,error:h};const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:v}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&p.type==="totp"&&(!((u=p==null?void 0:p.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var i;const{data:u,error:d}=l;if(d)return{data:null,error:d};const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?c_(n.webauthn.credential_response):d_(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await Se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:p})})}catch(l){if(ge(l))return{data:null,error:l};throw l}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var i;const{data:u,error:d}=l;if(d)return{data:null,error:d};const h=await Se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:g}=h;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:o_(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:u_(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(ge(l))return{data:null,error:l};throw l}})}async _challengeAndVerify(n){const{data:l,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:i}=await this.getUser();if(i)return{data:null,error:i};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l==null?void 0:l.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var l,i;const{data:{session:u},error:d}=n;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Yu(u.access_token);let g=null;h.aal&&(g=h.aal);let p=g;((i=(l=u.user.factors)===null||l===void 0?void 0:l.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const b=h.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(n,l={keys:[]}){let i=l.keys.find(g=>g.kid===n);if(i)return i;const u=Date.now();if(i=this.jwks.keys.find(g=>g.kid===n),i&&this.jwks_cached_at+_b>u)return i;const{data:d,error:h}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,i=d.keys.find(g=>g.kid===n),!i)?null:i}async getClaims(n,l={}){try{let i=n;if(!i){const{data:O,error:k}=await this.getSession();if(k||!O.session)return{data:null,error:k};i=O.session.access_token}const{header:u,payload:d,signature:h,raw:{header:g,payload:p}}=Yu(i);l!=null&&l.allowExpired||Vb(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!v){const{error:O}=await this.getUser(i);if(O)throw O;return{data:{claims:d,header:u,signature:h},error:null}}const b=Gb(u.alg),x=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,Ab(`${g}.${p}`)))throw new ic("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}}Rl.nextInstanceID=0;const __=Rl;class w_ extends __{constructor(n){super(n)}}class x_{constructor(n,l,i){var u,d,h;this.supabaseUrl=n,this.supabaseKey=l;const g=gb(n);if(!l)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:rb,realtime:ub,auth:Object.assign(Object.assign({},ob),{storageKey:p}),global:ib},b=mb(i??{},v);this.storageKey=(u=b.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=fb(l,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new vy(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new nb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new iy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,l={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,l,i)}channel(n,l={config:{}}){return this.realtime.channel(n,l)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,l;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(l=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:l,detectSessionInUrl:i,storage:u,userStorage:d,storageKey:h,flowType:g,lock:p,debug:v},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w_({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),b),storageKey:h,autoRefreshToken:n,persistSession:l,detectSessionInUrl:i,storage:u,userStorage:d,flowType:g,lock:p,debug:v,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new My(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,i)=>{this._handleTokenChanged(l,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,l,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S_=(r,n,l)=>new x_(r,n,l);function j_(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}j_()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ss=["CONSÓRCIO","DESPESAS FIXAS","DIVERSOS","DOAÇÃO","FERRAMENTAS","FORNECEDOR","IMPOSTOS","PEÇAS USADAS","SALÁRIO","TERCEIRIZADO","TERRENO"],lr=[...Ss,"TRANSPORTADORA","BANCO"],ir=["FATURAMENTO","RETORNO","INTERNO","GARANTIA","CORTESIA","CENTRAL TRUCK"],xt=20,mt=r=>(r||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Be=r=>{if(typeof r=="number")return r;if(typeof r!="string")return 0;const n=r.replace("R$","").trim().replace(/\./g,"").replace(",","."),l=parseFloat(n);return isNaN(l)?0:l},Ze=r=>{if(!r)return"";const n=r.split("T")[0],[l,i,u]=n.split("-");return`${u}/${i}/${l}`},Rt=()=>new Date().toISOString().split("T")[0],r0=["https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1506744038136-46273834b3fb?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1920&auto=format&fit=crop","https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=1920&auto=format&fit=crop"],o0=[{name:"Branco",class:"text-white",bg:"bg-white"},{name:"Azul",class:"text-blue-400",bg:"bg-blue-400"},{name:"Verde",class:"text-green-400",bg:"bg-green-400"},{name:"Amarelo",class:"text-yellow-400",bg:"bg-yellow-400"},{name:"Rosa",class:"text-pink-400",bg:"bg-pink-400"},{name:"Roxo",class:"text-purple-400",bg:"bg-purple-400"}],E_=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2a4 4 0 00-4-4H3V9h2a4 4 0 004-4V3l4 4-4 4zm11-1V9a4 4 0 00-4-4h-2V3h-2v2a4 4 0 004 4v2a4 4 0 00-4 4v2h2a4 4 0 004-4z"})}),u0=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01M12 18v-2m0-2v-2m0-2v-2m0-2V8m0 0h.01M12 18h.01M12 6h.01M12 10h.01M12 14h.01M6 18h.01M6 10h.01M6 6h.01M18 18h.01M18 10h.01M18 6h.01M6 14h.01M18 14h.01"})}),c0=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5l-3 3m0 0l-3-3m3 3V9"})}),d0=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f0=({className:r})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),T_=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-6 w-6 text-white ${r}`,fill:"currentColor",viewBox:"0 0 16 16",children:f.jsx("path",{d:"M0 0h4.828v4.828H0V0zm6.172 0H16v4.828H6.172V0zM0 6.172h4.828V16H0V6.172zm6.172 0H16V16H6.172V6.172z"})}),N_=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),h0=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-8 w-8 ${r}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),ut=({className:r="h-5 w-5"})=>f.jsxs("svg",{className:`animate-spin ${r}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),vr=({className:r="h-5 w-5"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm7-9a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2h6a2 2 0 002-2V8z"})}),rr=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),ng=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),O_=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),A_=({className:r})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),C_=({className:r="h-6 w-6"})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),R_="https://umoqsbwepyqedjkokztk.supabase.co",D_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtb3FzYndlcHlxZWRqa29renRrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NzI1NTcsImV4cCI6MjA3NzE0ODU1N30.2wS2h0A8ZDtS456phWumaGXQK5ikyHg0-MmGumNSgG8",Ie=S_(R_,D_),M_=async(r,n)=>{const{data:l,error:i}=await Ie.from("usuarios_sistema").select("*").eq("nome",r).eq("senha",n).single();if(i&&i.code!=="PGRST116")throw i;return l},U_=async()=>{const{data:r,error:n}=await Ie.from("usuarios_sistema").select("id, nome").order("nome");if(n)throw n;return r},k_=async r=>{const{data:n,error:l}=await Ie.from("usuarios_sistema").insert({nome:r.nome,senha:r.password}).select();if(l)throw l;return n[0]},z_=async(r,n)=>{const{data:l,error:i}=await Ie.from("usuarios_sistema").update({senha:n}).eq("id",r).select();if(i)throw i;return l[0]},B_=async r=>{const{error:n}=await Ie.from("usuarios_sistema").delete().eq("id",r);if(n)throw n},L_=async({page:r,searchTerm:n,startDate:l,endDate:i,category:u})=>{const d=r*xt,h=d+xt-1;let g=Ie.from("contas_pagar").select("*",{count:"exact"});n&&(g=g.ilike("descricao",`%${n}%`)),l&&(g=g.gte("vencimento",l)),i&&(g=g.lte("vencimento",i)),u&&(g=g.eq("categoria",u));const{data:p,error:v,count:b}=await g.order("vencimento",{ascending:!0}).range(d,h);if(v)throw v;return{data:p,count:b}},q_=async({searchTerm:r,startDate:n,endDate:l,category:i})=>{let u=Ie.from("contas_pagar").select("*");r&&(u=u.ilike("descricao",`%${r}%`)),n&&(u=u.gte("vencimento",n)),l&&(u=u.lte("vencimento",l)),i&&(u=u.eq("categoria",i));const{data:d,error:h}=await u.order("vencimento",{ascending:!0});if(h)throw h;return d},$_=async({searchTerm:r,startDate:n,endDate:l,category:i})=>{let u=Ie.from("contas_pagar").select("valor_com_nota, valor_sem_nota");r&&(u=u.ilike("descricao",`%${r}%`)),n&&(u=u.gte("vencimento",n)),l&&(u=u.lte("vencimento",l)),i&&(u=u.eq("categoria",i));const{data:d,error:h}=await u;if(h)throw h;return d.reduce((g,p)=>g+Be(p.valor_com_nota)+Be(p.valor_sem_nota),0)},H_=async r=>{const{data:n,error:l}=await Ie.from("contas_pagar").insert([r]).select();if(l)throw l;return n[0]},sg=async(r,n)=>{const{data:l,error:i}=await Ie.from("contas_pagar").update(n).eq("id",r).select();if(i)throw i;return l[0]},V_=async r=>{const{error:n}=await Ie.from("contas_pagar").delete().eq("id",r);if(n)throw n},G_=async({page:r,searchTerm:n,startDate:l,endDate:i})=>{const u=r*xt,d=u+xt-1;let h=Ie.from("fluxo_caixa").select("*",{count:"exact"});n&&(h=h.ilike("descricao",`%${n}%`)),l&&(h=h.gte("data_movimento",l)),i&&(h=h.lte("data_movimento",i));const{data:g,error:p,count:v}=await h.order("data_movimento",{ascending:!1}).range(u,d);if(p)throw p;return{data:g,count:v}},Y_=async({searchTerm:r,startDate:n,endDate:l})=>{let i=Ie.from("fluxo_caixa").select("*");r&&(i=i.ilike("descricao",`%${r}%`)),n&&(i=i.gte("data_movimento",n)),l&&(i=i.lte("data_movimento",l));const{data:u,error:d}=await i.order("data_movimento",{ascending:!1});if(d)throw d;return u},I_=async r=>{const{data:n,error:l}=await Ie.from("fluxo_caixa").insert([r]).select();if(l)throw l;return n[0]},K_=async(r,n)=>{const{data:l,error:i}=await Ie.from("fluxo_caixa").update(n).eq("id",r).select();if(i)throw i;return l[0]},X_=async r=>{const{error:n}=await Ie.from("fluxo_caixa").delete().eq("id",r);if(n)throw n},Q_=async({page:r,searchTerm:n,startDate:l,endDate:i})=>{const u=r*xt,d=u+xt-1;let h=Ie.from("faturamento_com_nf").select("*",{count:"exact"});n&&(h=h.ilike("cliente",`%${n}%`)),l&&(h=h.gte("data_faturamento",l)),i&&(h=h.lte("data_faturamento",i));const{data:g,error:p,count:v}=await h.order("data_faturamento",{ascending:!1}).range(u,d);if(p)throw p;return{data:g,count:v}},P_=async({searchTerm:r,startDate:n,endDate:l})=>{let i=Ie.from("faturamento_com_nf").select("*");r&&(i=i.ilike("cliente",`%${r}%`)),n&&(i=i.gte("data_faturamento",n)),l&&(i=i.lte("data_faturamento",l));const{data:u,error:d}=await i.order("data_faturamento",{ascending:!1});if(d)throw d;return u},J_=async r=>{const{data:n,error:l}=await Ie.from("faturamento_com_nf").insert([r]).select();if(l)throw l;return n[0]},Z_=async(r,n)=>{const{data:l,error:i}=await Ie.from("faturamento_com_nf").update(n).eq("id",r).select();if(i)throw i;return l[0]},F_=async r=>{const{error:n}=await Ie.from("faturamento_com_nf").delete().eq("id",r);if(n)throw n},W_=async({page:r,searchTerm:n,startDate:l,endDate:i})=>{const u=r*xt,d=u+xt-1;let h=Ie.from("faturamento_sem_nf").select("*",{count:"exact"});n&&(h=h.ilike("numero_orcamento",`%${n}%`)),l&&(h=h.gte("data_faturamento",l)),i&&(h=h.lte("data_faturamento",i));const{data:g,error:p,count:v}=await h.order("data_faturamento",{ascending:!1}).range(u,d);if(p)throw p;return{data:g,count:v}},ew=async({searchTerm:r,startDate:n,endDate:l})=>{let i=Ie.from("faturamento_sem_nf").select("*");r&&(i=i.ilike("numero_orcamento",`%${r}%`)),n&&(i=i.gte("data_faturamento",n)),l&&(i=i.lte("data_faturamento",l));const{data:u,error:d}=await i.order("data_faturamento",{ascending:!1});if(d)throw d;return u},tw=async r=>{const{data:n,error:l}=await Ie.from("faturamento_sem_nf").insert([r]).select();if(l)throw l;return n[0]},aw=async(r,n)=>{const{data:l,error:i}=await Ie.from("faturamento_sem_nf").update(n).eq("id",r).select();if(i)throw i;return l[0]},nw=async r=>{const{error:n}=await Ie.from("faturamento_sem_nf").delete().eq("id",r);if(n)throw n},pr=async r=>{let l=[],i=0;for(;;){const{data:u,error:d}=await Ie.from(r).select("*").range(i,i+1e3-1);if(d)throw console.error(`Error fetching from ${r}:`,d),d;if(u&&l.push(...u),!u||u.length<1e3)break;i+=1e3}return l},sw=async()=>await pr("contas_pagar"),lw=async()=>await pr("fluxo_caixa"),iw=async()=>await pr("faturamento_com_nf"),rw=async()=>await pr("faturamento_sem_nf"),ow=({onLogin:r})=>{const[n,l]=N.useState(""),[i,u]=N.useState(""),[d,h]=N.useState(""),[g,p]=N.useState(!1),v=async b=>{b.preventDefault(),h(""),p(!0);const x=n.trim(),w=i.trim();if(!x||!w){h("Usuário e senha são obrigatórios."),p(!1);return}if(x.length<3||w.length<3){h("Usuário e senha devem ter pelo menos 3 caracteres."),p(!1);return}try{const O=await M_(x,w);O?r(O):h("Usuário ou senha inválidos.")}catch(O){console.error(O),h("Ocorreu um erro ao tentar fazer login.")}finally{p(!1)}};return f.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1531297484001-80022131f5a1?q=80&w=1920&auto=format&fit=crop')"},children:f.jsxs("div",{className:"glass-pane p-8 rounded-lg shadow-2xl w-full max-w-sm",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-white",children:"Central Truck Assistência"}),f.jsx("p",{className:"text-gray-300 mt-2",children:"Sistema Financeiro"})]}),f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-2",htmlFor:"username",children:"Usuário"}),f.jsx("input",{id:"username",type:"text",value:n,onChange:b=>l(b.target.value),className:"input-style w-full",placeholder:"Nome de usuário",autoComplete:"username"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-2",htmlFor:"password",children:"Senha"}),f.jsx("input",{id:"password",type:"password",value:i,onChange:b=>u(b.target.value),className:"input-style w-full",placeholder:"••••••••",autoComplete:"current-password"})]}),d&&f.jsx("p",{className:"text-red-400 text-sm text-center",children:d}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center h-10",disabled:g,children:g?f.jsx(ut,{}):"Entrar"})})]})]})})},or=()=>{const r=new Date;return new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate())).toISOString().split("T")[0]},lg=r=>new Date(r.getUTCFullYear(),r.getUTCMonth(),1).toISOString().split("T")[0],uw=r=>new Date(r.getUTCFullYear(),0,1).toISOString().split("T")[0],cw=()=>f.jsx("div",{className:"glass-pane-light p-4 rounded-lg animate-pulse h-[92px]"}),Xu=()=>f.jsx("div",{className:"glass-pane-light p-4 rounded-lg animate-pulse h-full"}),m0=({tooltip:r})=>r.visible?f.jsx("div",{className:"absolute pointer-events-none transform -translate-x-1/2 -translate-y-full glass-pane text-xs p-2 rounded-md shadow-lg z-10",style:{left:r.x,top:r.y,transition:"top 0.2s, left 0.2s"},children:f.jsx("div",{dangerouslySetInnerHTML:{__html:r.content}})}):null,dw=({data:r,title:n})=>{const l=r.series.reduce((i,u)=>i+u,0);return f.jsxs("div",{className:"glass-pane p-4 rounded-lg h-full flex flex-col",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-200",children:n}),l===0?f.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-400",children:"Sem dados para exibir"}):f.jsxs("div",{className:"flex-grow flex items-center justify-center gap-8 flex-wrap",children:[f.jsxs("svg",{viewBox:"0 0 100 100",className:"w-40 h-40 transform-gpu -rotate-90",children:[f.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"#475569",strokeWidth:"15"}),r.series.map((i,u,d)=>{const h=2*Math.PI*40,g=d.slice(0,u).reduce((v,b)=>v+b/l*h,0),p=`${i/l*h} ${h}`;return f.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:r.colors[u],strokeWidth:"15",strokeDasharray:p,strokeDashoffset:-g,className:"transition-all duration-500"},u)})]}),f.jsx("div",{className:"flex flex-col gap-2 text-sm text-slate-300",children:r.labels.map((i,u)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r.colors[u]}}),f.jsxs("span",{children:[i,": ",f.jsx("strong",{children:mt(r.series[u])})," (",l>0?(r.series[u]/l*100).toFixed(1):0,"%)"]})]},u))})]})]})},fw=({data:r,title:n})=>{const l=N.useRef(null),i=N.useRef(null),[u,d]=N.useState({x:0,y:0,content:"",visible:!1}),[h,g]=N.useState(null),[p,v]=N.useState({width:0,height:0});N.useEffect(()=>{if(!l.current)return;const X=new ResizeObserver(H=>{if(H[0]){const{width:P,height:ae}=H[0].contentRect;P>0&&ae>0&&v({width:P,height:ae})}});return X.observe(l.current),()=>X.disconnect()},[]);const b=r.series.flatMap(X=>X.data),x=b.some(X=>X>0),w={top:20,right:20,bottom:30,left:70},{width:O,height:k}=p,B=Math.max(0,O-w.left-w.right),z=Math.max(0,k-w.top-w.bottom),W=X=>{if(!isFinite(X)||X<=0)return{ticks:[0,25,50,75,100],max:100};const H=5,P=Math.floor(Math.log10(X)),ae=Math.pow(10,P),je=[1,2,5,10],Ge=X/(H-1)/ae;let C=je.find(ye=>ye>=Ge)*ae;isFinite(C)||(C=10*ae);const J=Math.ceil(X/C)*C;return{ticks:Array.from({length:Math.round(J/C)+1},(ye,pe)=>pe*C),max:J}},{ticks:I,max:K}=W(Math.max(...b,0)),Q=X=>z-X/K*z,ce=X=>r.labels.length>1?X/(r.labels.length-1)*B:B/2,U=X=>X>=1e6?`R$ ${(X/1e6).toFixed(1)}M`:X>=1e3?`R$ ${(X/1e3).toFixed(0)}k`:`R$ ${X}`,Y=X=>{if(!i.current||!x||B<=0)return;const H=i.current.getBoundingClientRect(),P=X.clientX-H.left-w.left,ae=Math.max(0,Math.min(r.labels.length-1,Math.round(P/B*(r.labels.length-1))));if(ae>=0&&ae<r.labels.length){g(ae);const je=`<strong>${r.labels[ae]}</strong><br/>`+r.series.map(le=>`<div style="display: flex; align-items: center; gap: 4px;"><div style="width: 8px; height: 8px; border-radius: 50%; background-color: ${le.color};"></div>${le.name}: ${mt(le.data[ae])}</div>`).join("");d({x:X.clientX-H.left,y:X.clientY-H.top-10,content:je,visible:!0})}},se=()=>{d(X=>({...X,visible:!1})),g(null)};return f.jsxs("div",{ref:l,className:"glass-pane p-4 rounded-lg h-full flex flex-col relative",children:[f.jsx(m0,{tooltip:u}),f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:n}),f.jsx("div",{className:"flex items-center gap-4 text-xs",children:r.series.map((X,H)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:X.color}}),f.jsx("span",{children:X.name})]},H))})]}),x?f.jsx("div",{className:"flex-grow min-h-0",children:f.jsx("svg",{ref:i,viewBox:`0 0 ${O} ${k}`,className:"w-full h-full",children:B>0&&z>0&&f.jsxs("g",{transform:`translate(${w.left}, ${w.top})`,children:[I.map((X,H)=>f.jsxs("g",{transform:`translate(0, ${Q(X)})`,className:"text-slate-500",children:[f.jsx("line",{x1:0,y1:"0",x2:B,y2:"0",stroke:"currentColor",strokeDasharray:"2,3"}),f.jsx("text",{x:"-10",y:"0",dy:"0.32em",textAnchor:"end",fill:"#94a3b8",fontSize:"10",children:U(X)})]},H)),r.labels.map((X,H)=>f.jsx("text",{x:ce(H),y:z+20,textAnchor:"middle",fill:"#94a3b8",fontSize:"10",children:X},H)),r.series.map((X,H)=>{const P="M"+X.data.map((je,le)=>`${ce(le)},${Q(je)}`).join(" L"),ae=P+` L${ce(X.data.length-1)},${z} L${ce(0)},${z} Z`;return f.jsxs("g",{children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:`gradient-${H}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:X.color,stopOpacity:.4}),f.jsx("stop",{offset:"95%",stopColor:X.color,stopOpacity:0})]})}),f.jsx("path",{d:ae,fill:`url(#gradient-${H})`}),f.jsx("path",{d:P,fill:"none",stroke:X.color,strokeWidth:"2"}),X.data.map((je,le)=>f.jsx("circle",{cx:ce(le),cy:Q(je),r:h===le?5:3,fill:X.color,stroke:"#1e293b",strokeWidth:"2",className:"transition-all"},le))]},H)}),h!==null&&f.jsx("line",{x1:ce(h),y1:"0",x2:ce(h),y2:z,stroke:"#94a3b8",strokeWidth:"1",strokeDasharray:"3,3"}),f.jsx("rect",{width:B,height:z,fill:"transparent",onMouseMove:Y,onMouseLeave:se})]})})}):f.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-400",children:"Sem dados para exibir"})]})},hw=({data:r,title:n})=>{const l=N.useRef(null),[i,u]=N.useState({x:0,y:0,content:"",visible:!1});if(r.series.length===0)return f.jsxs("div",{className:"glass-pane p-4 rounded-lg h-full flex flex-col",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-200",children:n}),f.jsx("div",{className:"flex-grow flex items-center justify-center text-slate-400",children:"Sem despesas no período"})]});const d=Math.max(...r.series,0)||1,h=(g,p)=>{const v=g.currentTarget.getBoundingClientRect(),b=l.current.getBoundingClientRect();u({x:v.left-b.left+v.width/2,y:v.top-b.top,content:`<strong>${r.labels[p]}</strong>: ${mt(r.series[p])}`,visible:!0})};return f.jsxs("div",{className:"glass-pane p-4 rounded-lg h-full flex flex-col relative",ref:l,children:[f.jsx(m0,{tooltip:i}),f.jsx("h3",{className:"text-lg font-semibold mb-4 text-slate-200",children:n}),f.jsx("div",{className:"flex-grow flex flex-col justify-around gap-2",onMouseLeave:()=>u(g=>({...g,visible:!1})),children:r.series.map((g,p)=>f.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[f.jsx("span",{className:"w-28 text-right truncate text-slate-300",children:r.labels[p]}),f.jsx("div",{className:"flex-grow bg-slate-700 h-6 rounded overflow-hidden",children:f.jsx("div",{className:"bg-blue-500 h-full rounded transition-all duration-500",style:{width:`${g/d*100}%`},onMouseOver:v=>h(v,p)})}),f.jsx("span",{className:"font-semibold w-24",children:mt(g)})]},p))})]})},mw=()=>{const{data:r,loading:n}=Cs(),[l,i]=N.useState(()=>lg(new Date)),[u,d]=N.useState(()=>or()),[h,g]=N.useState("Este Mês"),p=U=>{const Y=new Date;switch(g(U),U){case"Este Mês":i(lg(Y)),d(or());break;case"Este Ano":i(uw(Y)),d(or());break;default:i(""),d("");break}},v=N.useMemo(()=>{const U=(Y,se)=>!l&&!u?Y:Y.filter(X=>{var je;const H=(je=X[se])==null?void 0:je.split("T")[0];if(!H)return!1;const P=!l||H>=l,ae=!u||H<=u;return P&&ae});return{contasPagar:U(r.contasPagar,"vencimento"),fluxoCaixa:U(r.fluxoCaixa,"data_movimento"),faturamentoComNF:U(r.faturamentoComNF,"data_faturamento"),faturamentoSemNF:U(r.faturamentoSemNF,"data_faturamento")}},[r,l,u]),b=N.useMemo(()=>v.faturamentoComNF.reduce((U,Y)=>U+Be(Y.valor_total),0),[v.faturamentoComNF]),x=N.useMemo(()=>{const U=["FATURAMENTO","CENTRAL TRUCK"],Y=["GARANTIA","CORTESIA","INTERNO","RETORNO"];return v.faturamentoSemNF.reduce((se,X)=>{const H=Be(X.valor_total);return U.includes(X.categoria)?se+H:Y.includes(X.categoria)?se-H:se},0)},[v.faturamentoSemNF]),w=b+x,O=N.useMemo(()=>v.fluxoCaixa.reduce((U,Y)=>U+(Y.tipo_movimento==="ENTRADA"?Be(Y.valor):-Be(Y.valor)),0),[v.fluxoCaixa]),k=N.useMemo(()=>v.contasPagar.reduce((U,Y)=>U+Be(Y.valor_com_nota)+Be(Y.valor_sem_nota),0),[v.contasPagar]),B=N.useMemo(()=>r.contasPagar.filter(U=>U.status==="PENDENTE"&&U.vencimento<or()).reduce((U,Y)=>U+Be(Y.valor_com_nota)+Be(Y.valor_sem_nota),0),[r.contasPagar]),z=N.useMemo(()=>v.contasPagar.filter(U=>U.status==="PENDENTE").reduce((U,Y)=>U+Be(Y.valor_com_nota)+Be(Y.valor_sem_nota),0),[v.contasPagar]),W=w-k,I=N.useMemo(()=>({labels:["Faturamento C/ NF","Faturamento S/ NF (Líquido)"],series:[b,Math.max(0,x)],colors:["#3b82f6","#10b981"]}),[b,x]),K=N.useMemo(()=>{const U=v.contasPagar.reduce((se,X)=>{const H=Be(X.valor_com_nota)+Be(X.valor_sem_nota);return se[X.categoria]=(se[X.categoria]||0)+H,se},{}),Y=Object.entries(U).sort(([,se],[,X])=>X-se).slice(0,5);return{labels:Y.map(([se])=>se),series:Y.map(([,se])=>se)}},[v.contasPagar]),Q=N.useMemo(()=>{const U=new Date().getUTCFullYear(),Y=Array.from({length:12},(ae,je)=>new Date(Date.UTC(U,je,1)).toLocaleString("pt-BR",{month:"short"}).replace(".","").toUpperCase()),se=Array(12).fill(0),X=Array(12).fill(0),H=["FATURAMENTO","CENTRAL TRUCK"],P=["GARANTIA","CORTESIA","INTERNO","RETORNO"];return r.faturamentoComNF.forEach(ae=>{const je=new Date(ae.data_faturamento);je.getUTCFullYear()===U&&(se[je.getUTCMonth()]+=Be(ae.valor_total))}),r.faturamentoSemNF.forEach(ae=>{const je=new Date(ae.data_faturamento);if(je.getUTCFullYear()===U){const le=Be(ae.valor_total);H.includes(ae.categoria)?X[je.getUTCMonth()]+=le:P.includes(ae.categoria)&&(X[je.getUTCMonth()]-=le)}}),{labels:Y,series:[{name:"Faturamento c/ NF",data:se,color:"#3b82f6"},{name:"Faturamento s/ NF (Líquido)",data:X,color:"#10b981"}]}},[r.faturamentoComNF,r.faturamentoSemNF]),ce=[{title:"Faturamento Total",value:w,icon:rr,color:"text-green-400"},{title:"Balanço do Caixa",value:O,icon:rr,color:O>=0?"text-green-400":"text-red-400"},{title:"Total Contas a Pagar",value:k,icon:rr,color:"text-yellow-400"},{title:"Total Contas Vencidas",value:B,icon:ng,color:"text-red-400"},{title:"Contas Pendentes",value:z,icon:ng,color:"text-yellow-400"},{title:"Lucro Previsto",value:W,icon:rr,color:W>=0?"text-green-400":"text-red-400"}];return f.jsxs("div",{className:"text-white flex flex-col h-full gap-4 p-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsx("button",{onClick:()=>p("Este Mês"),className:`btn-secondary text-xs ${h==="Este Mês"?"!bg-blue-600":""}`,children:"Este Mês"}),f.jsx("button",{onClick:()=>p("Este Ano"),className:`btn-secondary text-xs ${h==="Este Ano"?"!bg-blue-600":""}`,children:"Este Ano"}),f.jsx("input",{type:"date",value:l,onChange:U=>{i(U.target.value),g("custom")},className:"input-style text-xs",title:"Data de início"}),f.jsx("input",{type:"date",value:u,onChange:U=>{d(U.target.value),g("custom")},className:"input-style text-xs",title:"Data de fim"}),f.jsx("button",{onClick:()=>p("Tudo"),className:`btn-secondary text-xs ${h==="Tudo"?"!bg-blue-600":""}`,children:"Limpar Filtros"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:n?Array(6).fill(0).map((U,Y)=>f.jsx(cw,{},Y)):ce.map(U=>{const Y=U.icon;return f.jsxs("div",{className:"glass-pane-light p-4 rounded-lg flex items-center gap-4",children:[f.jsx(Y,{className:`h-8 w-8 ${U.color}`}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-slate-400 font-bold whitespace-nowrap",children:U.title}),f.jsx("p",{className:`text-2xl font-bold ${U.color}`,children:mt(U.value)})]})]},U.title)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 flex-grow min-h-0",children:[f.jsx("div",{className:"lg:col-span-2 min-h-[350px]",children:n?f.jsx(Xu,{}):f.jsx(fw,{data:Q,title:`Evolução do Faturamento Mensal (${new Date().getFullYear()})`})}),f.jsx("div",{className:"lg:col-span-1 min-h-[350px]",children:n?f.jsx(Xu,{}):f.jsx(dw,{data:I,title:"Composição do Faturamento"})}),f.jsx("div",{className:"lg:col-span-3 min-h-[350px]",children:n?f.jsx(Xu,{}):f.jsx(hw,{data:K,title:"Top 5 Despesas por Categoria"})})]})]})},ig=768,gw=()=>{const[r,n]=N.useState(window.innerWidth<ig);return N.useEffect(()=>{const l=()=>n(window.innerWidth<ig);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:r}},vw=()=>{const{data:r,showNotification:n,refreshData:l}=Cs(),{isMobile:i}=gw(),[u,d]=N.useState([]),[h,g]=N.useState(!0),[p,v]=N.useState(!1),[b,x]=N.useState(!1),[w,O]=N.useState(0),[k,B]=N.useState(0),[z,W]=N.useState(!1),[I,K]=N.useState(null),[Q,ce]=N.useState(""),[U,Y]=N.useState(""),[se,X]=N.useState(""),[H,P]=N.useState(""),[ae,je]=N.useState(""),[le,Ge]=N.useState(0),[C,J]=N.useState(!1),[ne,ye]=N.useState({descricao:"",valor_com_nota:0,valor_sem_nota:0,categoria:Ss[0],vencimento:Rt()}),pe=N.useMemo(()=>Math.ceil(k/xt),[k]),S=N.useMemo(()=>{const q=new Set;return r.contasPagar.map(de=>de.descricao.trim()).filter(de=>{const Me=de.toLowerCase();return q.has(Me)||!de?!1:(q.add(Me),!0)})},[r.contasPagar]),$=N.useMemo(()=>ne.descricao?S.filter(q=>q.toLowerCase().includes(ne.descricao.toLowerCase())):[],[S,ne.descricao]),F=N.useCallback(async()=>{g(!0);try{const[{data:q,count:de},Me]=await Promise.all([L_({page:w,searchTerm:U,startDate:se,endDate:H,category:ae}),$_({searchTerm:U,startDate:se,endDate:H,category:ae})]);d(q||[]),B(de||0),Ge(Me||0)}catch(q){n(`Erro ao buscar dados: ${q.message}`,"error")}finally{g(!1)}},[w,U,se,H,ae,n]);N.useEffect(()=>{const q=setTimeout(()=>{Y(Q),O(0)},500);return()=>clearTimeout(q)},[Q]),N.useEffect(()=>{F()},[F]);const ee=q=>{const{name:de,value:Me}=q.target,nt=q.target.getAttribute("type")==="number";ye({...ne,[de]:nt?parseFloat(Me)||0:Me})},fe=async q=>{if(q.preventDefault(),!ne.descricao.trim()){n('O campo "Descrição" é obrigatório.',"error");return}if(ne.valor_com_nota<=0&&ne.valor_sem_nota<=0){n("Pelo menos um dos campos de valor deve ser preenchido.","error");return}v(!0);try{const de=await H_({...ne,status:"PENDENTE"});await l(),n("Registro adicionado com sucesso!","success"),d(Me=>[de,...Me.slice(0,xt-1)]),B(Me=>Me+1),ye({descricao:"",valor_com_nota:0,valor_sem_nota:0,categoria:Ss[0],vencimento:Rt()})}catch(de){console.error(de),n("Erro ao adicionar registro.","error")}finally{v(!1)}},be=async q=>{if(window.confirm("Tem certeza que deseja excluir este item?"))try{await V_(q),await l(),n("Registro excluído com sucesso!","success"),await F()}catch(de){console.error("Delete Error:",de);const Me=de.message||"Erro ao excluir registro.";n(Me,"error")}},Te=async q=>{if(window.confirm("Confirmar o pagamento desta conta?"))try{const de=await sg(q,{status:"PAGO"});await l(),n("Conta marcada como PAGA!","success"),d(Me=>Me.map(nt=>nt.id===q?de:nt))}catch(de){console.error("Update Error:",de);const Me=de.message||"Erro ao atualizar o status.";n(Me,"error")}},_e=q=>{K({...q}),W(!0)},E=()=>{W(!1),K(null)},te=q=>{if(!I)return;const{name:de,value:Me}=q.target,nt=q.target.getAttribute("type")==="number";K({...I,[de]:nt?parseFloat(Me)||0:Me})},he=async q=>{if(q.preventDefault(),!!I){if(!I.descricao.trim()){n('O campo "Descrição" é obrigatório.',"error");return}if(I.valor_com_nota<=0&&I.valor_sem_nota<=0){n("Pelo menos um dos campos de valor deve ser preenchido.","error");return}v(!0);try{const{id:de,...Me}=I,nt=await sg(de,Me);await l(),n("Registro atualizado com sucesso!","success"),d(Xe=>Xe.map(Rn=>Rn.id===de?nt:Rn)),E()}catch(de){console.error(de),n("Erro ao atualizar o registro.","error")}finally{v(!1)}}};N.useEffect(()=>{if(!z)return;const q=de=>{de.key==="Escape"&&E()};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[z]);const we=q=>q.status==="PAGO"?{text:"PAGO",color:"bg-green-500/80"}:q.vencimento<Rt()?{text:"VENCIDO",color:"bg-red-500/80"}:{text:"PENDENTE",color:"bg-yellow-500/80"},Z=async()=>{x(!0);try{const q=await q_({searchTerm:U,startDate:se,endDate:H,category:ae});if(!q||q.length===0){n("Nenhum dado para imprimir com os filtros atuais.","error");return}const de=window.open("","_blank");if(de){const Me=Xe=>Xe.status==="PAGO"?"PAGO":Xe.vencimento<Rt()?"VENCIDO":"PENDENTE",nt=`
                    <html>
                        <head>
                            <title>Relatório de Contas a Pagar</title>
                            <style>
                                body { font-family: 'Segoe UI', sans-serif; margin: 20px; }
                                h1 { text-align: center; }
                                table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
                                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                th { background-color: #f2f2f2; }
                                @media print {
                                    body { margin: 0; }
                                }
                            </style>
                        </head>
                        <body>
                            <h1>Relatório de Contas a Pagar</h1>
                            <p><strong>Período:</strong> ${se?Ze(se):"N/A"} a ${H?Ze(H):"N/A"}</p>
                            <p><strong>Busca:</strong> ${U||"Nenhuma"}</p>
                            <p><strong>Data de Emissão:</strong> ${Ze(Rt())}</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Descrição</th>
                                        <th>Vlr Total</th>
                                        <th>Categoria</th>
                                        <th>Vencimento</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${q.map(Xe=>`
                                        <tr>
                                            <td>${Xe.descricao}</td>
                                            <td>${mt(Be(Xe.valor_com_nota)+Be(Xe.valor_sem_nota))}</td>
                                            <td>${Xe.categoria}</td>
                                            <td>${Ze(Xe.vencimento)}</td>
                                            <td>${Me(Xe)}</td>
                                        </tr>
                                    `).join("")}
                                </tbody>
                            </table>
                        </body>
                    </html>
                `;de.document.write(nt),de.document.close(),de.focus(),de.print()}}catch(q){n(`Erro ao gerar relatório: ${q.message}`,"error")}finally{x(!1)}},ie="block text-xs font-medium text-slate-400 mb-1";return f.jsxs("div",{className:"text-white flex flex-col h-full p-2 md:p-4 gap-4",children:[f.jsxs("form",{onSubmit:fe,className:"glass-pane-light grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4",children:[f.jsxs("div",{className:"md:col-span-2 lg:col-span-4 relative",children:[f.jsx("label",{htmlFor:"descricao",className:ie,children:"Descrição"}),f.jsx("input",{id:"descricao",name:"descricao",value:ne.descricao,onChange:ee,placeholder:"Ex: Compra de peças",className:"input-style w-full text-sm",required:!0,onFocus:()=>J(!0),onBlur:()=>setTimeout(()=>J(!1),200)}),C&&$.length>0&&f.jsx("ul",{className:"absolute z-10 w-full bg-slate-600 border border-slate-500 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:$.map(q=>f.jsx("li",{onMouseDown:()=>{ye({...ne,descricao:q}),J(!1)},className:"px-3 py-2 hover:bg-blue-600 cursor-pointer",children:q},q))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valor_com_nota",className:ie,children:"Valor c/ Nota"}),f.jsx("input",{id:"valor_com_nota",name:"valor_com_nota",value:ne.valor_com_nota,onChange:ee,type:"number",step:"0.01",placeholder:"R$ 0,00",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valor_sem_nota",className:ie,children:"Valor s/ Nota"}),f.jsx("input",{id:"valor_sem_nota",name:"valor_sem_nota",value:ne.valor_sem_nota,onChange:ee,type:"number",step:"0.01",placeholder:"R$ 0,00",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoria",className:ie,children:"Categoria"}),f.jsx("select",{id:"categoria",name:"categoria",value:ne.categoria,onChange:ee,className:"input-style w-full text-sm",children:Ss.map(q=>f.jsx("option",{children:q},q))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"vencimento",className:ie,children:"Data Vencimento"}),f.jsx("input",{id:"vencimento",name:"vencimento",value:ne.vencimento,onChange:ee,type:"date",className:"input-style w-full text-sm"})]}),f.jsx("div",{className:"md:col-start-2 lg:col-start-4 flex items-end",children:f.jsx("button",{type:"submit",className:"btn-primary w-full h-10 flex items-center justify-center",disabled:p,children:p?f.jsx(ut,{}):"Adicionar"})})]}),f.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:Q,onChange:q=>ce(q.target.value),className:"input-style text-sm w-full sm:w-48"}),f.jsx("input",{type:"date",value:se,onChange:q=>X(q.target.value),className:"input-style text-sm w-full sm:w-auto",title:"Data de início"}),f.jsx("input",{type:"date",value:H,onChange:q=>P(q.target.value),className:"input-style text-sm w-full sm:w-auto",title:"Data de fim"}),f.jsxs("select",{value:ae,onChange:q=>{je(q.target.value),O(0)},className:"input-style text-sm w-full sm:w-48",children:[f.jsx("option",{value:"",children:"Todas as categorias"}),Ss.map(q=>f.jsx("option",{value:q,children:q},q))]})]}),f.jsxs("div",{className:"flex items-stretch gap-2 w-full xl:w-auto",children:[f.jsxs("div",{className:"glass-pane-light p-2 px-4 rounded-lg text-center flex-grow",children:[f.jsx("span",{className:"text-xs text-slate-400 font-bold block",children:"TOTAL FILTRADO"}),f.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:mt(le)})]}),f.jsxs("button",{onClick:Z,className:"btn-secondary h-full flex items-center justify-center gap-2",disabled:b,children:[b?f.jsx(ut,{}):f.jsx(vr,{}),!i&&"Imprimir"]})]})]}),f.jsx("div",{className:"flex-grow overflow-auto glass-pane-light",children:h?f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx(ut,{className:"h-8 w-8"})}):u.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 text-slate-400",children:[f.jsx(u0,{className:"h-16 w-16 opacity-50 mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nenhuma conta encontrada"}),f.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros ou adicione um novo registro."})]}):i?f.jsx("div",{className:"p-2 space-y-3",children:u.map(q=>{const de=we(q),Me=de.text==="VENCIDO"&&q.status==="PENDENTE",nt=Be(q.valor_com_nota)+Be(q.valor_sem_nota);return f.jsxs("div",{className:`p-3 rounded-lg ${Me?"bg-red-900/40":"bg-slate-800/60"} shadow-md`,onClick:()=>_e(q),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-bold text-white pr-2",children:q.descricao}),f.jsx("span",{className:"font-semibold text-lg whitespace-nowrap",children:mt(nt)})]}),f.jsxs("div",{className:"text-xs text-slate-400 flex justify-between items-center mb-3",children:[f.jsx("span",{children:q.categoria}),f.jsxs("span",{children:["Venc.: ",f.jsx("strong",{children:Ze(q.vencimento)})]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${de.color} text-white`,children:de.text}),f.jsxs("div",{className:"flex space-x-3",children:[q.status!=="PAGO"&&f.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),Te(q.id)},className:"text-green-400 hover:text-green-300 font-semibold text-sm",children:"Pagar"}),f.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),be(q.id)},className:"text-red-500 hover:text-red-400 font-semibold text-sm",children:"Excluir"})]})]})]},q.id)})}):f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm",children:f.jsxs("tr",{className:"border-b-2 border-slate-700",children:[f.jsx("th",{className:"p-3",children:"Descrição"}),f.jsx("th",{children:"Vlr Total"}),f.jsx("th",{children:"Categoria"}),f.jsx("th",{children:"Vencimento"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Ações"})]})}),f.jsx("tbody",{children:u.map((q,de)=>{const Me=we(q),nt=Me.text==="VENCIDO"&&q.status==="PENDENTE";return f.jsxs("tr",{className:`border-b border-slate-700 transition-colors ${de%2===0?"bg-transparent":"bg-slate-800/40"} ${nt?"bg-red-900/30 hover:bg-red-900/40":"hover:bg-slate-700/50"} cursor-pointer`,onDoubleClick:()=>_e(q),children:[f.jsx("td",{className:"p-3",children:q.descricao}),f.jsx("td",{children:mt(Be(q.valor_com_nota)+Be(q.valor_sem_nota))}),f.jsx("td",{children:q.categoria}),f.jsx("td",{children:Ze(q.vencimento)}),f.jsx("td",{children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Me.color} text-white`,children:Me.text})}),f.jsx("td",{children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),_e(q)},className:"text-blue-400 hover:text-blue-300 font-semibold",children:"Editar"}),q.status!=="PAGO"&&f.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),Te(q.id)},className:"text-green-400 hover:text-green-300 font-semibold",children:"Pagar"}),f.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),be(q.id)},className:"text-red-500 hover:text-red-400 font-semibold",children:"Excluir"})]})})]},q.id)})})]})}),f.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-900/80 text-xs",children:[f.jsxs("span",{children:[u.length," de ",k]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>O(q=>q-1),disabled:w===0,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:"<"}),f.jsxs("span",{children:[w+1," / ",pe>0?pe:1]}),f.jsx("button",{onClick:()=>O(q=>q+1),disabled:w+1>=pe,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:">"})]})]}),z&&I&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-up",children:f.jsx("div",{className:"glass-pane w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Editar Conta a Pagar"}),f.jsxs("form",{onSubmit:he,children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[f.jsx("label",{htmlFor:"edit_descricao",className:ie,children:"Descrição"}),f.jsx("input",{id:"edit_descricao",name:"descricao",value:I.descricao,onChange:te,className:"input-style w-full",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_valor_com_nota",className:ie,children:"Valor c/ Nota"}),f.jsx("input",{id:"edit_valor_com_nota",name:"valor_com_nota",value:I.valor_com_nota,onChange:te,type:"number",step:"0.01",className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_valor_sem_nota",className:ie,children:"Valor s/ Nota"}),f.jsx("input",{id:"edit_valor_sem_nota",name:"valor_sem_nota",value:I.valor_sem_nota,onChange:te,type:"number",step:"0.01",className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_categoria",className:ie,children:"Categoria"}),f.jsx("select",{id:"edit_categoria",name:"categoria",value:I.categoria,onChange:te,className:"input-style w-full",children:Ss.map(q=>f.jsx("option",{children:q},q))})]}),f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{htmlFor:"edit_vencimento",className:ie,children:"Data Vencimento"}),f.jsx("input",{id:"edit_vencimento",name:"vencimento",value:I.vencimento.split("T")[0],onChange:te,type:"date",className:"input-style w-full"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[f.jsx("button",{type:"button",onClick:E,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:p?f.jsx(ut,{}):"Salvar Alterações"})]})]})]})})})]})},rg=768,pw=()=>{const[r,n]=N.useState(window.innerWidth<rg);return N.useEffect(()=>{const l=()=>n(window.innerWidth<rg);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:r}},yw=()=>{const{data:r,showNotification:n,refreshData:l}=Cs(),{isMobile:i}=pw(),[u,d]=N.useState([]),[h,g]=N.useState(!0),[p,v]=N.useState(!1),[b,x]=N.useState(!1),[w,O]=N.useState(0),[k,B]=N.useState(0),[z,W]=N.useState(""),[I,K]=N.useState(""),[Q,ce]=N.useState(""),[U,Y]=N.useState(""),[se,X]=N.useState(!1),[H,P]=N.useState(null),[ae,je]=N.useState(!1),[le,Ge]=N.useState({data_movimento:Rt(),descricao:"",categoria:lr[0],tipo_movimento:"SAÍDA",valor:0}),C=N.useMemo(()=>Math.ceil(k/xt),[k]),J=N.useMemo(()=>{const E=new Set;return r.fluxoCaixa.map(te=>te.descricao.trim()).filter(te=>{const he=te.toLowerCase();return E.has(he)||!te?!1:(E.add(he),!0)})},[r.fluxoCaixa]),ne=N.useMemo(()=>le.descricao?J.filter(E=>E.toLowerCase().includes(le.descricao.toLowerCase())):[],[J,le.descricao]),ye=N.useCallback(async()=>{g(!0);try{const{data:E,count:te}=await G_({page:w,searchTerm:I,startDate:Q,endDate:U});d(E||[]),B(te||0)}catch(E){n(`Erro ao buscar dados: ${E.message}`,"error")}finally{g(!1)}},[w,I,Q,U,n]);N.useEffect(()=>{const E=setTimeout(()=>{K(z),O(0)},500);return()=>clearTimeout(E)},[z]),N.useEffect(()=>{ye()},[ye]);const pe=E=>{const{name:te,value:he}=E.target,we=E.target.getAttribute("type")==="number";Ge({...le,[te]:we?parseFloat(he)||0:he})},S=async E=>{if(E.preventDefault(),!le.descricao.trim()){n('O campo "Descrição" é obrigatório.',"error");return}if(le.valor<=0){n('O campo "Valor" deve ser maior que zero.',"error");return}v(!0);try{const te=await I_(le);await l(),n("Registro adicionado com sucesso!","success"),d(he=>[te,...he.slice(0,xt-1)]),B(he=>he+1),Ge({data_movimento:Rt(),descricao:"",categoria:lr[0],tipo_movimento:"SAÍDA",valor:0})}catch(te){console.error(te),n("Erro ao adicionar registro.","error")}finally{v(!1)}},$=async E=>{if(window.confirm("Tem certeza que deseja excluir este item?"))try{await X_(E),await l(),n("Registro excluído com sucesso!","success"),await ye()}catch(te){console.error("Delete Error:",te);const he=te.message||"Erro ao excluir registro.";n(he,"error")}},F=E=>{P({...E}),X(!0)},ee=()=>{X(!1),P(null)},fe=E=>{if(!H)return;const{name:te,value:he}=E.target,we=E.target.getAttribute("type")==="number";P({...H,[te]:we?parseFloat(he)||0:he})},be=async E=>{if(E.preventDefault(),!!H){if(!H.descricao.trim()){n('O campo "Descrição" é obrigatório.',"error");return}if(H.valor<=0){n('O campo "Valor" deve ser maior que zero.',"error");return}v(!0);try{const{id:te,...he}=H,we=await K_(te,he);await l(),n("Registro atualizado com sucesso!","success"),d(Z=>Z.map(ie=>ie.id===te?we:ie)),ee()}catch(te){console.error(te),n("Erro ao atualizar o registro.","error")}finally{v(!1)}}};N.useEffect(()=>{if(!se)return;const E=te=>{te.key==="Escape"&&ee()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[se]);const Te=async()=>{x(!0);try{const E=await Y_({searchTerm:I,startDate:Q,endDate:U});if(!E||E.length===0){n("Nenhum dado para imprimir com os filtros atuais.","error");return}const te=window.open("","_blank");if(te){const he=`
                    <html>
                        <head>
                            <title>Relatório de Fluxo de Caixa</title>
                            <style>
                                body { font-family: 'Segoe UI', sans-serif; margin: 20px; }
                                h1 { text-align: center; }
                                table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
                                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                th { background-color: #f2f2f2; }
                                @media print {
                                    body { margin: 0; }
                                }
                            </style>
                        </head>
                        <body>
                            <h1>Relatório de Fluxo de Caixa</h1>
                            <p><strong>Período:</strong> ${Q?Ze(Q):"N/A"} a ${U?Ze(U):"N/A"}</p>
                            <p><strong>Busca:</strong> ${I||"Nenhuma"}</p>
                            <p><strong>Data de Emissão:</strong> ${Ze(Rt())}</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Descrição</th>
                                        <th>Categoria</th>
                                        <th>Tipo</th>
                                        <th>Valor</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${E.map(we=>`
                                        <tr>
                                            <td>${Ze(we.data_movimento)}</td>
                                            <td>${we.descricao}</td>
                                            <td>${we.categoria}</td>
                                            <td>${we.tipo_movimento}</td>
                                            <td>${mt(Be(we.valor))}</td>
                                        </tr>
                                    `).join("")}
                                </tbody>
                            </table>
                        </body>
                    </html>
                `;te.document.write(he),te.document.close(),te.focus(),te.print()}}catch(E){n(`Erro ao gerar relatório: ${E.message}`,"error")}finally{x(!1)}},_e="block text-xs font-medium text-slate-400 mb-1";return f.jsxs("div",{className:"text-white flex flex-col h-full p-2 md:p-4 gap-4",children:[f.jsxs("form",{onSubmit:S,className:"glass-pane-light grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 p-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"data_movimento",className:_e,children:"Data"}),f.jsx("input",{id:"data_movimento",name:"data_movimento",value:le.data_movimento,onChange:pe,type:"date",className:"input-style w-full text-sm"})]}),f.jsxs("div",{className:"md:col-span-2 lg:col-span-2 relative",children:[f.jsx("label",{htmlFor:"descricao",className:_e,children:"Descrição"}),f.jsx("input",{id:"descricao",name:"descricao",value:le.descricao,onChange:pe,placeholder:"Ex: Pagamento de fornecedor",className:"input-style w-full text-sm",onFocus:()=>je(!0),onBlur:()=>setTimeout(()=>je(!1),200)}),ae&&ne.length>0&&f.jsx("ul",{className:"absolute z-10 w-full bg-slate-600 border border-slate-500 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ne.map(E=>f.jsx("li",{onMouseDown:()=>{Ge({...le,descricao:E}),je(!1)},className:"px-3 py-2 hover:bg-blue-600 cursor-pointer",children:E},E))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"categoria",className:_e,children:"Categoria"}),f.jsx("select",{id:"categoria",name:"categoria",value:le.categoria,onChange:pe,className:"input-style w-full text-sm",children:lr.map(E=>f.jsx("option",{children:E},E))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tipo_movimento",className:_e,children:"Tipo"}),f.jsxs("select",{id:"tipo_movimento",name:"tipo_movimento",value:le.tipo_movimento,onChange:pe,className:"input-style w-full text-sm",children:[f.jsx("option",{children:"SAÍDA"}),f.jsx("option",{children:"ENTRADA"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valor",className:_e,children:"Valor"}),f.jsx("input",{id:"valor",name:"valor",value:le.valor,onChange:pe,type:"number",step:"0.01",placeholder:"R$ 0,00",className:"input-style w-full text-sm"})]}),f.jsx("div",{className:"md:col-start-2 lg:col-start-6 flex items-end",children:f.jsx("button",{type:"submit",className:"btn-primary w-full h-10 flex items-center justify-center",disabled:p,children:p?f.jsx(ut,{}):"Adicionar"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-2 md:p-0",children:[f.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:z,onChange:E=>W(E.target.value),className:"input-style text-sm w-full"}),f.jsx("input",{type:"date",value:Q,onChange:E=>ce(E.target.value),className:"input-style text-sm w-full",title:"Data de início"}),f.jsx("input",{type:"date",value:U,onChange:E=>Y(E.target.value),className:"input-style text-sm w-full",title:"Data de fim"}),f.jsxs("button",{onClick:Te,className:"btn-secondary h-10 flex items-center justify-center gap-2",disabled:b,children:[b?f.jsx(ut,{}):f.jsx(vr,{}),"Imprimir"]})]}),f.jsx("div",{className:"flex-grow overflow-auto glass-pane-light",children:h?f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx(ut,{className:"h-8 w-8"})}):u.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 text-slate-400",children:[f.jsx(c0,{className:"h-16 w-16 opacity-50 mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nenhum lançamento encontrado"}),f.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros ou adicione um novo registro."})]}):i?f.jsx("div",{className:"p-2 space-y-3",children:u.map(E=>f.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/60 shadow-md",onClick:()=>F(E),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-bold text-white pr-2",children:E.descricao}),f.jsxs("span",{className:`font-semibold text-lg whitespace-nowrap ${E.tipo_movimento==="ENTRADA"?"text-green-400":"text-red-400"}`,children:[E.tipo_movimento==="SAÍDA"&&"- ",mt(Be(E.valor))]})]}),f.jsxs("div",{className:"text-xs text-slate-400 flex justify-between items-center mb-3",children:[f.jsx("span",{children:E.categoria}),f.jsx("span",{children:Ze(E.data_movimento)})]}),f.jsx("div",{className:"flex justify-end items-center",children:f.jsx("button",{onClick:te=>{te.stopPropagation(),$(E.id)},className:"text-red-500 hover:text-red-400 font-semibold text-sm",children:"Excluir"})})]},E.id))}):f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm",children:f.jsxs("tr",{className:"border-b-2 border-slate-700",children:[f.jsx("th",{className:"p-3",children:"Data"}),f.jsx("th",{children:"Descrição"}),f.jsx("th",{children:"Categoria"}),f.jsx("th",{children:"Tipo"}),f.jsx("th",{children:"Valor"}),f.jsx("th",{children:"Ações"})]})}),f.jsx("tbody",{children:u.map((E,te)=>f.jsxs("tr",{className:`border-b border-slate-700 transition-colors ${te%2===0?"bg-transparent":"bg-slate-800/40"} hover:bg-slate-700/50 cursor-pointer`,onDoubleClick:()=>F(E),children:[f.jsx("td",{className:"p-3",children:Ze(E.data_movimento)}),f.jsx("td",{children:E.descricao}),f.jsx("td",{children:E.categoria}),f.jsx("td",{className:`font-semibold ${E.tipo_movimento==="ENTRADA"?"text-green-400":"text-red-400"}`,children:E.tipo_movimento}),f.jsx("td",{className:`font-semibold ${E.tipo_movimento==="ENTRADA"?"text-green-400":"text-red-400"}`,children:mt(Be(E.valor))}),f.jsx("td",{children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:he=>{he.stopPropagation(),F(E)},className:"text-blue-400 hover:text-blue-300 font-semibold",children:"Editar"}),f.jsx("button",{onClick:he=>{he.stopPropagation(),$(E.id)},className:"text-red-500 hover:text-red-400 font-semibold",children:"Excluir"})]})})]},E.id))})]})}),f.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-900/80 text-xs",children:[f.jsxs("span",{children:[u.length," de ",k]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>O(E=>E-1),disabled:w===0,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:"<"}),f.jsxs("span",{children:[w+1," de ",C>0?C:1]}),f.jsx("button",{onClick:()=>O(E=>E+1),disabled:w+1>=C,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:">"})]})]}),se&&H&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-up",children:f.jsx("div",{className:"glass-pane w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Editar Lançamento no Caixa"}),f.jsxs("form",{onSubmit:be,children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_data_movimento",className:_e,children:"Data"}),f.jsx("input",{id:"edit_data_movimento",name:"data_movimento",value:H.data_movimento.split("T")[0],onChange:fe,type:"date",className:"input-style w-full"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{htmlFor:"edit_descricao",className:_e,children:"Descrição"}),f.jsx("input",{id:"edit_descricao",name:"descricao",value:H.descricao,onChange:fe,className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_categoria",className:_e,children:"Categoria"}),f.jsx("select",{id:"edit_categoria",name:"categoria",value:H.categoria,onChange:fe,className:"input-style w-full",children:lr.map(E=>f.jsx("option",{children:E},E))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_tipo_movimento",className:_e,children:"Tipo"}),f.jsxs("select",{id:"edit_tipo_movimento",name:"tipo_movimento",value:H.tipo_movimento,onChange:fe,className:"input-style w-full",children:[f.jsx("option",{children:"SAÍDA"}),f.jsx("option",{children:"ENTRADA"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_valor",className:_e,children:"Valor"}),f.jsx("input",{id:"edit_valor",name:"valor",value:H.valor,onChange:fe,type:"number",step:"0.01",className:"input-style w-full"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[f.jsx("button",{type:"button",onClick:ee,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:p?f.jsx(ut,{}):"Salvar Alterações"})]})]})]})})})]})},og=768,bw=()=>{const[r,n]=N.useState(window.innerWidth<og);return N.useEffect(()=>{const l=()=>n(window.innerWidth<og);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:r}},_w=()=>{const{data:r,showNotification:n,refreshData:l}=Cs(),{isMobile:i}=bw(),[u,d]=N.useState([]),[h,g]=N.useState(!0),[p,v]=N.useState(!1),[b,x]=N.useState(!1),[w,O]=N.useState(0),[k,B]=N.useState(0),[z,W]=N.useState(""),[I,K]=N.useState(""),[Q,ce]=N.useState(""),[U,Y]=N.useState(""),[se,X]=N.useState(!1),[H,P]=N.useState(!1),[ae,je]=N.useState(!1),[le,Ge]=N.useState(null),[C,J]=N.useState({data_faturamento:Rt(),cliente:"",nota_servico:"",nota_peca:"",valor_total:0,parcelas:1,condicoes_pagamento:""}),ne=N.useMemo(()=>Math.ceil(k/xt),[k]),ye=N.useCallback(async()=>{g(!0);try{const{data:Z,count:ie}=await Q_({page:w,searchTerm:I,startDate:Q,endDate:U});d(Z||[]),B(ie||0)}catch(Z){n(`Erro ao buscar dados: ${Z.message}`,"error")}finally{g(!1)}},[w,I,Q,U,n]);N.useEffect(()=>{const Z=setTimeout(()=>{K(z),O(0)},500);return()=>clearTimeout(Z)},[z]),N.useEffect(()=>{ye()},[ye]);const pe=N.useMemo(()=>{const Z=new Set;return r.faturamentoComNF.map(ie=>ie.cliente.trim()).filter(ie=>{const q=ie.toLowerCase();return Z.has(q)||!ie?!1:(Z.add(q),!0)})},[r.faturamentoComNF]),S=N.useMemo(()=>{const Z=new Set;return r.faturamentoComNF.map(ie=>{var q;return(q=ie.condicoes_pagamento)==null?void 0:q.trim()}).filter(Boolean).filter(ie=>{const q=ie.toLowerCase();return Z.has(q)?!1:(Z.add(q),!0)})},[r.faturamentoComNF]),$=N.useMemo(()=>C.cliente?pe.filter(Z=>Z.toLowerCase().includes(C.cliente.toLowerCase())):[],[pe,C.cliente]),F=N.useMemo(()=>{const Z=C.condicoes_pagamento;return Z?S.filter(ie=>ie.toLowerCase().includes(Z.toLowerCase())):[]},[S,C.condicoes_pagamento]),ee=Z=>{const{name:ie,value:q}=Z.target,de=Z.target.getAttribute("type")==="number";J({...C,[ie]:de?parseFloat(q)||0:q})},fe=async Z=>{if(Z.preventDefault(),!C.cliente.trim()){n('O campo "Cliente" é obrigatório.',"error");return}if(C.valor_total<=0){n('O campo "Valor Total" deve ser maior que zero.',"error");return}v(!0);try{const ie=await J_(C);await l(),n("Registro adicionado com sucesso!","success"),d(q=>[ie,...q.slice(0,xt-1)]),B(q=>q+1),J({data_faturamento:Rt(),cliente:"",nota_servico:"",nota_peca:"",valor_total:0,parcelas:1,condicoes_pagamento:""})}catch(ie){console.error(ie),n("Erro ao adicionar registro.","error")}finally{v(!1)}},be=async Z=>{if(window.confirm("Tem certeza que deseja excluir este item?"))try{await F_(Z),await l(),n("Registro excluído com sucesso!","success"),await ye()}catch(ie){console.error("Delete Error:",ie);const q=ie.message||"Erro ao excluir registro.";n(q,"error")}},Te=Z=>{Ge({...Z}),je(!0)},_e=()=>{je(!1),Ge(null)},E=Z=>{if(!le)return;const{name:ie,value:q}=Z.target,de=Z.target.getAttribute("type")==="number";Ge({...le,[ie]:de?parseFloat(q)||0:q})},te=async Z=>{if(Z.preventDefault(),!!le){if(!le.cliente.trim()){n('O campo "Cliente" é obrigatório.',"error");return}if(le.valor_total<=0){n('O campo "Valor Total" deve ser maior que zero.',"error");return}v(!0);try{const{id:ie,...q}=le,de=await Z_(ie,q);await l(),n("Registro atualizado com sucesso!","success"),d(Me=>Me.map(nt=>nt.id===ie?de:nt)),_e()}catch(ie){console.error(ie),n("Erro ao atualizar o registro.","error")}finally{v(!1)}}};N.useEffect(()=>{if(!ae)return;const Z=ie=>{ie.key==="Escape"&&_e()};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[ae]);const he=async()=>{x(!0);try{const Z=await P_({searchTerm:I,startDate:Q,endDate:U});if(!Z||Z.length===0){n("Nenhum dado para imprimir com os filtros atuais.","error");return}const ie=window.open("","_blank");if(ie){const q=`
                    <html>
                        <head>
                            <title>Relatório de Faturamento com NF</title>
                            <style>
                                body { font-family: 'Segoe UI', sans-serif; margin: 20px; }
                                h1 { text-align: center; }
                                table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
                                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                th { background-color: #f2f2f2; }
                                @media print {
                                    body { margin: 0; }
                                }
                            </style>
                        </head>
                        <body>
                            <h1>Relatório de Faturamento com NF</h1>
                            <p><strong>Período:</strong> ${Q?Ze(Q):"N/A"} a ${U?Ze(U):"N/A"}</p>
                            <p><strong>Busca:</strong> ${I||"Nenhuma"}</p>
                            <p><strong>Data de Emissão:</strong> ${Ze(Rt())}</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Cliente</th>
                                        <th>Nº Serv.</th>
                                        <th>Nº Peça</th>
                                        <th>Valor</th>
                                        <th>Parc.</th>
                                        <th>Condições</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${Z.map(de=>`
                                        <tr>
                                            <td>${Ze(de.data_faturamento)}</td>
                                            <td>${de.cliente}</td>
                                            <td>${de.nota_servico||""}</td>
                                            <td>${de.nota_peca||""}</td>
                                            <td>${mt(Be(de.valor_total))}</td>
                                            <td>${de.parcelas}</td>
                                            <td>${de.condicoes_pagamento||""}</td>
                                        </tr>
                                    `).join("")}
                                </tbody>
                            </table>
                        </body>
                    </html>
                `;ie.document.write(q),ie.document.close(),ie.focus(),ie.print()}}catch(Z){n(`Erro ao gerar relatório: ${Z.message}`,"error")}finally{x(!1)}},we="block text-xs font-medium text-slate-400 mb-1";return f.jsxs("div",{className:"text-white flex flex-col h-full p-2 md:p-4 gap-4",children:[f.jsxs("form",{onSubmit:fe,className:"glass-pane-light grid grid-cols-1 md:grid-cols-4 gap-4 p-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"data_faturamento",className:we,children:"Data"}),f.jsx("input",{id:"data_faturamento",name:"data_faturamento",value:C.data_faturamento,onChange:ee,type:"date",className:"input-style w-full text-sm"})]}),f.jsxs("div",{className:"md:col-span-3 relative",children:[f.jsx("label",{htmlFor:"cliente",className:we,children:"Cliente"}),f.jsx("input",{id:"cliente",name:"cliente",value:C.cliente,onChange:ee,placeholder:"Nome do cliente",className:"input-style w-full text-sm",onFocus:()=>X(!0),onBlur:()=>setTimeout(()=>X(!1),200)}),se&&$.length>0&&f.jsx("ul",{className:"absolute z-10 w-full bg-slate-600 border border-slate-500 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:$.map(Z=>f.jsx("li",{onMouseDown:()=>{J({...C,cliente:Z}),X(!1)},className:"px-3 py-2 hover:bg-blue-600 cursor-pointer",children:Z},Z))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nota_servico",className:we,children:"Nº Nota Serviço"}),f.jsx("input",{id:"nota_servico",name:"nota_servico",value:C.nota_servico,onChange:ee,placeholder:"12345",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"nota_peca",className:we,children:"Nº Nota Peça"}),f.jsx("input",{id:"nota_peca",name:"nota_peca",value:C.nota_peca,onChange:ee,placeholder:"67890",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valor_total",className:we,children:"Valor Total"}),f.jsx("input",{id:"valor_total",name:"valor_total",value:C.valor_total,onChange:ee,type:"number",step:"0.01",placeholder:"R$ 0,00",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"parcelas",className:we,children:"Parcelas"}),f.jsx("input",{id:"parcelas",name:"parcelas",value:C.parcelas,onChange:ee,type:"number",placeholder:"1",className:"input-style w-full text-sm"})]}),f.jsxs("div",{className:"md:col-span-4 relative",children:[f.jsx("label",{htmlFor:"condicoes_pagamento",className:we,children:"Condições de Pagamento"}),f.jsx("input",{id:"condicoes_pagamento",name:"condicoes_pagamento",value:C.condicoes_pagamento,onChange:ee,placeholder:"Ex: 30/60/90 dias",className:"input-style w-full text-sm",onFocus:()=>P(!0),onBlur:()=>setTimeout(()=>P(!1),200)}),H&&F.length>0&&f.jsx("ul",{className:"absolute z-10 w-full bg-slate-600 border border-slate-500 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:F.map(Z=>f.jsx("li",{onMouseDown:()=>{J({...C,condicoes_pagamento:Z}),P(!1)},className:"px-3 py-2 hover:bg-blue-600 cursor-pointer",children:Z},Z))})]}),f.jsx("div",{className:"md:col-start-4 flex items-end",children:f.jsx("button",{type:"submit",className:"btn-primary w-full h-10 flex items-center justify-center",disabled:p,children:p?f.jsx(ut,{}):"Adicionar"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-2 md:p-0",children:[f.jsx("input",{type:"text",placeholder:"Buscar por cliente...",value:z,onChange:Z=>W(Z.target.value),className:"input-style text-sm w-full"}),f.jsx("input",{type:"date",value:Q,onChange:Z=>ce(Z.target.value),className:"input-style text-sm w-full",title:"Data de início"}),f.jsx("input",{type:"date",value:U,onChange:Z=>Y(Z.target.value),className:"input-style text-sm w-full",title:"Data de fim"}),f.jsxs("button",{onClick:he,className:"btn-secondary h-10 flex items-center justify-center gap-2",disabled:b,children:[b?f.jsx(ut,{}):f.jsx(vr,{}),"Imprimir"]})]}),f.jsx("div",{className:"flex-grow overflow-auto glass-pane-light",children:h?f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx(ut,{className:"h-8 w-8"})}):u.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 text-slate-400",children:[f.jsx(d0,{className:"h-16 w-16 opacity-50 mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nenhum faturamento encontrado"}),f.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros ou adicione um novo registro."})]}):i?f.jsx("div",{className:"p-2 space-y-3",children:u.map(Z=>f.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/60 shadow-md",onClick:()=>Te(Z),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-bold text-white pr-2",children:Z.cliente}),f.jsx("span",{className:"font-semibold text-lg whitespace-nowrap text-green-400",children:mt(Be(Z.valor_total))})]}),f.jsxs("div",{className:"text-xs text-slate-400 space-y-1 mb-3",children:[f.jsxs("p",{children:["Data: ",f.jsx("strong",{children:Ze(Z.data_faturamento)})]}),f.jsxs("p",{children:["Nº Serviço: ",f.jsx("strong",{children:Z.nota_servico||"-"})," | Nº Peça: ",f.jsx("strong",{children:Z.nota_peca||"-"})]}),f.jsxs("p",{children:["Condições: ",f.jsx("strong",{children:Z.condicoes_pagamento||"-"})," (",Z.parcelas,"x)"]})]}),f.jsx("div",{className:"flex justify-end items-center",children:f.jsx("button",{onClick:ie=>{ie.stopPropagation(),be(Z.id)},className:"text-red-500 hover:text-red-400 font-semibold text-sm",children:"Excluir"})})]},Z.id))}):f.jsxs("table",{className:"w-full text-left table-auto text-sm",children:[f.jsx("thead",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm",children:f.jsxs("tr",{className:"border-b-2 border-slate-700",children:[f.jsx("th",{className:"p-3",children:"Data"}),f.jsx("th",{children:"Cliente"}),f.jsx("th",{children:"Nº Serv."}),f.jsx("th",{children:"Nº Peça"}),f.jsx("th",{children:"Valor"}),f.jsx("th",{children:"Parc."}),f.jsx("th",{children:"Condições"}),f.jsx("th",{children:"Ações"})]})}),f.jsx("tbody",{children:u.map((Z,ie)=>f.jsxs("tr",{className:`border-b border-slate-700 transition-colors ${ie%2===0?"bg-transparent":"bg-slate-800/40"} hover:bg-slate-700/50 cursor-pointer`,onDoubleClick:()=>Te(Z),children:[f.jsx("td",{className:"p-3",children:Ze(Z.data_faturamento)}),f.jsx("td",{children:Z.cliente}),f.jsx("td",{children:Z.nota_servico}),f.jsx("td",{children:Z.nota_peca}),f.jsx("td",{children:mt(Be(Z.valor_total))}),f.jsx("td",{children:Z.parcelas}),f.jsx("td",{children:Z.condicoes_pagamento}),f.jsx("td",{children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:q=>{q.stopPropagation(),Te(Z)},className:"text-blue-400 hover:text-blue-300 font-semibold",children:"Editar"}),f.jsx("button",{onClick:q=>{q.stopPropagation(),be(Z.id)},className:"text-red-500 hover:text-red-400 font-semibold",children:"Excluir"})]})})]},Z.id))})]})}),f.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-900/80 text-xs",children:[f.jsxs("span",{children:[u.length," de ",k]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>O(Z=>Z-1),disabled:w===0,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:"<"}),f.jsxs("span",{children:[w+1," de ",ne>0?ne:1]}),f.jsx("button",{onClick:()=>O(Z=>Z+1),disabled:w+1>=ne,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:">"})]})]}),ae&&le&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-up",children:f.jsx("div",{className:"glass-pane w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Editar Faturamento com NF"}),f.jsxs("form",{onSubmit:te,children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_data_faturamento",className:we,children:"Data"}),f.jsx("input",{id:"edit_data_faturamento",name:"data_faturamento",value:le.data_faturamento.split("T")[0],onChange:E,type:"date",className:"input-style w-full"})]}),f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("label",{htmlFor:"edit_cliente",className:we,children:"Cliente"}),f.jsx("input",{id:"edit_cliente",name:"cliente",value:le.cliente,onChange:E,className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_nota_servico",className:we,children:"Nº Nota Serviço"}),f.jsx("input",{id:"edit_nota_servico",name:"nota_servico",value:le.nota_servico||"",onChange:E,className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_nota_peca",className:we,children:"Nº Nota Peça"}),f.jsx("input",{id:"edit_nota_peca",name:"nota_peca",value:le.nota_peca||"",onChange:E,className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_valor_total",className:we,children:"Valor Total"}),f.jsx("input",{id:"edit_valor_total",name:"valor_total",value:le.valor_total,onChange:E,type:"number",step:"0.01",className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_parcelas",className:we,children:"Parcelas"}),f.jsx("input",{id:"edit_parcelas",name:"parcelas",value:le.parcelas,onChange:E,type:"number",className:"input-style w-full"})]}),f.jsxs("div",{className:"md:col-span-4",children:[f.jsx("label",{htmlFor:"edit_condicoes_pagamento",className:we,children:"Condições de Pagamento"}),f.jsx("input",{id:"edit_condicoes_pagamento",name:"condicoes_pagamento",value:le.condicoes_pagamento||"",onChange:E,className:"input-style w-full"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[f.jsx("button",{type:"button",onClick:_e,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:p?f.jsx(ut,{}):"Salvar Alterações"})]})]})]})})})]})},ug=768,ww=()=>{const[r,n]=N.useState(window.innerWidth<ug);return N.useEffect(()=>{const l=()=>n(window.innerWidth<ug);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:r}},xw=()=>{const{data:r,showNotification:n,refreshData:l}=Cs(),{isMobile:i}=ww(),[u,d]=N.useState([]),[h,g]=N.useState(!0),[p,v]=N.useState(!1),[b,x]=N.useState(!1),[w,O]=N.useState(0),[k,B]=N.useState(0),[z,W]=N.useState(""),[I,K]=N.useState(""),[Q,ce]=N.useState(""),[U,Y]=N.useState(""),[se,X]=N.useState(!1),[H,P]=N.useState(null),[ae,je]=N.useState(!1),[le,Ge]=N.useState({data_faturamento:Rt(),numero_orcamento:"",valor_total:0,condicao_pagamento:"",categoria:ir[0]}),C=N.useMemo(()=>Math.ceil(k/xt),[k]),J=N.useMemo(()=>{const E=new Set;return r.faturamentoSemNF.map(te=>{var he;return(he=te.condicao_pagamento)==null?void 0:he.trim()}).filter(Boolean).filter(te=>{const he=te.toLowerCase();return E.has(he)?!1:(E.add(he),!0)})},[r.faturamentoSemNF]),ne=N.useMemo(()=>{const E=le.condicao_pagamento;return E?J.filter(te=>te.toLowerCase().includes(E.toLowerCase())):[]},[J,le.condicao_pagamento]),ye=N.useCallback(async()=>{g(!0);try{const{data:E,count:te}=await W_({page:w,searchTerm:I,startDate:Q,endDate:U});d(E||[]),B(te||0)}catch(E){n(`Erro ao buscar dados: ${E.message}`,"error")}finally{g(!1)}},[w,I,Q,U,n]);N.useEffect(()=>{const E=setTimeout(()=>{K(z),O(0)},500);return()=>clearTimeout(E)},[z]),N.useEffect(()=>{ye()},[ye]);const pe=E=>{const{name:te,value:he}=E.target,we=E.target.getAttribute("type")==="number";Ge({...le,[te]:we?parseFloat(he)||0:he})},S=async E=>{if(E.preventDefault(),le.valor_total<=0){n('O campo "Valor" deve ser maior que zero.',"error");return}v(!0);try{const te=await tw(le);await l(),n("Registro adicionado com sucesso!","success"),d(he=>[te,...he.slice(0,xt-1)]),B(he=>he+1),Ge({data_faturamento:Rt(),numero_orcamento:"",valor_total:0,condicao_pagamento:"",categoria:ir[0]})}catch(te){console.error(te),n("Erro ao adicionar registro.","error")}finally{v(!1)}},$=async E=>{if(window.confirm("Tem certeza que deseja excluir este item?"))try{await nw(E),await l(),n("Registro excluído com sucesso!","success"),await ye()}catch(te){console.error("Delete Error:",te);const he=te.message||"Erro ao excluir registro.";n(he,"error")}},F=E=>{P({...E}),X(!0)},ee=()=>{X(!1),P(null)},fe=E=>{if(!H)return;const{name:te,value:he}=E.target,we=E.target.getAttribute("type")==="number";P({...H,[te]:we?parseFloat(he)||0:he})},be=async E=>{if(E.preventDefault(),!!H){if(H.valor_total<=0){n('O campo "Valor" deve ser maior que zero.',"error");return}v(!0);try{const{id:te,...he}=H,we=await aw(te,he);await l(),n("Registro atualizado com sucesso!","success"),d(Z=>Z.map(ie=>ie.id===te?we:ie)),ee()}catch(te){console.error(te),n("Erro ao atualizar o registro.","error")}finally{v(!1)}}};N.useEffect(()=>{if(!se)return;const E=te=>{te.key==="Escape"&&ee()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[se]);const Te=async()=>{x(!0);try{const E=await ew({searchTerm:I,startDate:Q,endDate:U});if(!E||E.length===0){n("Nenhum dado para imprimir com os filtros atuais.","error");return}const te=window.open("","_blank");if(te){const he=`
                    <html>
                        <head>
                            <title>Relatório de Faturamento sem NF</title>
                            <style>
                                body { font-family: 'Segoe UI', sans-serif; margin: 20px; }
                                h1 { text-align: center; }
                                table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 12px; }
                                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                                th { background-color: #f2f2f2; }
                                @media print {
                                    body { margin: 0; }
                                }
                            </style>
                        </head>
                        <body>
                            <h1>Relatório de Faturamento sem NF</h1>
                            <p><strong>Período:</strong> ${Q?Ze(Q):"N/A"} a ${U?Ze(U):"N/A"}</p>
                            <p><strong>Busca:</strong> ${I||"Nenhuma"}</p>
                            <p><strong>Data de Emissão:</strong> ${Ze(Rt())}</p>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Nº Orçamento</th>
                                        <th>Valor</th>
                                        <th>Cond. Pagamento</th>
                                        <th>Categoria</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${E.map(we=>`
                                        <tr>
                                            <td>${Ze(we.data_faturamento)}</td>
                                            <td>${we.numero_orcamento||""}</td>
                                            <td>${mt(Be(we.valor_total))}</td>
                                            <td>${we.condicao_pagamento||""}</td>
                                            <td>${we.categoria}</td>
                                        </tr>
                                    `).join("")}
                                </tbody>
                            </table>
                        </body>
                    </html>
                `;te.document.write(he),te.document.close(),te.focus(),te.print()}}catch(E){n(`Erro ao gerar relatório: ${E.message}`,"error")}finally{x(!1)}},_e="block text-xs font-medium text-slate-400 mb-1";return f.jsxs("div",{className:"text-white flex flex-col h-full p-2 md:p-4 gap-4",children:[f.jsxs("form",{onSubmit:S,className:"glass-pane-light grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 p-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"data_faturamento",className:_e,children:"Data"}),f.jsx("input",{id:"data_faturamento",name:"data_faturamento",value:le.data_faturamento,onChange:pe,type:"date",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"numero_orcamento",className:_e,children:"Nº Orçamento"}),f.jsx("input",{id:"numero_orcamento",name:"numero_orcamento",value:le.numero_orcamento,onChange:pe,placeholder:"Ex: OS1234",className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"valor_total",className:_e,children:"Valor"}),f.jsx("input",{id:"valor_total",name:"valor_total",value:le.valor_total,onChange:pe,type:"number",step:"0.01",placeholder:"R$ 0,00",className:"input-style w-full text-sm"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"condicao_pagamento",className:_e,children:"Condição Pagamento"}),f.jsx("input",{id:"condicao_pagamento",name:"condicao_pagamento",value:le.condicao_pagamento,onChange:pe,placeholder:"Ex: PIX",className:"input-style w-full text-sm",onFocus:()=>je(!0),onBlur:()=>setTimeout(()=>je(!1),200)}),ae&&ne.length>0&&f.jsx("ul",{className:"absolute z-10 w-full bg-slate-600 border border-slate-500 rounded-md mt-1 max-h-40 overflow-y-auto shadow-lg",children:ne.map(E=>f.jsx("li",{onMouseDown:()=>{Ge({...le,condicao_pagamento:E}),je(!1)},className:"px-3 py-2 hover:bg-blue-600 cursor-pointer",children:E},E))})]}),f.jsxs("div",{className:"lg:col-span-1",children:[f.jsx("label",{htmlFor:"categoria",className:_e,children:"Categoria"}),f.jsx("select",{id:"categoria",name:"categoria",value:le.categoria,onChange:pe,className:"input-style w-full text-sm",children:ir.map(E=>f.jsx("option",{children:E},E))})]}),f.jsx("div",{className:"md:col-start-2 lg:col-start-5 flex items-end",children:f.jsx("button",{type:"submit",className:"btn-primary w-full h-10 flex items-center justify-center",disabled:p,children:p?f.jsx(ut,{}):"Adicionar"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-2 md:p-0",children:[f.jsx("input",{type:"text",placeholder:"Buscar por nº orçamento...",value:z,onChange:E=>W(E.target.value),className:"input-style text-sm w-full"}),f.jsx("input",{type:"date",value:Q,onChange:E=>ce(E.target.value),className:"input-style text-sm w-full",title:"Data de início"}),f.jsx("input",{type:"date",value:U,onChange:E=>Y(E.target.value),className:"input-style text-sm w-full",title:"Data de fim"}),f.jsxs("button",{onClick:Te,className:"btn-secondary h-10 flex items-center justify-center gap-2",disabled:b,children:[b?f.jsx(ut,{}):f.jsx(vr,{}),"Imprimir"]})]}),f.jsx("div",{className:"flex-grow overflow-auto glass-pane-light",children:h?f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx(ut,{className:"h-8 w-8"})}):u.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 text-slate-400",children:[f.jsx(f0,{className:"h-16 w-16 opacity-50 mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Nenhum faturamento encontrado"}),f.jsx("p",{className:"text-sm",children:"Tente ajustar os filtros ou adicione um novo registro."})]}):i?f.jsx("div",{className:"p-2 space-y-3",children:u.map(E=>f.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/60 shadow-md",onClick:()=>F(E),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"pr-2",children:[f.jsxs("p",{className:"font-bold text-white",children:["Nº Orç.: ",E.numero_orcamento||"N/A"]}),f.jsx("p",{className:"text-xs text-slate-400",children:E.categoria})]}),f.jsx("span",{className:"font-semibold text-lg whitespace-nowrap text-green-400",children:mt(Be(E.valor_total))})]}),f.jsxs("div",{className:"text-xs text-slate-400 flex justify-between items-center mb-3",children:[f.jsxs("span",{children:["Cond.: ",f.jsx("strong",{children:E.condicao_pagamento||"-"})]}),f.jsx("span",{children:Ze(E.data_faturamento)})]}),f.jsx("div",{className:"flex justify-end items-center",children:f.jsx("button",{onClick:te=>{te.stopPropagation(),$(E.id)},className:"text-red-500 hover:text-red-400 font-semibold text-sm",children:"Excluir"})})]},E.id))}):f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm",children:f.jsxs("tr",{className:"border-b-2 border-slate-700",children:[f.jsx("th",{className:"p-3",children:"Data"}),f.jsx("th",{children:"Nº Orçamento"}),f.jsx("th",{children:"Valor"}),f.jsx("th",{children:"Cond. Pagamento"}),f.jsx("th",{children:"Categoria"}),f.jsx("th",{children:"Ações"})]})}),f.jsx("tbody",{children:u.map((E,te)=>f.jsxs("tr",{className:`border-b border-slate-700 transition-colors ${te%2===0?"bg-transparent":"bg-slate-800/40"} hover:bg-slate-700/50 cursor-pointer`,onDoubleClick:()=>F(E),children:[f.jsx("td",{className:"p-3",children:Ze(E.data_faturamento)}),f.jsx("td",{children:E.numero_orcamento}),f.jsx("td",{children:mt(Be(E.valor_total))}),f.jsx("td",{children:E.condicao_pagamento}),f.jsx("td",{children:E.categoria}),f.jsx("td",{children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:he=>{he.stopPropagation(),F(E)},className:"text-blue-400 hover:text-blue-300 font-semibold",children:"Editar"}),f.jsx("button",{onClick:he=>{he.stopPropagation(),$(E.id)},className:"text-red-500 hover:text-red-400 font-semibold",children:"Excluir"})]})})]},E.id))})]})}),f.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-900/80 text-xs",children:[f.jsxs("span",{children:[u.length," de ",k]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>O(E=>E-1),disabled:w===0,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:"<"}),f.jsxs("span",{children:[w+1," de ",C>0?C:1]}),f.jsx("button",{onClick:()=>O(E=>E+1),disabled:w+1>=C,className:"px-2 py-1 rounded disabled:opacity-50 bg-slate-700 hover:bg-slate-600",children:">"})]})]}),se&&H&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-up",children:f.jsx("div",{className:"glass-pane w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Editar Faturamento sem NF"}),f.jsxs("form",{onSubmit:be,children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_data_faturamento",className:_e,children:"Data"}),f.jsx("input",{id:"edit_data_faturamento",name:"data_faturamento",value:H.data_faturamento.split("T")[0],onChange:fe,type:"date",className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_numero_orcamento",className:_e,children:"Nº Orçamento"}),f.jsx("input",{id:"edit_numero_orcamento",name:"numero_orcamento",value:H.numero_orcamento||"",onChange:fe,className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_valor_total",className:_e,children:"Valor"}),f.jsx("input",{id:"edit_valor_total",name:"valor_total",value:H.valor_total,onChange:fe,type:"number",step:"0.01",className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"edit_condicao_pagamento",className:_e,children:"Condição Pagamento"}),f.jsx("input",{id:"edit_condicao_pagamento",name:"condicao_pagamento",value:H.condicao_pagamento||"",onChange:fe,className:"input-style w-full"})]}),f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{htmlFor:"edit_categoria",className:_e,children:"Categoria"}),f.jsx("select",{id:"edit_categoria",name:"categoria",value:H.categoria,onChange:fe,className:"input-style w-full",children:ir.map(E=>f.jsx("option",{children:E},E))})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[f.jsx("button",{type:"button",onClick:ee,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:p,children:p?f.jsx(ut,{}):"Salvar Alterações"})]})]})]})})})]})},Sw=()=>{const{wallpaper:r,themeColor:n,setWallpaper:l,setThemeColor:i}=v0();return f.jsxs("div",{className:"text-white h-full flex flex-col gap-8 p-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-200",children:"Papel de Parede"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r0.map((u,d)=>f.jsxs("div",{onClick:()=>l(u),className:`relative aspect-video rounded-lg overflow-hidden cursor-pointer border-2 transition-all duration-200 ${r===u?"border-blue-500 scale-105":"border-transparent"} hover:border-blue-400`,children:[f.jsx("img",{src:u,alt:`Wallpaper ${d+1}`,className:"w-full h-full object-cover"}),r===u&&f.jsx("div",{className:"absolute inset-0 bg-blue-500/50 flex items-center justify-center",children:f.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},d))})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-200",children:"Cor do Tema dos Ícones"}),f.jsx("div",{className:"flex flex-wrap gap-4",children:o0.map(u=>f.jsxs("div",{onClick:()=>i(u.class),className:"flex items-center space-x-3 cursor-pointer p-2 rounded-md hover:bg-white/10",children:[f.jsx("div",{className:`w-10 h-10 p-1 rounded-full border-2 transition-colors ${n===u.class?"border-white":"border-slate-500"}`,children:f.jsx("div",{className:`w-full h-full rounded-full ${u.bg}`})}),f.jsx("span",{className:"font-semibold",children:u.name})]},u.name))})]})]})},cg=768,jw=()=>{const[r,n]=N.useState(window.innerWidth<cg);return N.useEffect(()=>{const l=()=>n(window.innerWidth<cg);return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:r}},Ew=()=>{const{showNotification:r}=Cs(),{isMobile:n}=jw(),[l,i]=N.useState([]),[u,d]=N.useState(!0),[h,g]=N.useState(!1),[p,v]=N.useState(!1),[b,x]=N.useState(null),[w,O]=N.useState(""),[k,B]=N.useState(""),[z,W]=N.useState(""),[I,K]=N.useState(""),Q=N.useCallback(async()=>{d(!0);try{const P=await U_();i(P)}catch(P){r(`Erro ao buscar usuários: ${P.message}`,"error")}finally{d(!1)}},[r]);N.useEffect(()=>{Q()},[Q]);const ce=async P=>{if(P.preventDefault(),!z.trim()||!I.trim()){r("Nome de usuário e senha são obrigatórios.","error");return}g(!0);try{await k_({nome:z,password:I}),r("Usuário criado com sucesso!","success"),W(""),K(""),await Q()}catch(ae){r(`Erro ao criar usuário: ${ae.message}`,"error")}finally{g(!1)}},U=async P=>{if(window.confirm("Tem certeza que deseja excluir este usuário? Esta ação não pode ser desfeita."))try{await B_(P),r("Usuário excluído com sucesso!","success"),await Q()}catch(ae){r(`Erro ao excluir usuário: ${ae.message}`,"error")}},Y=P=>{x(P),v(!0)},se=()=>{x(null),O(""),B(""),v(!1)},X=async P=>{if(P.preventDefault(),!!b){if(w.length<6){r("A nova senha deve ter pelo menos 6 caracteres.","error");return}if(w!==k){r("As senhas não coincidem.","error");return}g(!0);try{await z_(b.id,w),r("Senha alterada com sucesso!","success"),se()}catch(ae){r(`Erro ao alterar senha: ${ae.message}`,"error")}finally{g(!1)}}};N.useEffect(()=>{if(!p)return;const P=ae=>{ae.key==="Escape"&&se()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[p]);const H="block text-xs font-medium text-slate-400 mb-1";return f.jsxs("div",{className:"text-white flex flex-col h-full gap-8 p-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Criar Novo Usuário"}),f.jsxs("form",{onSubmit:ce,className:"glass-pane-light grid grid-cols-1 md:grid-cols-3 gap-4 items-end p-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newUsername",className:H,children:"Nome de Usuário"}),f.jsx("input",{id:"newUsername",value:z,onChange:P=>W(P.target.value),className:"input-style w-full text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newUserPassword",className:H,children:"Senha"}),f.jsx("input",{id:"newUserPassword",type:"password",value:I,onChange:P=>K(P.target.value),className:"input-style w-full text-sm"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"btn-primary w-full h-10 flex items-center justify-center",disabled:h,children:h?f.jsx(ut,{}):"Criar Usuário"})})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Usuários Existentes"}),f.jsx("div",{className:"glass-pane-light overflow-auto",children:u?f.jsx("div",{className:"flex justify-center items-center p-8",children:f.jsx(ut,{className:"h-8 w-8"})}):l.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-slate-400",children:[f.jsx(h0,{className:"h-16 w-16 opacity-50 mb-4"}),f.jsx("p",{children:"Nenhum usuário encontrado."})]}):n?f.jsx("div",{className:"p-2 space-y-2",children:l.map(P=>f.jsxs("div",{className:"p-3 rounded-lg bg-slate-800/60 flex justify-between items-center",children:[f.jsx("span",{className:"font-semibold text-white",children:P.nome}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>Y(P),className:"text-blue-400 hover:text-blue-300 font-semibold text-sm",children:"Alterar Senha"}),f.jsx("button",{onClick:()=>U(P.id),className:"text-red-500 hover:text-red-400 font-semibold text-sm",children:"Excluir"})]})]},P.id))}):f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"sticky top-0 bg-slate-900/80 backdrop-blur-sm",children:f.jsxs("tr",{className:"border-b-2 border-slate-700",children:[f.jsx("th",{className:"p-3",children:"Nome de Usuário"}),f.jsx("th",{className:"p-3",children:"Ações"})]})}),f.jsx("tbody",{children:l.map((P,ae)=>f.jsxs("tr",{className:`border-b border-slate-700 last:border-b-0 transition-colors ${ae%2===0?"bg-transparent":"bg-slate-800/40"} hover:bg-slate-700/50`,children:[f.jsx("td",{className:"p-3 font-semibold",children:P.nome}),f.jsx("td",{className:"p-3",children:f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{onClick:()=>Y(P),className:"text-blue-400 hover:text-blue-300 font-semibold",children:"Alterar Senha"}),f.jsx("button",{onClick:()=>U(P.id),className:"text-red-500 hover:text-red-400 font-semibold",children:"Excluir"})]})})]},P.id))})]})})]}),p&&b&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in-up",children:f.jsx("div",{className:"glass-pane w-full max-w-md",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Alterar Senha"}),f.jsxs("p",{className:"text-slate-400 mb-6",children:["Alterando senha para o usuário: ",f.jsx("span",{className:"font-bold text-slate-200",children:b.nome})]}),f.jsxs("form",{onSubmit:X,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"newPassword",className:H,children:"Nova Senha (mín. 6 caracteres)"}),f.jsx("input",{id:"newPassword",type:"password",value:w,onChange:P=>O(P.target.value),className:"input-style w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:H,children:"Confirmar Nova Senha"}),f.jsx("input",{id:"confirmPassword",type:"password",value:k,onChange:P=>B(P.target.value),className:"input-style w-full"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[f.jsx("button",{type:"button",onClick:se,className:"btn-secondary",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:h,children:h?f.jsx(ut,{}):"Salvar Senha"})]})]})]})})})]})},dg=768,fg=1024,Tw=()=>{const[r,n]=N.useState(()=>{const l=window.innerWidth;return l<dg?"mobile":l<fg?"tablet":"desktop"});return N.useEffect(()=>{const l=()=>{const i=window.innerWidth;i<dg?n("mobile"):i<fg?n("tablet"):n("desktop")};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{screenSize:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},Nw=({id:r,title:n,icon:l,children:i,onClose:u,onFocus:d,zIndex:h,initialPosition:g})=>{const[p,v]=N.useState(()=>{try{const U=localStorage.getItem(`window-pos-${r}`);return U?JSON.parse(U):g||{x:Math.max(50,window.innerWidth/2-400),y:Math.max(50,window.innerHeight/2-300)}}catch{return g||{x:Math.max(50,window.innerWidth/2-400),y:Math.max(50,window.innerHeight/2-300)}}}),[b,x]=N.useState(!1),[w,O]=N.useState(!1),[k,B]=N.useState({x:0,y:0}),z=N.useRef({x:0,y:0}),W=N.useRef(null),I=()=>{w?(v(k),O(!1)):(B(p),O(!0))},K=U=>{if(!(w||U.target.closest("button"))&&W.current){d(r);const Y=W.current.getBoundingClientRect();z.current={x:U.clientX-Y.left,y:U.clientY-Y.top},x(!0)}},Q=N.useCallback(U=>{if(b&&!w){const Y=U.clientX-z.current.x,se=U.clientY-z.current.y;v({x:Y,y:se})}},[b,w]),ce=N.useCallback(()=>{if(b&&!w&&W.current){const U=W.current.getBoundingClientRect();localStorage.setItem(`window-pos-${r}`,JSON.stringify({x:U.left,y:U.top}))}x(!1)},[b,w,r]);return N.useEffect(()=>(b?(document.addEventListener("mousemove",Q),document.addEventListener("mouseup",ce)):(document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",ce)),()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",ce)}),[b,Q,ce]),f.jsxs("div",{ref:W,className:`absolute flex flex-col ${w?"w-screen h-[calc(100vh-3rem)] !top-0 !left-0 rounded-none":"w-[80vw] max-w-[1000px] min-w-[300px] h-[80vh] min-h-[400px] rounded-lg"} glass-pane overflow-hidden transition-all duration-300 ease-in-out`,style:{top:w?0:p.y,left:w?0:p.x,zIndex:h},onMouseDown:()=>d(r),children:[f.jsxs("div",{className:"h-8 bg-black/30 flex items-center justify-between px-2 cursor-grab",onMouseDown:K,onDoubleClick:I,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(l,{className:"h-4 w-4 text-gray-300"}),f.jsx("span",{className:"text-white text-sm font-semibold",children:n})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{title:w?"Restaurar":"Maximizar",onClick:I,className:"h-5 w-5 rounded-full bg-green-500/80 hover:bg-green-500 flex items-center justify-center text-white text-lg focus:outline-none transition-colors",children:f.jsx("span",{className:"transform scale-75",children:w?"❐":"□"})}),f.jsx("button",{title:"Fechar",onClick:()=>u(r),className:"h-5 w-5 rounded-full bg-red-500/80 hover:bg-red-500 flex items-center justify-center text-white font-bold text-xs focus:outline-none transition-colors",children:"✕"})]})]}),f.jsx("div",{className:"flex-grow p-1 overflow-auto",children:i})]})},Ow=({apps:r,themeColor:n,onOpenApp:l,onClose:i})=>f.jsx("div",{className:"absolute bottom-14 left-1/2 -translate-x-1/2 glass-pane p-4 w-full max-w-lg z-50 animate-fade-in-up",children:f.jsx("div",{className:"grid grid-cols-4 gap-4",children:r.map(u=>{const d=u.icon;return f.jsxs("button",{onClick:()=>{l(u),i()},className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:bg-white/20 transition-colors text-center",children:[f.jsx("div",{className:"text-4xl",children:f.jsx(d,{className:n})}),f.jsx("span",{className:"text-white text-xs mt-2 break-words",children:u.title})]},u.id)})})}),Aw=({onLogout:r,user:n})=>{const{wallpaper:l,themeColor:i}=v0(),[u,d]=N.useState([]),[h,g]=N.useState(null),[p,v]=N.useState(!1),[b,x]=N.useState(new Date),[w,O]=N.useState(null),{isMobile:k,isTablet:B}=Tw(),z=N.useMemo(()=>[{id:"dashboard",title:"Dashboard",icon:E_},{id:"contas_pagar",title:"Contas a Pagar",icon:u0},{id:"fluxo_caixa",title:"Fluxo de Caixa",icon:c0},{id:"faturamento_com_nf",title:"Faturamento c/ NF",icon:d0},{id:"faturamento_sem_nf",title:"Faturamento s/ NF",icon:f0}],[]),W=N.useMemo(()=>[...z,{id:"personalization",title:"Personalização",icon:N_},{id:"user_management",title:"Gerenciar Usuários",icon:h0}],[z]);N.useEffect(()=>{const H=setInterval(()=>{x(new Date)},3e4);return()=>clearInterval(H)},[]);const I=N.useCallback(H=>{d(P=>P.filter(ae=>ae.id!==H)),h===H&&g(null)},[h]);N.useEffect(()=>{const H=P=>{P.key==="Escape"&&(p&&v(!1),w&&O(null))};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[p,w]);const K=H=>{switch(H){case"dashboard":return f.jsx(mw,{});case"contas_pagar":return f.jsx(vw,{});case"fluxo_caixa":return f.jsx(yw,{});case"faturamento_com_nf":return f.jsx(_w,{});case"faturamento_sem_nf":return f.jsx(xw,{});case"personalization":return f.jsx(Sw,{});case"user_management":return f.jsx(Ew,{});default:return null}},Q=H=>{if(k||B){O(H);return}if(u.find(P=>P.id===H.id))ce(H.id);else{const P=K(H.id);if(P){const ae={...H,component:P};d(je=>[...je,ae]),g(H.id)}}},ce=H=>{h!==H&&(g(H),d(P=>{const ae=P.find(le=>le.id===H);return ae?[...P.filter(le=>le.id!==H),ae]:P}))},U=b.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Y=b.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),se=()=>f.jsx("div",{className:"h-full w-full flex flex-col",children:w?f.jsxs("div",{className:"absolute inset-0 bg-slate-900 z-50 flex flex-col",children:[f.jsxs("header",{className:"flex items-center p-2 bg-black/30 border-b border-slate-700",children:[f.jsx("button",{onClick:()=>O(null),className:"p-2 rounded-full hover:bg-white/10",children:f.jsx(C_,{className:"h-6 w-6 text-white"})}),f.jsx("h1",{className:"text-lg font-bold text-white ml-2",children:w.title})]}),f.jsx("div",{className:"flex-grow overflow-y-auto",children:K(w.id)})]}):f.jsxs(f.Fragment,{children:[f.jsxs("main",{className:"flex-grow p-4 overflow-y-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Aplicativos"}),f.jsx("div",{className:`grid gap-4 ${k?"grid-cols-3 sm:grid-cols-4":"grid-cols-4 md:grid-cols-6"}`,children:W.map(H=>{const P=H.icon;return f.jsxs("button",{onClick:()=>Q(H),className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:bg-white/20 transition-colors text-center",children:[f.jsx("div",{className:`text-4xl ${k?"text-3xl":"text-4xl"}`,children:f.jsx(P,{className:i})}),f.jsx("span",{className:`text-white mt-2 break-words w-full ${k?"text-xs":"text-sm"}`,children:H.title})]},H.id)})})]}),f.jsxs("footer",{className:"h-12 bg-black/40 backdrop-blur-2xl flex items-center justify-between px-4 border-t border-white/10",children:[f.jsxs("div",{className:"text-white text-xs font-semibold text-center",children:[f.jsx("div",{children:U}),f.jsx("div",{children:Y})]}),f.jsx("button",{onClick:r,title:"Sair do sistema",className:"text-white bg-red-600/80 hover:bg-red-600 rounded-md px-3 py-1.5 text-sm transition-colors",children:"Sair"})]})]})}),X=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-grow p-4 flex flex-col flex-wrap content-start gap-2",children:z.map(H=>{const P=H.icon;return f.jsxs("button",{onDoubleClick:()=>Q(H),className:"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-white/10 focus:outline-none focus:bg-white/20 transition-colors text-center w-28 h-24",title:`Abrir ${H.title}`,children:[f.jsx("div",{className:"text-4xl",children:f.jsx(P,{className:i})}),f.jsx("span",{className:"text-white text-xs mt-2 break-words w-full",children:H.title})]},H.id)})}),u.map((H,P)=>f.jsx(Nw,{id:H.id,title:H.title,icon:H.icon,onClose:I,onFocus:ce,zIndex:10+P,initialPosition:{x:Math.max(50,150+P*30),y:Math.max(50,100+P*30)},children:H.component},H.id)),p&&f.jsx(Ow,{apps:W,themeColor:i,onOpenApp:Q,onClose:()=>v(!1)}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-black/40 backdrop-blur-2xl flex items-center justify-between px-2 border-t border-white/10",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{onClick:()=>v(!p),className:`p-2 rounded-md transition-colors ${p?"bg-white/20":"hover:bg-white/10"}`,children:f.jsx(T_,{})}),u.map(H=>{const P=H.icon,ae=h===H.id;return f.jsxs("button",{onClick:()=>ce(H.id),className:`relative p-1 rounded-md transition-colors ${ae?"bg-white/10":"hover:bg-white/10"}`,title:H.title,children:[f.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:f.jsx(P,{className:i})}),f.jsx("div",{className:`absolute bottom-0 left-1/2 -translate-x-1/2 h-1 w-6 rounded-full bg-white transition-opacity ${ae?"opacity-100":"opacity-0"}`})]},H.id)})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-white text-xs font-semibold text-center",children:[f.jsx("div",{children:U}),f.jsx("div",{children:Y})]}),f.jsx("button",{onClick:r,title:"Sair do sistema",className:"text-white bg-red-600/80 hover:bg-red-600 rounded-md px-3 py-1.5 text-sm transition-colors",children:"Sair"})]})]})]});return f.jsx("div",{className:"h-screen w-screen bg-cover bg-center overflow-hidden flex flex-col transition-all duration-500",style:{backgroundImage:`url('${l}')`},children:k||B?f.jsx(se,{}):f.jsx(X,{})})},hg={wallpaper:r0[0],themeColor:o0[0].class},g0=N.createContext(void 0),Cw=({children:r})=>{const[n,l]=N.useState(()=>{try{const d=localStorage.getItem("desktop-settings");return d?JSON.parse(d):hg}catch{return hg}});N.useEffect(()=>{try{localStorage.setItem("desktop-settings",JSON.stringify(n))}catch(d){console.error("Failed to save settings:",d)}},[n]);const i=d=>l(h=>({...h,wallpaper:d})),u=d=>l(h=>({...h,themeColor:d}));return f.jsx(g0.Provider,{value:{...n,setWallpaper:i,setThemeColor:u},children:r})},v0=()=>{const r=N.useContext(g0);if(r===void 0)throw new Error("useSettings must be used within a SettingsProvider");return r},p0=N.createContext(void 0),Rw=({children:r})=>{const[n,l]=N.useState({contasPagar:[],fluxoCaixa:[],faturamentoComNF:[],faturamentoSemNF:[]}),[i,u]=N.useState(!0),[d,h]=N.useState([]),g=N.useCallback((v,b="success")=>{const x=Date.now();h(w=>[...w,{id:x,message:v,type:b}]),setTimeout(()=>{h(w=>w.filter(O=>O.id!==x))},5e3)},[]),p=N.useCallback(async()=>{u(!0);try{const[v,b,x,w]=await Promise.all([sw(),lw(),iw(),rw()]);l({contasPagar:v,fluxoCaixa:b,faturamentoComNF:x,faturamentoSemNF:w})}catch(v){console.error("Failed to fetch data:",v),g("Erro ao carregar os dados. Verifique sua conexão.","error")}finally{u(!1)}},[g]);return N.useEffect(()=>{p()},[p]),f.jsxs(p0.Provider,{value:{data:n,loading:i,refreshData:p,showNotification:g},children:[r,f.jsx("div",{className:"fixed bottom-14 right-4 z-[100] w-full max-w-xs space-y-3",children:d.map(v=>f.jsxs("div",{className:`glass-pane-light flex items-center gap-3 p-4 rounded-lg shadow-lg text-white font-semibold animate-fade-in-up ${v.type==="success"?"bg-green-500/30 border-green-500/50":"bg-red-500/30 border-red-500/50"}`,children:[v.type==="success"?f.jsx(O_,{className:"h-6 w-6 text-green-400"}):f.jsx(A_,{className:"h-6 w-6 text-red-400"}),f.jsx("span",{children:v.message})]},v.id))})]})},Cs=()=>{const r=N.useContext(p0);if(r===void 0)throw new Error("useAppData must be used within an AppProvider");return r};function Dw(){const[r,n]=N.useState(()=>!!localStorage.getItem("isAuthenticated")),[l,i]=N.useState(null),u=h=>{localStorage.setItem("isAuthenticated","true"),localStorage.setItem("user",JSON.stringify(h)),n(!0),i(h)},d=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user"),n(!1),i(null)};return r?f.jsx(Aw,{onLogout:d,user:l}):f.jsx(ow,{onLogin:u})}const y0=document.getElementById("root");if(!y0)throw new Error("Could not find root element to mount to");const Mw=Fp.createRoot(y0);Mw.render(f.jsx(Yp.StrictMode,{children:f.jsx(Cw,{children:f.jsx(Rw,{children:f.jsx(Dw,{})})})}));
